<!-- Copyright (c) 1998-2001 The Regents of the University of California. -->
<!-- All rights reserved. See the file COPYRIGHT for details.             -->
<html>
<head>
  <title>Constructing composite figures</title>
<!--header-->
  <LINK href="../../../diva.css" rel="stylesheet" type="text/css">
<!--/header-->
</head>
<body bgcolor="#ffffff">
<!--navbar-->


<!--/navbar-->


<h1>Constructing composite figures</h1>

<p><B>CompositeFigureTutorial</B>

<p>
<img src="images/CompositeFigureTutorial.gif" align="right">

<p>

This is a simple tutorial that demonstrates how to use the
CompositeFigure class. It instantiates a composite figure which
contains a square (which represents the body of a component) and four
circles (which represents "ports" on the component).  The ports can be
moved and scaled independently of the body, and when the body is
scaled, the ports are scaled proportionally.

<p>
In general, it would be better to create a custom class for something
like a component with port -- the purpose here is simply
to illustrate how to use this class. The way that the composite figure
is created is straight-forward:

<pre>
    CompositeFigure tc = new CompositeFigure();
</pre>

<P> Adding child figures to the composite figure is also straight-forward.
For example,
<pre>
    Figure p1 = new BasicEllipse(150.0, 100.0, 20.0, 20.0, Color.red);
    p1.translate(-10,-10);
    tc.add(p1);
</pre>

(The call to translate is there simply because it was easier to
figure out the coordinates of all the figures relative to their centers.
The translate() moves the center to the coordinates set in
the call to the constructor.)

<p>
In this tutorial we also introduce the notion of controllers and
interactors. Any but the simplest interactive graphical applications
should have a <i>controller</i> object that takes care of managing
user interaction.  The class
<b>diva.canvas.toolbox.BasicController</b> is a very basic interaction
controller that we use in some of the tutorials. It contains an object
called a DragInteractor that is used to move figures about on the
screen:

<pre>
    BasicController controller = new BasicController(graphicsPane);
    Interactor defaultInteractor = controller.getSelectionInteractor();
</pre>

<p>
To make each figure respond to the mouse, we just give it the
interactor. For example,

<pre>
    p1.setInteractor(defaultInteractor);
</pre>

In this example, an interactor is set up on each port so that they
can be dragged independently, and an interactor is set up on
the composite figure itself, so dragging on any figure that is
not part of the background itself will drag the whole figure and
its contents.

<p>
(Interactors are described in more detail in a later section.)


<!--contents-->

<!--/contents-->

<p>
<!--navigation-->
<br>
<a href="index.html">  <img  border=0  src="../../../images/nav-top.gif"  alt="Top: The Diva Canvas Tutorial"></a>
<a href="FigureTutorial.html">  <img  border=0  src="../../../images/nav-prev.gif"  alt="Previous: Creating your own Figure class"></a>
<a href="basic.html">  <img  border=0  src="../../../images/nav-section.gif"  alt="Up: Basic tutorials"></a>
<a href="DragTutorial.html">  <img  border=0  src="../../../images/nav-next.gif"  alt="Next: Drag interators"></a>

<br>

<!--/navigation-->

<!--customfooter-->

<!--/customfooter-->
</body>
</html>





