<!-- : $Id$
  @author: 
 -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
<title>FFT</title>
</head>
<body>
<H1>FFT</H1>
This model shows the use of background process for long running tasks in 
the TM domain. There are two composite actors in this model, both 
implemented in SDF. One of them, the signal generator, has a short
execution time, and is treated as an atomic execution. The other, 
implementing the FFT algorithm, has a long execution time, and is 
executed in a separate thread.
<P>
The FFT diagram model can be created in the Ptolemy II schematic editor
called Vergil, as shown below:
<CENTER>
<P>
<!-- HTML CONVERTER -->
<SCRIPT LANGUAGE="JavaScript"><!--
    var _info = navigator.userAgent; 
    var _ns = false; 
    var _ns6 = false;
    var _ie = (_info.indexOf("MSIE") > 0 && _info.indexOf("Win") > 0 && _info.indexOf("Windows 3.1") < 0);
//--></SCRIPT>
    <COMMENT>
        <SCRIPT LANGUAGE="JavaScript1.1"><!--
        var _ns6 = (_info.indexOf("Mozilla/5") >= 0);
        var _ns = (navigator.appName.indexOf("Netscape") >= 0 && ((_info.indexOf("Win") > 0     && _info.indexOf("Win16") < 0 && java.lang.System.getProperty("os.version").indexOf("3.5") < 0) || (_info.indexOf("Sun") > 0) || (_info.indexOf("Linux") > 0) || (_info.indexOf("AIX") > 0) || (_info.indexOf("OS/2") > 0) || (_info.indexOf("IRIX") > 0 )));
//--></SCRIPT>
    </COMMENT>

<SCRIPT LANGUAGE="JavaScript"><!--
    if (_ie == true) document.writeln('\
        <OBJECT \
            classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" \
            width = "600" \
            height = "400"  \
            codebase="http://java.sun.com/products/plugin/autodl/jinstall-1_4_2-windows-i586.cab#Version=1,4,2"> \
            <PARAM NAME = "code" \
                   VALUE = "ptolemy.vergil.MoMLViewerApplet" > \
	    <PARAM NAME = "codebase"   VALUE = "../../../../.." > \
	    <PARAM NAME = "archive" \
                   VALUE = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" > \
            <PARAM NAME = "type" \
                   VALUE = "application/x-java-applet;version=1.4.2" > \
            <PARAM NAME = "progressbar" VALUE = "true"> \
            <PARAM NAME = "scriptable" VALUE = "false" > \
            <PARAM NAME = "NAME" VALUE = "FFTViewer" > \
	    <PARAM NAME = "background" VALUE = "#faf0e6" > \
	    <PARAM NAME = "model" VALUE = "FFT.xml" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "true" > \
            <a href="FFT.xml">MoML specification for this model.</a> \
        </OBJECT> \
        ');
    else if (_ns == true || _ns6 == true)
         document.writeln('\
        <COMMENT> \
          <EMBED \
            type = "application/x-java-applet;version=1.4.2" \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" \
            width = "600" \
            height = "400" \
            NAME = "FFTViewer" background = "#faf0e6" model = "FFT.xml" includeRunPanel = "true"  \
            progressbar = "true" \
            scriptable = "false" \
            pluginspage = "http://java.sun.com/j2se/1.4.2/download.html"> \
              <NOEMBED> \
              <a href="FFT.xml">MoML specification for this model.</a> \
              </NOEMBED> \
           </EMBED> \
        <COMMENT> \
        ');
    else document.writeln('\
        <APPLET \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" \
            width = "600" \
            height = "400" \
            > \
            <PARAM NAME = "NAME" VALUE = "FFTViewer" > \
	    <PARAM NAME = "background" VALUE = "#faf0e6" > \
	    <PARAM NAME = "model" VALUE = "FFT.xml" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "true" > \
            <a href="FFT.xml">MoML specification for this model.</a> \
        </APPLET> \
        ');
//--></SCRIPT>
<!-- /HTML CONVERTER -->
</CENTER>
The inside of the Atomic Composite Actor (Noisy Sine)
is show below:
<CENTER>
<P>
<!-- HTML CONVERTER -->
<SCRIPT LANGUAGE="JavaScript"><!--
    var _info = navigator.userAgent; 
    var _ns = false; 
    var _ns6 = false;
    var _ie = (_info.indexOf("MSIE") > 0 && _info.indexOf("Win") > 0 && _info.indexOf("Windows 3.1") < 0);
//--></SCRIPT>
    <COMMENT>
        <SCRIPT LANGUAGE="JavaScript1.1"><!--
        var _ns6 = (_info.indexOf("Mozilla/5") >= 0);
        var _ns = (navigator.appName.indexOf("Netscape") >= 0 && ((_info.indexOf("Win") > 0     && _info.indexOf("Win16") < 0 && java.lang.System.getProperty("os.version").indexOf("3.5") < 0) || (_info.indexOf("Sun") > 0) || (_info.indexOf("Linux") > 0) || (_info.indexOf("AIX") > 0) || (_info.indexOf("OS/2") > 0) || (_info.indexOf("IRIX") > 0 )));
//--></SCRIPT>
    </COMMENT>

<SCRIPT LANGUAGE="JavaScript"><!--
    if (_ie == true) document.writeln('\
        <OBJECT \
            classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" \
            width = "600" \
            height = "250"  \
            codebase="http://java.sun.com/products/plugin/autodl/jinstall-1_4_2-windows-i586.cab#Version=1,4,2"> \
            <PARAM NAME = "code" \
                   VALUE = "ptolemy.vergil.MoMLViewerApplet" > \
	    <PARAM NAME = "codebase"   VALUE = "../../../../.." > \
	    <PARAM NAME = "archive" \
                   VALUE = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" > \
            <PARAM NAME = "type" \
                   VALUE = "application/x-java-applet;version=1.4.2" > \
            <PARAM NAME = "progressbar" VALUE = "true"> \
            <PARAM NAME = "scriptable" VALUE = "false" > \
            <PARAM NAME = "NAME" VALUE = "FFTViewer.atomicCompositeActor" > \
	    <PARAM NAME = "background" VALUE = "#faf0e6" > \
	    <PARAM NAME = "model" VALUE = "FFT.xml#Atomic Composite Actor (Noisy Sine)" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "false" > \
            <a href="FFT.xml">MoML specification for this model.</a> \
        </OBJECT> \
        ');
    else if (_ns == true || _ns6 == true)
         document.writeln('\
        <COMMENT> \
          <EMBED \
            type = "application/x-java-applet;version=1.4.2" \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" \
            width = "600" \
            height = "250" \
            NAME = "FFTViewer.atomicCompositeActor" background = "#faf0e6" model = "FFT.xml#Atomic Composite Actor (Noisy Sine)" includeRunPanel = "false"  \
            progressbar = "true" \
            scriptable = "false" \
            pluginspage = "http://java.sun.com/j2se/1.4.2/download.html"> \
              <NOEMBED> \
              <a href="FFT.xml">MoML specification for this model.</a> \
              </NOEMBED> \
           </EMBED> \
        <COMMENT> \
        ');
    else document.writeln('\
        <APPLET \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" \
            width = "600" \
            height = "250" \
            > \
            <PARAM NAME = "NAME" VALUE = "FFTViewer.atomicCompositeActor" > \
	    <PARAM NAME = "background" VALUE = "#faf0e6" > \
	    <PARAM NAME = "model" VALUE = "FFT.xml#Atomic Composite Actor (Noisy Sine)" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "false" > \
            <a href="FFT.xml">MoML specification for this model.</a> \
        </APPLET> \
        ');
//--></SCRIPT>
<!-- /HTML CONVERTER -->
</CENTER>
<p>

The inside of the TMCompositeFacade (FFT) is show below:
<CENTER>
<P>
<!-- HTML CONVERTER -->
<SCRIPT LANGUAGE="JavaScript"><!--
    var _info = navigator.userAgent; 
    var _ns = false; 
    var _ns6 = false;
    var _ie = (_info.indexOf("MSIE") > 0 && _info.indexOf("Win") > 0 && _info.indexOf("Windows 3.1") < 0);
//--></SCRIPT>
    <COMMENT>
        <SCRIPT LANGUAGE="JavaScript1.1"><!--
        var _ns6 = (_info.indexOf("Mozilla/5") >= 0);
        var _ns = (navigator.appName.indexOf("Netscape") >= 0 && ((_info.indexOf("Win") > 0     && _info.indexOf("Win16") < 0 && java.lang.System.getProperty("os.version").indexOf("3.5") < 0) || (_info.indexOf("Sun") > 0) || (_info.indexOf("Linux") > 0) || (_info.indexOf("AIX") > 0) || (_info.indexOf("OS/2") > 0) || (_info.indexOf("IRIX") > 0 )));
//--></SCRIPT>
    </COMMENT>

<SCRIPT LANGUAGE="JavaScript"><!--
    if (_ie == true) document.writeln('\
        <OBJECT \
            classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" \
            width = "600" \
            height = "250"  \
            codebase="http://java.sun.com/products/plugin/autodl/jinstall-1_4_2-windows-i586.cab#Version=1,4,2"> \
            <PARAM NAME = "code" \
                   VALUE = "ptolemy.vergil.MoMLViewerApplet" > \
	    <PARAM NAME = "codebase"   VALUE = "../../../../.." > \
	    <PARAM NAME = "archive" \
                   VALUE = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" > \
            <PARAM NAME = "type" \
                   VALUE = "application/x-java-applet;version=1.4.2" > \
            <PARAM NAME = "progressbar" VALUE = "true"> \
            <PARAM NAME = "scriptable" VALUE = "false" > \
            <PARAM NAME = "NAME" VALUE = "FFTViewer" > \
	    <PARAM NAME = "background" VALUE = "#faf0e6" > \
	    <PARAM NAME = "model" VALUE = "FFT.xml#TMCompositeFacade (FFT)" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "false" > \
            <a href="FFT.xml">MoML specification for this model.</a> \
        </OBJECT> \
        ');
    else if (_ns == true || _ns6 == true)
         document.writeln('\
        <COMMENT> \
          <EMBED \
            type = "application/x-java-applet;version=1.4.2" \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" \
            width = "600" \
            height = "250" \
            NAME = "FFTViewer" background = "#faf0e6" model = "FFT.xml#TMCompositeFacade (FFT)" includeRunPanel = "false"  \
            progressbar = "true" \
            scriptable = "false" \
            pluginspage = "http://java.sun.com/j2se/1.4.2/download.html"> \
              <NOEMBED> \
              <a href="FFT.xml">MoML specification for this model.</a> \
              </NOEMBED> \
           </EMBED> \
        <COMMENT> \
        ');
    else document.writeln('\
        <APPLET \
            code = "ptolemy.vergil.MoMLViewerApplet" \
            codebase = "../../../../.." \
            archive = "ptolemy/ptsupport.jar,lib/diva.jar,ptolemy/vergil/vergilApplet.jar,ptolemy/domains/sdf/sdf.jar,ptolemy/domains/de/de.jar,ptolemy/domains/tm/tm.jar" \
            width = "600" \
            height = "250" \
            > \
            <PARAM NAME = "NAME" VALUE = "FFTViewer" > \
	    <PARAM NAME = "background" VALUE = "#faf0e6" > \
	    <PARAM NAME = "model" VALUE = "FFT.xml#TMCompositeFacade (FFT)" > \
	    <PARAM NAME = "includeRunPanel" VALUE = "false" > \
            <a href="FFT.xml">MoML specification for this model.</a> \
        </APPLET> \
        ');
//--></SCRIPT>
<!-- /HTML CONVERTER -->
</CENTER>
<p>

</body>
</html>
