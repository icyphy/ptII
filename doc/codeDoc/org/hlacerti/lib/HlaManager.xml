<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="HlaManager" class="org.hlacerti.lib.HlaManager">
  <description>
This class implements a HLA Manager which allows a Ptolemy model to&#10; cooperate with a HLA/CERTI Federation. The main goal is to allow a Ptolemy&#10; simulation as Federate of a Federation.&#10;&#10; &lt;p&gt;The High Level Architecture (HLA) [1][2] is a standard for distributed&#10; discrete-event simulation. A complex simulation in HLA is called a HLA&#10; Federation. A Federation is a collection of Federates (e.g. simpler simulators),&#10; each performing a sequence of computations, interconnected by a Run&#10; Time Infrastructure (RTI).&lt;/p&gt;&#10;&#10; &lt;p&gt;CERTI is an Open-Source middleware RTI compliant with HLA [NRS09] which&#10; manages every part of federation. It also ensures a real-time behavior of&#10; a federation execution. CERTI is implemented in C++ and bindings are&#10; provided as JCERTI for Java and PyHLA for Python. For more information see:&#10; &lt;a href=&quot;http://savannah.nongnu.org/projects/certi&quot; target=&quot;_top&quot;&gt;http://savannah.nongnu.org/projects/certi&lt;/a&gt;&lt;/p&gt;&#10;&#10; &lt;p&gt;The &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt; attribute handles the time synchronization between&#10; Ptolemy model time and HLA logical time by implementing the &lt;a href=&quot;../../../ptolemy/actor/TimeRegulator.xml&quot;&gt;ptolemy.actor.TimeRegulator&lt;/a&gt;&#10; interface. It also manages objects that implement interfaces provided by&#10; JCERTI relatives to Federation, Declaration, Object and Time management&#10; areas in HLA (each management areas provides a set of services).&#10; &lt;/p&gt;&#10; To develop a HLA Federation it is required to specify a Federate Object&#10; Model (FOM) which describes the architecture of the Federation (HLA version,&#10; name of Federates which belong to, shared HLA attributes) and the interaction&#10; between Federates and shared attributes. Data exchanged in a HLA Federation&#10; are called HLA attributes and their interaction mechanism is based on the&#10; publish/subscribe paradigm. The FOM is specified in a .fed file used by&#10; the RTI (e.g. by the RTIG process when using CERTI). More information in [3].&#10; &lt;p&gt; &lt;a href=&quot;http://savannah.nongnu.org/projects/certi&quot; target=&quot;_top&quot;&gt;http://savannah.nongnu.org/projects/certi&lt;/a&gt;&lt;/p&gt;&#10; &lt;p&gt; To enable a Ptolemy model as a Federate, the &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt; has to be&#10; deployed and configured (by double-clicking on the attribute).&#10; Parameters &lt;i&gt;federateName&lt;/i&gt;, &lt;i&gt;federationName&lt;/i&gt; have to match the&#10; declaration in the FOM (.fed file). &lt;i&gt;fedFile&lt;/i&gt; specifies the FOM file and&#10; its path.&lt;/p&gt;&#10;&#10; &lt;p&gt;Parameters &lt;i&gt;useNextEventRequest&lt;/i&gt;, &lt;i&gt;UseTimeAdvanceRequest&lt;/i&gt;,&#10; &lt;i&gt;isTimeConstrained&lt;/i&gt; and &lt;i&gt;isTimeRegulator&lt;/i&gt; are&#10; used to configure the HLA time management services of the Federate. A&#10; Federate can only specify the use of the &lt;i&gt;nextEventRequest()&#10; service&lt;/i&gt; or the &lt;i&gt;timeAdvanceRequest()&lt;/i&gt; service at a time.&#10; &lt;i&gt;istimeConstrained&lt;/i&gt; is used to specify time-constrained Federate and&#10; &lt;i&gt;istimeRegulator&lt;/i&gt; to specify time-regulator Federate. The combination of&#10; both parameters is possible and is recommended.&lt;/p&gt;&#10;&#10; &lt;p&gt;Parameters, &lt;i&gt;hlaStepTime&lt;/i&gt; and &lt;i&gt;hlaLookAHead&lt;/i&gt;&#10; are used to specify Hla Timing attributes of a Federate.&lt;/p&gt;&#10;&#10; &lt;p&gt;Parameters &lt;i&gt;requireSynchronization&lt;/i&gt;, &lt;i&gt;synchronizationPointName&lt;/i&gt;&#10; and &lt;i&gt;isCreatorSyncPt&lt;/i&gt; are used to configure HLA synchronization point.&#10; This mechanism is usually used to synchronize the Federates, during their&#10; initialization, to avoid that Federates that only consume some HLA&#10; attributes finished their simulation before the other federates have started.&#10; &lt;i&gt;isCreatorSyncPt&lt;/i&gt; indicates if the Federate is the creator of the&#10; synchronization. Only one Federate can create the named synchronization&#10; point for the whole HLA Federation.&lt;/p&gt;&#10;&#10; &lt;p&gt;&lt;a href=&quot;../../../org/hlacerti/lib/HlaPublisher.xml&quot;&gt;org.hlacerti.lib.HlaPublisher&lt;/a&gt; and &lt;a href=&quot;../../../org/hlacerti/lib/HlaSubscriber.xml&quot;&gt;org.hlacerti.lib.HlaSubscriber&lt;/a&gt; actors are used to&#10; respectively publish and subscribe to HLA attributes. The name of those&#10; actors and their &lt;i&gt;classObjectHandle&lt;/i&gt; parameter have to match the&#10; identifier of the shared HLA attributes and their object class that they&#10; belong to, specified in the FOM (.fed file).&lt;/p&gt;&#10;&#10; &lt;p&gt;For a correct execution, the &lt;i&gt;CERTI_HOME&lt;/i&gt; environment variable has to&#10; be set. It could be set in the shell (by running one of the scripts provided&#10; by CERTI) where Vergil is executed, or as a parameter of the Ptolemy model&#10; or as a parameter of the &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt;:&lt;/p&gt;&#10; &lt;pre&gt;&#10; CERTI_HOME=&quot;/absolute/path/to/certi/&quot;&#10; &lt;/pre&gt;&#10;&#10; &lt;p&gt;Otherwise, the current implementation is not able to find the CERTI&#10; environment, the RTIG binary and to perform its execution. See also&#10; the &lt;a href=&quot;../../../org/hlacerti/lib/CertiRtig.xml&quot;&gt;org.hlacerti.lib.CertiRtig&lt;/a&gt; class.&lt;/p&gt;&#10;&#10; &lt;p&gt;NOTE: For a correct behavior CERTI has to be compiled with the option&#10; &quot;CERTI_USE_NULL_PRIME_MESSAGE_PROTOCOL&quot;&#10; &lt;/p&gt;&#10;&#10; &lt;p&gt;&lt;b&gt;References&lt;/b&gt;:&lt;/p&gt;&#10;&#10; &lt;p&gt;[1] Dpt. of Defense (DoD) Specifications, &quot;High Level Architecture Interface&#10;     Specification, Version 1.3&quot;, DOD/DMSO HLA IF 1.3, Tech. Rep., Apr 1998.&lt;/p&gt;&#10; &lt;p&gt;[2] IEEE, &quot;IEEE standard for modeling and simulation High Level Architecture&#10;     (HLA)&quot;, IEEE Std 1516-2010, vol. 18, pp. 1-38, 2010.&lt;/p&gt;&#10; &lt;p&gt;[3] D. of Defense (DoD) Specifications, &quot;High Level Architecture Object Model&#10;     Template, Version 1.3&quot;, DOD/DMSO OMT 1.3, Tech. Rep., Feb 1998.&lt;/p&gt;&#10; &lt;p&gt;[4] E. Noulard, J.-Y. Rousselot, and P. Siron, &quot;CERTI, an open source RTI,&#10;     why and how ?&quot;, Spring Simulation Interoperability Workshop, pp. 23-27,&#10;     Mar 2009.&lt;/p&gt;&#10; &lt;p&gt;[5] Y. Li, J. Cardoso, and P. Siron, &quot;A distributed Simulation Environment for&#10;     Cyber-Physical Systems&quot;, Sept 2015.&lt;/p&gt;  </description>
  <author>Gilles Lasnier, Contributors: Patricia Derler, Edward A. Lee, David Come, Yanxuan LI</author>
  <version>$Id$</version>
  <since>Ptolemy II 10.0</since>
  <Pt.ProposedRating>Yellow (glasnier)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (glasnier)</Pt.AcceptedRating>
    <!--ptolemy.data.expr.Parameter-->
    <property name="federateName">Name of the Ptolemy Federate. This parameter must contain an&#10;  StringToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="federationName">Name of the federation. This parameter must contain an StringToken.</property>
    <!--ptolemy.data.expr.FileParameter-->
    <property name="fedFile">Path and name of the Federate Object Model (FOM) file. This parameter&#10;  must contain an StringToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="hlaTimeUnit">Double value for representing how much is a unit of time in the simulation.&#10; Has an impact on TAR/NER/RAV/UAV.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="isCreator">Boolean value, 'true' if the Federate is the creator of the&#10;  synchronization point 'false' if not. This parameter must contain&#10;  an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="isTimeConstrained">Boolean value, 'true' if the Federate is declared time constrained&#10;  'false' if not. This parameter must contain an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="isTimeRegulator">Boolean value, 'true' if the Federate is declared time regulator&#10;  'false' if not. This parameter must contain an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="hlaTimeStep">Value of the time step of the Federate. This parameter must contain&#10;  an DoubleToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="hlaLookAHead">Value of the lookahead of the HLA ptII federate. This parameter&#10;  must contain an DoubleToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="requireSynchronization">Boolean value, 'true' if the Federate is synchronised with other&#10;  Federates using a HLA synchronization point, 'false' if not. This&#10;  parameter must contain an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="synchronizationPointName">Name of the synchronization point (if required). This parameter must&#10;  contain an StringToken.</property>
    <!--ptolemy.data.expr.ChoiceParameter-->
    <property name="timeManagementService">Choice of time advancement service (NER or exclusive TAR).</property>
</doc>
