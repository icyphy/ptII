<?xml version="1.0" standalone="no"?>
<!DOCTYPE class PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<class name="DCMotor" extends="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="I" class="ptolemy.data.expr.Parameter" value="3.88E-7">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 90.0]">
        </property>
    </property>
    <property name="kb" class="ptolemy.data.expr.Parameter" value="2.75E-4">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 115.0]">
        </property>
    </property>
    <property name="kT" class="ptolemy.data.expr.Parameter" value="5.9E-3">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 140.0]">
        </property>
    </property>
    <property name="R" class="ptolemy.data.expr.Parameter" value="1.71">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 165.0]">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={74, 117, 1184, 728}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[950, 618]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.1352657004830917">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{385.00000000000006, 314.77872340425535}">
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Back electromagnetic force constant (volts/RPM)">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 105.0]">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Torque constant (newton-meters/amp)">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 130.0]">
        </property>
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Winding resistance (ohms)">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 155.0]">
        </property>
    </property>
    <property name="Annotation4" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Moment of inertia (kg - meters^2)">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 80.0]">
        </property>
    </property>
    <property name="L" class="ptolemy.data.expr.Parameter" value="0.11E-3">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 190.0]">
        </property>
    </property>
    <property name="Annotation5" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Winding inductance (henrys)">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[90.0, 180.0]">
        </property>
    </property>
    <property name="DocViewerAttribute" class="ptolemy.kernel.util.SingletonAttribute">
        <property name="DocAttribute" class="ptolemy.vergil.basic.DocAttribute">
            <property name="description" class="ptolemy.kernel.util.StringAttribute" value="To edit the documentation that appears&#10;when the user double clicks on this icon,&#10;right click on the _background_ of the model and select&#10;Documentation-&gt;Customize Documentation.&#10;The description you are currently editing&#10;will not appear when the user double clicks on the Documentation icon.">
            </property>
        </property>
        <property name="viewer" class="ptolemy.vergil.basic.DocViewerFactory">
        </property>
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <rect x="-50" y="-20" width="100" height="20" style="fill:yellow"></rect>
        <text x="-40" y="-5" style="font-size:12; font-family:SansSerif; fill:black">Documentation</text>
      </svg>
    </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[320.0, 70.0]">
        </property>
    </property>
    <property name="DocAttribute" class="ptolemy.vergil.basic.DocAttribute">
        <property name="description" class="ptolemy.kernel.util.StringAttribute" value="Model of a motor.&#10;The inputs are the voltage applied to the motor and the torque (if any) applied by the load.&#10;If the load is a passive mass connected to the motor, then it applies no active torque.&#10;The moment of inertia of the load plus the motor should be specified in the &lt;i&gt;I&lt;/i&gt; parameter.&#10;The outputs are angular velocity (in RPM) and current (in amps) that flows through the motor.&#10;&lt;p&gt;&#10;Icon image: &quot;Electric motor cycle 2&quot;. Licensed under Creative Commons Attribution-Share Alike 3.0 via Wikimedia Commons - &lt;a href=&quot;http://commons.wikimedia.org/wiki/File:Electric_motor_cycle_2.png#mediaviewer/File:Electric_motor_cycle_2.png&quot;&gt;original file&lt;/a&gt;">
        </property>
        <property name="author" class="ptolemy.kernel.util.StringAttribute" value="Patricia Derler and Edward A. Lee">
        </property>
        <property name="version" class="ptolemy.kernel.util.StringAttribute" value="1.0">
        </property>
        <property name="since" class="ptolemy.kernel.util.StringAttribute" value="10.0">
        </property>
        <property name="I (parameter)" class="ptolemy.data.expr.StringParameter" value="The moment of inertia in kg*meters^2. The default value is a reasonable value for a small motor with no connected load.">
        </property>
        <property name="kb (parameter)" class="ptolemy.data.expr.StringParameter" value="The back electromagnetic force constant in volts/RPM.">
        </property>
        <property name="kT (parameter)" class="ptolemy.data.expr.StringParameter" value="The torque constant of the motor (an emperical quantity) in newton*meters/amps.">
        </property>
        <property name="R (parameter)" class="ptolemy.data.expr.StringParameter" value="The winding resistance of the motor in ohms.">
        </property>
        <property name="L (parameter)" class="ptolemy.data.expr.StringParameter" value="The winding inductance in henrys.">
        </property>
        <property name="voltage (port)" class="ptolemy.kernel.util.StringAttribute" value="The input voltage.">
        </property>
        <property name="loadTorque (port)" class="ptolemy.kernel.util.StringAttribute" value="The torque, if any, imposed by the load. Leave disconnected or provide 0.0 for a passive load.">
        </property>
        <property name="angularVelocity (port)" class="ptolemy.kernel.util.StringAttribute" value="The angular velocity in revolutions per minute (RPM)">
        </property>
        <property name="current (port)" class="ptolemy.kernel.util.StringAttribute" value="The current that flows through the motor.">
        </property>
        <property name="Title (parameter)" class="ptolemy.data.expr.StringParameter" value="">
        </property>
    </property>
    <property name="Annotation6" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="24">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,0.0,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Model of a DC Motor">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-25.0, 45.0]">
        </property>
    </property>
    <port name="voltage" class="ptolemy.actor.TypedIOPort">
        <property name="input"/>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[75.0, 265.0]">
        </property>
        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </port>
    <port name="loadTorque" class="ptolemy.actor.TypedIOPort">
        <property name="input"/>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 345.0]">
        </property>
        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </port>
    <port name="angularVelocity" class="ptolemy.actor.TypedIOPort">
        <property name="output"/>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 400.0]">
        </property>
        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </port>
    <port name="current" class="ptolemy.actor.TypedIOPort">
        <property name="output"/>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{725.0, 385.0}">
        </property>
        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
        </property>
    </port>
    <entity name="Scale" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="1/I">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 345.0]">
        </property>
    </entity>
    <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, 335.0}">
        </property>
    </entity>
    <entity name="Scale2" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="kb/L">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{450.0, 335.0}">
        </property>
    </entity>
    <entity name="AddSubtract2" class="ptolemy.actor.lib.AddSubtract">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{560.0, 330.0}">
        </property>
    </entity>
    <entity name="Integrator" class="ptolemy.domains.continuous.lib.Integrator">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{350.0, 335.0}">
        </property>
    </entity>
    <entity name="Scale3" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="kT/I">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{745.0, 330.0}">
        </property>
    </entity>
    <entity name="Scale4" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="1/L">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{450.0, 265.0}">
        </property>
    </entity>
    <entity name="Scale5" class="ptolemy.actor.lib.Scale">
        <property name="factor" class="ptolemy.data.expr.Parameter" value="R/L">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{745.0, 435.0}">
        </property>
    </entity>
    <entity name="Integrator2" class="ptolemy.domains.continuous.lib.Integrator">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{650.0, 330.0}">
        </property>
    </entity>
    <entity name="Default" class="ptolemy.actor.lib.Default">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 345.0]">
        </property>
    </entity>
    <entity name="Const" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, 415.0}">
        </property>
    </entity>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{790.0, 225.0}">
        </vertex>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="{690.0, 330.0}">
        </vertex>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{520.0, 485.0}">
        </vertex>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="{400.0, 335.0}">
        </vertex>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="voltage" relation="relation9"/>
    <link port="loadTorque" relation="relation10"/>
    <link port="angularVelocity" relation="relation12"/>
    <link port="current" relation="relation11"/>
    <link port="Scale.input" relation="relation8"/>
    <link port="Scale.output" relation="relation2"/>
    <link port="AddSubtract.plus" relation="relation6"/>
    <link port="AddSubtract.minus" relation="relation2"/>
    <link port="AddSubtract.output" relation="relation3"/>
    <link port="Scale2.input" relation="relation12"/>
    <link port="Scale2.output" relation="relation4"/>
    <link port="AddSubtract2.plus" relation="relation7"/>
    <link port="AddSubtract2.minus" relation="relation4"/>
    <link port="AddSubtract2.minus" relation="relation5"/>
    <link port="AddSubtract2.output" relation="relation"/>
    <link port="Integrator.derivative" relation="relation3"/>
    <link port="Integrator.state" relation="relation12"/>
    <link port="Scale3.input" relation="relation11"/>
    <link port="Scale3.output" relation="relation6"/>
    <link port="Scale4.input" relation="relation9"/>
    <link port="Scale4.output" relation="relation7"/>
    <link port="Scale5.input" relation="relation11"/>
    <link port="Scale5.output" relation="relation5"/>
    <link port="Integrator2.derivative" relation="relation"/>
    <link port="Integrator2.state" relation="relation11"/>
    <link port="Default.preferred" relation="relation10"/>
    <link port="Default.alternate" relation="relation13"/>
    <link port="Default.output" relation="relation8"/>
    <link port="Const.output" relation="relation13"/>
</class>
