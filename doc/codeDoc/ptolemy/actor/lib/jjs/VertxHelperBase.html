<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Tue Mar 20 15:58:26 UTC 2018 -->
<title>VertxHelperBase</title>
<meta name="date" content="2018-03-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VertxHelperBase";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":9,"i5":9,"i6":10,"i7":10,"i8":9,"i9":9,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/actor/lib/jjs/RestrictedJavaScriptInterface.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.AccessorVerticle.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/actor/lib/jjs/VertxHelperBase.html" target="_top">Frames</a></li>
<li><a href="VertxHelperBase.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ptolemy.actor.lib.jjs</div>
<h2 title="Class VertxHelperBase" class="title">Class VertxHelperBase</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html" title="class in ptolemy.actor.lib.jjs">ptolemy.actor.lib.jjs.HelperBase</a></li>
<li>
<ul class="inheritance">
<li>ptolemy.actor.lib.jjs.VertxHelperBase</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../ptolemy/actor/lib/jjs/modules/audio/AudioHelper.html" title="class in ptolemy.actor.lib.jjs.modules.audio">AudioHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/eventbus/EventBusHelper.html" title="class in ptolemy.actor.lib.jjs.modules.eventbus">EventBusHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/httpClient/HttpClientHelper.html" title="class in ptolemy.actor.lib.jjs.modules.httpClient">HttpClientHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/httpServer/HttpServerHelper.html" title="class in ptolemy.actor.lib.jjs.modules.httpServer">HttpServerHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/socket/SocketHelper.html" title="class in ptolemy.actor.lib.jjs.modules.socket">SocketHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/udpSocket/UDPSocketHelper.html" title="class in ptolemy.actor.lib.jjs.modules.udpSocket">UDPSocketHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/webSocket/WebSocketHelper.html" title="class in ptolemy.actor.lib.jjs.modules.webSocket">WebSocketHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/webSocket/WebSocketServerHelper.html" title="class in ptolemy.actor.lib.jjs.modules.webSocket">WebSocketServerHelper</a>, <a href="../../../../ptolemy/actor/lib/jjs/modules/xbee/XBeeHelper.html" title="class in ptolemy.actor.lib.jjs.modules.xbee">XBeeHelper</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">VertxHelperBase</span>
extends <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html" title="class in ptolemy.actor.lib.jjs">HelperBase</a></pre>
<div class="block">A base class for helper classes that use an embedded Vert.x core.
   This creates only one static Vert.x core that is accessible to its subclasses.
   It also keeps track of helpers that have been created for a particular
   actor, and provides a static method to obtain those helpers. Generally
   we will want no more than one such helper per actor. The references
   to the helpers are weak so that if the actor is garbage collected, the
   reference can be too.
   <p>
   This class also provides utilities for submitting jobs to be executed
   in an associated verticle.  This is useful for jobs that trigger future
   callbacks, because the verticle will ensure that all callbacks are called
   in the same thread.
   <p>
   Moreover, this class provides utilities for ensuring that a requested job
   has been completed, including all expected callbacks, before the next job
   is initiated. This is useful for ensuring that responses to requests
   occur in the same order as the requests themselves. To use this, when you
   make a request (e.g. using <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#submit-java.lang.Runnable-"><code>submit(Runnable)</code></a>, the subclass can
   call the protected method <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_setBusy-boolean-"><code>_setBusy(boolean)</code></a> with argument true,
   and subsequent requests will simply be queued until the subclass calls
   <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_setBusy-boolean-"><code>_setBusy(boolean)</code></a> with argument false.
   <p>
   This class also provides utilities for a subclass to issue asynchronous
   requests in order, and when callbacks occur, to execute those callbacks
   in the same order as the submitted requests. To use this, the subclass
   should assign consecutive increasing integers, starting with zero, to
   each request, and then wrap responses to that request in a Runnable
   and pass that Runnable to the protected method
   <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_issueOrDeferResponse-long-boolean-java.lang.Runnable-"><code>_issueOrDeferResponse(long, boolean, Runnable)</code></a>.
   That method will execute the Runnable only when all previous
   requests (ones with earlier sequence numbers) have had a response
   executed that indicated (with the second argument) that the request
   has been fully handled.
   This facility must be used with care: the subclass must ensure that
   every request results in at least one call to
   <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_issueOrDeferResponse-long-boolean-java.lang.Runnable-"><code>_issueOrDeferResponse(long, boolean, Runnable)</code></a>
   with the second argument being true; failing to do so will result in
   all future responses being queued and never executing.
   Using a timeout, for example, can ensure this.
   Note also that the specified Runnable will execute in the director
   thread (via a timeout mechanism with timeout equal to zero), not
   in the Verticle. Thus, subclasses that use should not directly invoke
   Vert.x functions that need to be run in the verticle in the Runnable
   that they pass. They should instead use <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#submit-java.lang.Runnable-"><code>submit(Runnable)</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Ptolemy II 11.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Hokeun Kim and Edward A. Lee</dd>

<DT><B>Accepted Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (bilung)</td></tr></table></DD>

<DT><B>Proposed Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="yellow">Yellow (eal)</td></tr></table></DD>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.AccessorVerticle.html" title="class in ptolemy.actor.lib.jjs">VertxHelperBase.AccessorVerticle</a></span></code>
<div class="block">Verticle to handle requests.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.ptolemy.actor.lib.jjs.HelperBase">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;ptolemy.actor.lib.jjs.<a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html" title="class in ptolemy.actor.lib.jjs">HelperBase</a></h3>
<code><a href="../../../../ptolemy/actor/lib/jjs/HelperBase.DATA_TYPE.html" title="enum in ptolemy.actor.lib.jjs">HelperBase.DATA_TYPE</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.AccessorVerticle.html" title="class in ptolemy.actor.lib.jjs">VertxHelperBase.AccessorVerticle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_verticle">_verticle</a></span></code>
<div class="block">Verticle supporting this helper.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static io.vertx.core.Vertx</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_vertx">_vertx</a></span></code>
<div class="block">Global (unclustered) instance of Vert.x core.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.ptolemy.actor.lib.jjs.HelperBase">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;ptolemy.actor.lib.jjs.<a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html" title="class in ptolemy.actor.lib.jjs">HelperBase</a></h3>
<code><a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_actor">_actor</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_currentObj">_currentObj</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#VertxHelperBase-java.lang.Object-jdk.nashorn.api.scripting.ScriptObjectMirror-">VertxHelperBase</a></span>(java.lang.Object&nbsp;actor,
               jdk.nashorn.api.scripting.ScriptObjectMirror&nbsp;helping)</code>
<div class="block">Construct a helper for the specified JavaScript actor and
  create a verticle that can execute submitted jobs atomically.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#VertxHelperBase-java.lang.Object-jdk.nashorn.api.scripting.ScriptObjectMirror-ptolemy.actor.lib.jjs.VertxHelperBase-">VertxHelperBase</a></span>(java.lang.Object&nbsp;actor,
               jdk.nashorn.api.scripting.ScriptObjectMirror&nbsp;helping,
               <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html" title="class in ptolemy.actor.lib.jjs">VertxHelperBase</a>&nbsp;helper)</code>
<div class="block">Construct a helper for the specified JavaScript actor and
  create a verticle that can execute submitted jobs atomically.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_issueOrDeferResponse-long-boolean-java.lang.Runnable-">_issueOrDeferResponse</a></span>(long&nbsp;requestNumber,
                     boolean&nbsp;done,
                     java.lang.Runnable&nbsp;response)</code>
<div class="block">Execute the specified response in the same order as the request
  that triggered the response.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_processPendingJob--">_processPendingJob</a></span>()</code>
<div class="block">If the verticle is not busy, process the next pending job.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_setBusy-boolean-">_setBusy</a></span>(boolean&nbsp;busy)</code>
<div class="block">Specify whether this helper is currently processing a previous
  request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#closeVertx--">closeVertx</a></span>()</code>
<div class="block">Stop the global (unclustered instance of Vert.x.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html" title="class in ptolemy.actor.lib.jjs">VertxHelperBase</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#getHelper-java.lang.Object-">getHelper</a></span>(java.lang.Object&nbsp;actor)</code>
<div class="block">Return an instance of this helper for the specified actor, if one
  has been created and not garbage collected.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#getImageTypes--">getImageTypes</a></span>()</code>
<div class="block">Return a set of informal image type names that can be sent.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#reset--">reset</a></span>()</code>
<div class="block">Reset this helper.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#submit-java.lang.Runnable-">submit</a></span>(java.lang.Runnable&nbsp;job)</code>
<div class="block">Submit a job to be executed by the associated verticle.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#supportedReceiveTypes--">supportedReceiveTypes</a></span>()</code>
<div class="block">Return an array of the types supported by the current host for
  receiveType arguments, which are the types that can be extracted from buffers.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#supportedSendTypes--">supportedSendTypes</a></span>()</code>
<div class="block">Return an array of the types supported by the current host for
  sendType arguments, which are the types that can be written to buffers.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#undeploy--">undeploy</a></span>()</code>
<div class="block">Undeploy the associated verticle.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.ptolemy.actor.lib.jjs.HelperBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;ptolemy.actor.lib.jjs.<a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html" title="class in ptolemy.actor.lib.jjs">HelperBase</a></h3>
<code><a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_appendNumericToBuffer-io.vertx.core.buffer.Buffer-java.lang.Object-ptolemy.actor.lib.jjs.HelperBase.DATA_TYPE-">_appendNumericToBuffer</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_appendToBuffer-java.lang.Object-ptolemy.actor.lib.jjs.HelperBase.DATA_TYPE-java.lang.String-io.vertx.core.buffer.Buffer-">_appendToBuffer</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_error-jdk.nashorn.api.scripting.ScriptObjectMirror-java.lang.String-">_error</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_error-jdk.nashorn.api.scripting.ScriptObjectMirror-java.lang.String-java.lang.Throwable-">_error</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_error-java.lang.String-">_error</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_error-java.lang.String-java.lang.Throwable-">_error</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_extractFromBuffer-io.vertx.core.buffer.Buffer-ptolemy.actor.lib.jjs.HelperBase.DATA_TYPE-int-">_extractFromBuffer</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_issueResponse-java.lang.Runnable-">_issueResponse</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_removeDuplicates-java.lang.String:A-">_removeDuplicates</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_sizeOfType-ptolemy.actor.lib.jjs.HelperBase.DATA_TYPE-">_sizeOfType</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_toJavaBytes-java.lang.Object-">_toJavaBytes</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#Z:Z_toJSArray-byte:A-">_toJSArray</a>, <a href="../../../../ptolemy/actor/lib/jjs/HelperBase.html#getHelping--">getHelping</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_verticle">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_verticle</h4>
<pre>protected&nbsp;<a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.AccessorVerticle.html" title="class in ptolemy.actor.lib.jjs">VertxHelperBase.AccessorVerticle</a> _verticle</pre>
<div class="block">Verticle supporting this helper.</div>
</li>
</ul>
<a name="Z:Z_vertx">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_vertx</h4>
<pre>protected static&nbsp;io.vertx.core.Vertx _vertx</pre>
<div class="block">Global (unclustered) instance of Vert.x core.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VertxHelperBase-java.lang.Object-jdk.nashorn.api.scripting.ScriptObjectMirror-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VertxHelperBase</h4>
<pre>protected&nbsp;VertxHelperBase(java.lang.Object&nbsp;actor,
                          jdk.nashorn.api.scripting.ScriptObjectMirror&nbsp;helping)</pre>
<div class="block">Construct a helper for the specified JavaScript actor and
  create a verticle that can execute submitted jobs atomically.
  This is protected to help prevent applications from creating
  more than one instance per actor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>actor</code> - The JavaScript actor that this is helping, or
   a RestrictedJavaScriptInterface proxy for that actor.</dd>
<dd><code>helping</code> - The JavaScript object that this is helping.</dd>
</dl>
</li>
</ul>
<a name="VertxHelperBase-java.lang.Object-jdk.nashorn.api.scripting.ScriptObjectMirror-ptolemy.actor.lib.jjs.VertxHelperBase-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VertxHelperBase</h4>
<pre>protected&nbsp;VertxHelperBase(java.lang.Object&nbsp;actor,
                          jdk.nashorn.api.scripting.ScriptObjectMirror&nbsp;helping,
                          <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html" title="class in ptolemy.actor.lib.jjs">VertxHelperBase</a>&nbsp;helper)</pre>
<div class="block">Construct a helper for the specified JavaScript actor and
  create a verticle that can execute submitted jobs atomically.
  This is protected to help prevent applications from creating
  more than one instance per actor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>actor</code> - The JavaScript actor that this is helping, or
   a RestrictedJavaScriptInterface proxy for that actor.</dd>
<dd><code>helping</code> - The JavaScript object that this is helping.</dd>
<dd><code>helper</code> - The helper providing the verticle and event
   handler, or null to create a new verticle and event handler.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="closeVertx--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeVertx</h4>
<pre>public static&nbsp;void&nbsp;closeVertx()</pre>
<div class="block">Stop the global (unclustered instance of Vert.x.
  This method is typically called before exiting the JVM.</div>
</li>
</ul>
<a name="getHelper-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHelper</h4>
<pre>public static&nbsp;<a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html" title="class in ptolemy.actor.lib.jjs">VertxHelperBase</a>&nbsp;getHelper(java.lang.Object&nbsp;actor)</pre>
<div class="block">Return an instance of this helper for the specified actor, if one
  has been created and not garbage collected. Return null otherwise.
  If this returns null, the client should create an instance of the appropriate
  subclass. That instance will deploy a verticle that will execute jobs
  submitted through the <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#submit-java.lang.Runnable-"><code>submit(Runnable)</code></a> method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>actor</code> - Either a JavaScript actor or a RestrictedJavaScriptInterface.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An instance of this helper for the specified actor.</dd>
</dl>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Reset this helper. This method discards any pending submitted jobs
  and marks the helper not busy.</div>
</li>
</ul>
<a name="submit-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre>public&nbsp;void&nbsp;submit(java.lang.Runnable&nbsp;job)</pre>
<div class="block">Submit a job to be executed by the associated verticle.
  The job can invoke Vert.x functionality, specifying callbacks,
  and those callbacks will be ensured of running in the same thread
  as the job itself. This can be called from any thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>job</code> - The job to execute.</dd>
</dl>
</li>
</ul>
<a name="getImageTypes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImageTypes</h4>
<pre>public static&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getImageTypes()</pre>
<div class="block">Return a set of informal image type names that can be sent.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A set of image type names.</dd>
</dl>
</li>
</ul>
<a name="supportedReceiveTypes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportedReceiveTypes</h4>
<pre>public static&nbsp;java.lang.String[]&nbsp;supportedReceiveTypes()</pre>
<div class="block">Return an array of the types supported by the current host for
  receiveType arguments, which are the types that can be extracted from buffers.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An array of types.</dd>
</dl>
</li>
</ul>
<a name="supportedSendTypes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportedSendTypes</h4>
<pre>public static&nbsp;java.lang.String[]&nbsp;supportedSendTypes()</pre>
<div class="block">Return an array of the types supported by the current host for
  sendType arguments, which are the types that can be written to buffers.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An array of types.</dd>
</dl>
</li>
</ul>
<a name="undeploy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>undeploy</h4>
<pre>public&nbsp;void&nbsp;undeploy()</pre>
<div class="block">Undeploy the associated verticle.
  Note that jobs that are submitted after this is called will
  never be executed.</div>
</li>
</ul>
<a name="Z:Z_issueOrDeferResponse-long-boolean-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_issueOrDeferResponse</h4>
<pre>protected&nbsp;void&nbsp;_issueOrDeferResponse(long&nbsp;requestNumber,
                                     boolean&nbsp;done,
                                     java.lang.Runnable&nbsp;response)</pre>
<div class="block">Execute the specified response in the same order as the request
  that triggered the response. The execution will be done in the
  director thread, not in the verticle,
  so that it is executed atomically with respect to the swarmlet
  execution. This ensures, for example, that if the response
  produces multiple output events or errors, that all those
  output events and errors are simultaneous. It also prevents
  threading issues from having the response execute concurrently
  with the swarmlet execution.

  Specifically,
  if the specified request number matches the next expected response,
  then execute the specified response. Otherwise, if there is an
  earlier expected response, then defer this one, and if a response
  has already been issued for this request, then discard this response.
  This must be called in a vert.x event loop; i.e., it should be called
  only within handlers for vert.x objects.

  Specifically:
  If the requestNumber matches the _nextResponse number, then
  execute the specified response.
  If the requestNumber is less than _nextResponse, then queue the
  response for later execution.
  If the requestNumber is greater than _nextResponse, then discard
  the response.
  If the done argument is true,
  then after this response is executed, increment the _nextResponse
  number and check for any deferred requests that match that new
  number, and execute that one.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestNumber</code> - The number of the request.</dd>
<dd><code>done</code> - True to indicate that this request is complete.</dd>
<dd><code>response</code> - The response to execute.</dd>
</dl>
</li>
</ul>
<a name="Z:Z_processPendingJob--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_processPendingJob</h4>
<pre>protected&nbsp;void&nbsp;_processPendingJob()</pre>
<div class="block">If the verticle is not busy, process the next pending job.
  This method should be called only by the verticle.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#Z:Z_setBusy-boolean-"><code>_setBusy(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="Z:Z_setBusy-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_setBusy</h4>
<pre>protected&nbsp;void&nbsp;_setBusy(boolean&nbsp;busy)</pre>
<div class="block">Specify whether this helper is currently processing a previous
  request. After this is called with argument true, any subsequent
  calls to <a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.html#submit-java.lang.Runnable-"><code>submit(Runnable)</code></a> will defer execution of the
  job until this is later called with argument false. If you call
  this with argument true, please be sure you later call it with argument
  false. The purpose of this method is to ensure that if a job
  involves some callbacks, that those callbacks are processed
  before the next job is executed. Normally, you would call this
  with argument true when requesting a service, and call it with
  argument false when the service has been completely provided.
  If you do not call this at all, then jobs and callbacks may
  be arbitrarily interleaved (though they will all execute in the
  same thread).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>busy</code> - True to defer jobs, false to stop deferring.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/actor/lib/jjs/RestrictedJavaScriptInterface.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/actor/lib/jjs/VertxHelperBase.AccessorVerticle.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/actor/lib/jjs/VertxHelperBase.html" target="_top">Frames</a></li>
<li><a href="VertxHelperBase.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
