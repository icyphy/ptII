<!-- $Id$ -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<title>CSP Hardware Bus Contention Demo</title>
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
</head>
<body>
<H1>CSP Hardware Bus Contention Demo</H1>
<P>
The following applet uses the Ptolemy II CSP domain to model resource
contention. The model shows the use of timed CSP to deterministically
handle nondeterministic events.
<P>
 <!-- All of the controls of the applet should be visible when the
applet is displayed on a XGA screen-->
<center>
<!-- The HTML below is for the Java Plugin.  The first 
     section is for IE, the second is for Netscape
 -->
<OBJECT classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93"
 WIDTH=500 HEIGHT=500
 NAME="BusContentionApplet"
 codebase="http://java.sun.com/products/plugin/1.2/jinstall-12-win32.cab#Version=1,2,0,0">
<PARAM NAME=CODE VALUE=ptolemy.domains.csp.demo.BusContention.BusContentionApplet.class>
<PARAM NAME=CODEBASE VALUE=../../../../..>
<PARAM NAME=ARCHIVE VALUE="
	ptolemy/ptsupport.jar,
	lib/diva.jar,
	ptolemy/domains/csp/demo/BusContention/BusContention.jar,
	ptolemy/domains/csp/csp.jar">
<PARAM NAME="name" VALUE="BusContentionApplet">
<PARAM NAME="type" VALUE="application/x-java-applet;version=1.2">
<PARAM NAME="background" VALUE="#faf0e6">
<COMMENT>
<EMBED type="application/x-java-applet;version=1.2"
 code=ptolemy.domains.csp.demo.BusContention.BusContentionApplet
 codebase=../../../../..
 archive="
	ptolemy/ptsupport.jar,
	lib/diva.jar,
	ptolemy/domains/csp/demo/BusContention/BusContention.jar,
	ptolemy/domains/csp/csp.jar"
 NAME="BusContentionApplet"
 WIDTH=500 HEIGHT=500
 background="#faf0e6"
 pluginspage="http://java.sun.com/products/plugin/1.2/plugin-install.html">
<NOEMBED></COMMENT>
<I>If you were able to run applets, you would have a demo here.</I>
</NOEMBED></EMBED>
</OBJECT>
</center>

<B>Applet Description:</B>
<P>
The applet consists of a controller, three processors and a memory block. 
At randomly selected points in time, each processor can request permission 
from the controller to access the memory. The processors each have priorities 
associated with them, and in cases where there is a simultaneous memory 
access request, the controller grants permission to the processor with the 
highest priority.
<P>
All communication between actors in a CSP model of computation occurs via
<I>rendezvous</I>. Rendezvous is an atomic form of communication.
This model uses a timed extension to CSP, so each rendezvous logically
occurs at a specific point in time.
<p>
Because 
of the atomic nature of rendezvous, when the controller receives a request
for access, it cannot know whether there is another, higher priority
request pending at the same time. To overcome this difficulty, an
alarm is employed. 
The alarm is started by the controller immediately following the first 
request for memory access. It is awakened when time is ready to advance
(the model blocks on delays).  This
indicates to the controller that no more memory requests will occur at the 
given point in time. Hence, the alarm uses centralized time 
to make deterministic an inherently non-deterministic activity. 
<P>
In the applet, each of the initially blue processors (the circular 
nodes) can be in one of three states. The color yellow indicates that a 
processor is in state 1 and is waiting for the controller to give it permission 
to access memory. The color green indicates that a processor has been granted 
permission to access memory. The color red indicates that the processor has
been denied memory access.
<P>
This applet consists of four types of actors:
<UL>
    <LI><A HREF="Memory.java">Memory.java</A>
    <LI><A HREF="Processor.java">Processor.java</A>
    <LI><A HREF="Controller.java">Controller.java</A>
    <LI><A HREF="ContentionAlarm.java">ContentionAlarm.java</A>
</UL>
The applet code is implemented via:
<UL>
    <LI>
    <A HREF="BusContentionApplet.java">BusContentionApplet.java</A>
</UL>

<p><font size="2" color="#cc0000">Last Updated: $Date$</font>
</body>
</html>
