<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="giottoThrottleControllerRefined" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="3.1-devel">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[809, 620]">
    </property>
    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[200, 218]">
    </property>
    <property name="_generator" class="ptolemy.copernicus.gui.GeneratorTableauAttribute">
        <property name="initialParametersURL" class="ptolemy.data.expr.StringParameter" value="&quot;ptolemy/copernicus/kernel/Generator.xml&quot;">
        </property>
        <property name="codeGenerator" class="ptolemy.kernel.util.StringAttribute" value="deep">
            <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                <property name="sootDeep" class="ptolemy.kernel.util.StringAttribute" value="deep">
                </property>
                <property name="sootApplet" class="ptolemy.kernel.util.StringAttribute" value="applet">
                </property>
                <property name="sootC" class="ptolemy.kernel.util.StringAttribute" value="c">
                </property>
                <property name="sootJHDL" class="ptolemy.kernel.util.StringAttribute" value="jhdl">
                </property>
                <property name="sootShallow" class="ptolemy.kernel.util.StringAttribute" value="shallow">
                </property>
            </property>
            <doc name="tooltip">Type of code generator to run.</doc>
        </property>
        <property name="show" class="ptolemy.data.expr.Parameter" value="true">
            <property name="style" class="ptolemy.actor.gui.style.CheckBoxStyle">
            </property>
            <doc name="tooltip">Show generated code.</doc>
        </property>
        <property name="compile" class="ptolemy.data.expr.Parameter" value="true">
            <property name="style" class="ptolemy.actor.gui.style.CheckBoxStyle">
            </property>
            <doc name="tooltip">Compile generated code.</doc>
        </property>
        <property name="run" class="ptolemy.data.expr.Parameter" value="true">
            <property name="style" class="ptolemy.actor.gui.style.CheckBoxStyle">
            </property>
            <doc name="tooltip">Execute generated code.</doc>
        </property>
        <property name="directory" class="ptolemy.kernel.util.StringAttribute" value="d:\ptII\ptolemy\apps\throttle">
            <doc name="tooltip">Directory into which to put generated code.</doc>
        </property>
        <property name="compileOptions" class="ptolemy.kernel.util.StringAttribute" value="-classpath &quot;d:/ptII;.&quot;">
            <doc name="tooltip">Options to pass to the compiler.</doc>
        </property>
        <property name="runOptions" class="ptolemy.kernel.util.StringAttribute" value="-classpath &quot;d:/ptII;.&quot;">
            <doc name="tooltip">Options to use when executing the code.</doc>
        </property>
        <property name="packageName" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.apps.throttle">
            <doc name="tooltip">Package name for the generated classes.</doc>
        </property>
    </property>
    <property name="CT Director" class="ptolemy.domains.ct.kernel.CTMixedSignalDirector">
        <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="3.0">
        </property>
        <property name="initStepSize" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="minStepSize" class="ptolemy.data.expr.Parameter" value="5E-6">
        </property>
        <property name="maxStepSize" class="ptolemy.data.expr.Parameter" value="5E-5">
        </property>
        <property name="maxIterations" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="errorTolerance" class="ptolemy.data.expr.Parameter" value="1.0E-10">
        </property>
        <property name="valueResolution" class="ptolemy.data.expr.Parameter" value="1.0E-10">
        </property>
        <property name="timeResolution" class="ptolemy.data.expr.Parameter" value="1.0E-15">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="ODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
            <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ExplicitRK23Solver&quot;">
                </property>
                <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                </property>
                <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ForwardEulerSolver&quot;">
                </property>
            </property>
        </property>
        <property name="breakpointODESolver" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
            <property name="style" class="ptolemy.actor.gui.style.EditableChoiceStyle">
                <property name="choice0" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.DerivativeResolver&quot;">
                </property>
                <property name="choice1" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.BackwardEulerSolver&quot;">
                </property>
                <property name="choice2" class="ptolemy.data.expr.Parameter" value="&quot;ptolemy.domains.ct.kernel.solver.ImpulseBESolver&quot;">
                </property>
            </property>
        </property>
        <property name="runAheadLength" class="ptolemy.data.expr.Parameter" value="0.1">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="295.0, 135.0">
        </property>
    </property>
    <property name="annotation" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This model is a refined model from the heterogeneous 
Electronic Throttle Controller model constructed by 
the UC Berkeley Vehicle Dynamics Lab. The original model
was constructed with Simulink and Stateflow by Paul Griffiths, 
Christoph Kirsch, Tunc Simsek, and Jason Souder.

</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="20.0, 10.0">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 0, 1024, 738}}">
    </property>
    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
        <property name="lineWidth" class="ptolemy.data.expr.Parameter" value="3.0">
        </property>
        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.4,0.8,1.0}">
        </property>
        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
        </property>
        <property name="y" class="ptolemy.data.expr.Parameter" value="150.0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 305.0">
        </property>
    </property>
    <property name="annotation3" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Hardware: Physical Systems</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="325.0, 430.0">
        </property>
    </property>
    <property name="annotation4" class="ptolemy.kernel.util.Attribute">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Software: Computer Control</text></svg></configure>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
        </property>
        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 430.0">
        </property>
    </property>
    <property name="driverInput" class="ptolemy.data.expr.Parameter" value="0.5">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="475.0, 50.0">
        </property>
    </property>
    <property name="J" class="ptolemy.data.expr.Parameter" value="5e-5">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 50.0">
        </property>
    </property>
    <property name="Ks_J" class="ptolemy.data.expr.Parameter" value="390">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 95.0">
        </property>
    </property>
    <property name="Kd_J" class="ptolemy.data.expr.Parameter" value="0.1">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 65.0">
        </property>
    </property>
    <property name="Kf_J" class="ptolemy.data.expr.Parameter" value="140">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 80.0">
        </property>
    </property>
    <property name="Ra" class="ptolemy.data.expr.Parameter" value="1.7">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 110.0">
        </property>
    </property>
    <property name="theta_eq" class="ptolemy.data.expr.Parameter" value="-0.25">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 170.0">
        </property>
    </property>
    <property name="Kt_Ra_J" class="ptolemy.data.expr.Parameter" value="140">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 185.0">
        </property>
    </property>
    <property name="Ks" class="ptolemy.data.expr.Parameter" value="Ks_J*J">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 125.0">
        </property>
    </property>
    <property name="Kd" class="ptolemy.data.expr.Parameter" value="Kd_J*J">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 155.0">
        </property>
    </property>
    <property name="Kf" class="ptolemy.data.expr.Parameter" value="Kf_J*J">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 140.0">
        </property>
    </property>
    <property name="Kt" class="ptolemy.data.expr.Parameter" value="Kt_Ra_J*Ra*J">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 200.0">
        </property>
    </property>
    <property name="alpha_max" class="ptolemy.data.expr.Parameter" value="89.8*pi/180">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 215.0">
        </property>
    </property>
    <property name="alpha_min" class="ptolemy.data.expr.Parameter" value="0.2*pi/180">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="615.0, 230.0">
        </property>
    </property>
    <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="0.003">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="475.0, 65.0">
        </property>
    </property>
    <property name="tps_1_good" class="ptolemy.data.expr.Parameter" value="true">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="475.0, 80.0">
        </property>
    </property>
    <property name="tps_2_good" class="ptolemy.data.expr.Parameter" value="true">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="475.0, 95.0">
        </property>
    </property>
    <property name="pwm_strength" class="ptolemy.data.expr.Parameter" value="1.0">
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="475.0, 115.0">
        </property>
    </property>
    <entity name="throttle position" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="445.0, 245.0">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
        </port>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Throttle Position</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="3.0"/>
<yRange min="0.46562716337710913" max="1.0008216281344025"/>
</plot>?>
        </configure>
    </entity>
    <entity name="sampled controller" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="685.0, 330.0">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[653, 459]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[118, 98]">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The discrete-time controller consists of two abstract
parts.  The first is the controller itself which is a
sampled modal sliding-mode controller and the second is
the drivers for the pulse-width modulated (pwm) actuators.
</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="10.0, 20.0">
            </property>
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="startTime" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1.7976931348623E308">
            </property>
            <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="isCQAdaptive" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="minBinCount" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="binCountFactor" class="ptolemy.data.expr.Parameter" value="2">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 65.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={78, 95, 868, 577}}">
        </property>
        <port name="throttle_positions" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 280.0">
            </property>
        </port>
        <port name="desired_throttle_position" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 235.0">
            </property>
        </port>
        <port name="current" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 175.0">
            </property>
        </port>
        <port name="actual_motor_current" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 165.0">
            </property>
        </port>
        <entity name="pwm driver" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="440.0, 175.0">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
            </property>
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 40.0">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={79, 81, 815, 518}}">
            </property>
            <port name="motor_current" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="114.0, 289.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_showName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </port>
            <port name="desired_current" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 155.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_showName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
            </port>
            <port name="pwm_signal" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="495.0, 220.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
                <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                        </property>
                        <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                        </property>
                        <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                        </property>
                        <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                        </property>
                        <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                        </property>
                    </property>
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="260.0, 220.0">
                </property>
            </entity>
            <entity name="BooleanToAnything" class="ptolemy.actor.lib.conversions.BooleanToAnything">
                <property name="_location" class="ptolemy.kernel.util.Location" value="380.0, 220.0">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="motor_current" relation="relation2"/>
            <link port="desired_current" relation="relation3"/>
            <link port="pwm_signal" relation="relation"/>
            <link port="Comparator.left" relation="relation3"/>
            <link port="Comparator.right" relation="relation2"/>
            <link port="Comparator.output" relation="relation4"/>
            <link port="BooleanToAnything.input" relation="relation4"/>
            <link port="BooleanToAnything.output" relation="relation"/>
        </entity>
        <entity name="user_mode" class="ptolemy.actor.lib.Const">
            <doc>Create a constant sequence</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 310.0">
            </property>
        </entity>
        <entity name="real_time_controller" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="245.0, 255.0">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[730, 448]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[167, 231]">
            </property>
            <property name="Giotto Director" class="ptolemy.domains.giotto.kernel.GiottoDirector">
                <property name="period" class="ptolemy.data.expr.Parameter" value="samplePeriod*10">
                </property>
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="78.0, 38.5">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={39, 101, 945, 566}}">
            </property>
            <property name="manager_frequency" class="ptolemy.data.expr.Parameter" value="2">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 235.0">
                </property>
            </property>
            <property name="monitor_frequency" class="ptolemy.data.expr.Parameter" value="1">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 255.0">
                </property>
            </property>
            <property name="controller_frequency" class="ptolemy.data.expr.Parameter" value="10">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 215.0">
                </property>
            </property>
            <port name="throttle_motor_current" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="520.0, 55.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="motor_current" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 85.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="desired_throttlel_position" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 190.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="40.0, 150.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="user_mode" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 260.0">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <entity name="manager" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 250.0">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                </property>
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The manager decides the operation modes of the ETC:

1=driver mode (tracks the accelerator pedal)
2=limp home mode (limits the accelerator)
</text></svg></configure>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 5.0">
                    </property>
                </property>
                <property name="frequency" class="ptolemy.data.expr.Parameter" value="manager_frequency">
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="85.0, 50.0">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
                </property>
                <port name="manager_output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 180.0">
                    </property>
                    <property name="initialValue" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                </port>
                <port name="monitor_output" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="65.0, 250.0">
                    </property>
                </port>
                <port name="user_mode" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="95.0, 140.0">
                    </property>
                </port>
                <entity name="limp_home" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="2">
                    </property>
                    <doc>Create a constant sequence</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="95.0, 190.0">
                    </property>
                </entity>
                <entity name="Multiplexor" class="ptolemy.actor.lib.Multiplexor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="365.0, 180.0">
                    </property>
                </entity>
                <entity name="BooleanToAnything" class="ptolemy.actor.lib.conversions.BooleanToAnything">
                    <property name="falseValue" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="trueValue" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="215.0, 250.0">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="manager_output" relation="relation3"/>
                <link port="monitor_output" relation="relation2"/>
                <link port="user_mode" relation="relation"/>
                <link port="limp_home.output" relation="relation6"/>
                <link port="Multiplexor.input" relation="relation"/>
                <link port="Multiplexor.input" relation="relation6"/>
                <link port="Multiplexor.output" relation="relation3"/>
                <link port="Multiplexor.select" relation="relation4"/>
                <link port="BooleanToAnything.input" relation="relation2"/>
                <link port="BooleanToAnything.output" relation="relation4"/>
            </entity>
            <entity name="servo_control" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 150.0">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 635]">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, 10]">
                </property>
                <property name="frequency" class="ptolemy.data.expr.Parameter" value="controller_frequency">
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="105.0, 100.0">
                    </property>
                </property>
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">This director ensures that this composite is treated by
the Giotto domain as an atomic actor, and therefore is
implemented in a single Giotto task.</text></svg></configure>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 75.0">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, 7, 1032, 753}}">
                </property>
                <port name="servo_control_output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="545.0, 250.0">
                    </property>
                    <property name="initialValue" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </port>
                <port name="manager_output" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 295.0">
                    </property>
                </port>
                <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="95.0, 205.0">
                    </property>
                </port>
                <port name="pedal_position" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 250.0">
                    </property>
                </port>
                <entity name="modal_controller" class="ptolemy.domains.fsm.modal.ModalModel">
                    <property name="directorClass" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.domains.fsm.kernel.FSMDirector">
                    </property>
                    <property name="_Director" class="ptolemy.domains.fsm.kernel.FSMDirector">
                        <property name="controllerName" class="ptolemy.kernel.util.StringAttribute" value="_Controller">
                        </property>
                    </property>
                    <property name="_tableauFactory" class="ptolemy.vergil.fsm.modal.ModalTableauFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="385.0, 250.0">
                    </property>
                    <port name="throttle_positions" class="ptolemy.domains.fsm.modal.ModalPort">
                        <property name="input"/>
                    </port>
                    <port name="desired_throttle_position" class="ptolemy.domains.fsm.modal.ModalPort">
                        <property name="input"/>
                    </port>
                    <port name="current" class="ptolemy.domains.fsm.modal.ModalPort">
                        <property name="output"/>
                    </port>
                    <port name="mode" class="ptolemy.domains.fsm.modal.ModalPort">
                        <property name="input"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                        </property>
                    </port>
                    <entity name="_Controller" class="ptolemy.domains.fsm.modal.ModalController">
                        <property name="initialStateName" class="ptolemy.kernel.util.StringAttribute" value="driver">
                        </property>
                        <property name="_library" class="ptolemy.moml.LibraryAttribute">
                            <configure>
    <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/annotation.xml"></input><entity name="state" class="ptolemy.domains.fsm.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
                        </property>
                        <property name="annotation" class="ptolemy.kernel.util.Attribute">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Modal servo control.</text></svg></configure>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="140.0, 55.0">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                            </property>
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                        </property>
                        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
                        </property>
                        <port name="throttle_positions" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 155.0">
                            </property>
                        </port>
                        <port name="desired_throttle_position" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 240.0">
                            </property>
                        </port>
                        <port name="servo_control_output" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="485.0, 140.0">
                            </property>
                            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                            </property>
                        </port>
                        <port name="mode" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="49.0, 325.0">
                            </property>
                        </port>
                        <entity name="driver" class="ptolemy.domains.fsm.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="driver">
                            </property>
                            <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="285.0, 205.0">
                            </property>
                        </entity>
                        <entity name="limp_home" class="ptolemy.domains.fsm.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="limp_home">
                            </property>
                            <property name="_centerName" class="ptolemy.kernel.util.Attribute">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 320.0">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.domains.fsm.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="mode_isPresent &amp;&amp; mode == 2">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.7490871026873148">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.domains.fsm.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="mode_isPresent &amp;&amp; mode == 1">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="reset" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <link port="driver.incomingPort" relation="relation3"/>
                        <link port="driver.outgoingPort" relation="relation"/>
                        <link port="limp_home.incomingPort" relation="relation"/>
                        <link port="limp_home.outgoingPort" relation="relation3"/>
                    </entity>
                    <entity name="driver" class="ptolemy.domains.fsm.modal.Refinement">
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                        </property>
                        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                        </property>
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="98.0, 48.5">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
                        </property>
                        <port name="throttle_positions" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="60.0, 155.0">
                            </property>
                        </port>
                        <port name="desired_throttle_position" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="60.0, 215.0">
                            </property>
                        </port>
                        <port name="current" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 165.0">
                            </property>
                        </port>
                        <port name="mode" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="60.0, 275.0">
                            </property>
                        </port>
                        <entity name="sliding mode controller with estimator" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="265.0, 165.0">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 635]">
                            </property>
                            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, 10]">
                            </property>
                            <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 80.0">
                                </property>
                            </port>
                            <port name="desired_throttle_position" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 255.0">
                                </property>
                            </port>
                            <port name="current" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="675.0, 240.0">
                                </property>
                            </port>
                            <entity name="sliding mode controller" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="590.0, 185.0">
                                </property>
                                <property name="lambda" class="ptolemy.data.expr.Parameter" value="60.0">
                                </property>
                                <property name="n" class="ptolemy.data.expr.Parameter" value="2.0">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                                </property>
                                <port name="1:throttle_position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="59.0, 134.0">
                                    </property>
                                </port>
                                <port name="1:throttle_velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="59.0, 309.0">
                                    </property>
                                </port>
                                <port name="1:current" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="761.5, 230.0">
                                    </property>
                                </port>
                                <port name="1:desired_throttle_position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="83.0, 189.0">
                                    </property>
                                </port>
                                <port name="desired_throttle_velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="78.0, 249.0">
                                    </property>
                                </port>
                                <port name="desired_throttle_acceleration" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 459.0">
                                    </property>
                                </port>
                                <entity name="1:angle gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Ks/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 29.5">
                                    </property>
                                </entity>
                                <entity name="1:angle error" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="145.5, 142.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(s)" class="ptolemy.actor.lib.MathFunction">
                                    <property name="function" class="ptolemy.data.expr.StringParameter" value="sign">
                                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                            <property name="exp" class="ptolemy.kernel.util.StringAttribute" value="exp">
                                            </property>
                                            <property name="log" class="ptolemy.kernel.util.StringAttribute" value="log">
                                            </property>
                                            <property name="modulo" class="ptolemy.kernel.util.StringAttribute" value="modulo">
                                            </property>
                                            <property name="sign" class="ptolemy.kernel.util.StringAttribute" value="sign">
                                            </property>
                                            <property name="square" class="ptolemy.kernel.util.StringAttribute" value="square">
                                            </property>
                                            <property name="sqrt" class="ptolemy.kernel.util.StringAttribute" value="sqrt">
                                            </property>
                                        </property>
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="475.0, 154.5">
                                    </property>
                                </entity>
                                <entity name="1:surface gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="lambda">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="235.5, 144.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(velocity) gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Kf/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="596.5, 384.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(s) gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="n">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="570.0, 154.5">
                                    </property>
                                </entity>
                                <entity name="1:velocity error" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="308.0, 239.5">
                                    </property>
                                </entity>
                                <entity name="1:theta_eq" class="ptolemy.actor.lib.Const">
                                    <property name="value" class="ptolemy.data.expr.Parameter" value="theta_eq">
                                    </property>
                                    <doc>Create a constant sequence</doc>
                                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                        </property>
                                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="146.5, 84.5">
                                    </property>
                                </entity>
                                <entity name="1:s" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="395.0, 152.5">
                                    </property>
                                </entity>
                                <entity name="1:velocity error gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="lambda*(J/Kt)">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="586.0, 239.5">
                                    </property>
                                </entity>
                                <entity name="1:acceleration gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="J/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="594.0, 464.5">
                                    </property>
                                </entity>
                                <entity name="1:current" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="695.0, 228.5">
                                    </property>
                                </entity>
                                <entity name="1:velocity gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Kd/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="581.0, 309.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(velocity)" class="ptolemy.actor.lib.MathFunction">
                                    <property name="function" class="ptolemy.data.expr.StringParameter" value="sign">
                                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                            <property name="exp" class="ptolemy.kernel.util.StringAttribute" value="exp">
                                            </property>
                                            <property name="log" class="ptolemy.kernel.util.StringAttribute" value="log">
                                            </property>
                                            <property name="modulo" class="ptolemy.kernel.util.StringAttribute" value="modulo">
                                            </property>
                                            <property name="sign" class="ptolemy.kernel.util.StringAttribute" value="sign">
                                            </property>
                                            <property name="square" class="ptolemy.kernel.util.StringAttribute" value="square">
                                            </property>
                                            <property name="sqrt" class="ptolemy.kernel.util.StringAttribute" value="sqrt">
                                            </property>
                                        </property>
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="313.0, 384.5">
                                    </property>
                                </entity>
                                <entity name="1:angle" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="195.0, 29.5">
                                    </property>
                                </entity>
                                <relation name="1:1:relation21" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation13" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation18" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation5" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation2" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="71.0, 141.0">
                                    </vertex>
                                </relation>
                                <relation name="1:1:relation19" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation6" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation14" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="346.0, 246.0">
                                    </vertex>
                                </relation>
                                <relation name="1:relation8" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation8" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation22" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation9" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation7" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="236.0, 316.0">
                                    </vertex>
                                </relation>
                                <relation name="1:1:relation12" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation11" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation17" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation20" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="1:throttle_position" relation="1:1:relation2"/>
                                <link port="1:throttle_velocity" relation="1:1:relation7"/>
                                <link port="1:current" relation="1:relation2"/>
                                <link port="1:desired_throttle_position" relation="1:relation8"/>
                                <link port="desired_throttle_velocity" relation="relation"/>
                                <link port="desired_throttle_acceleration" relation="relation3"/>
                                <link port="1:angle gain.input" relation="1:1:relation6"/>
                                <link port="1:angle gain.output" relation="1:1:relation19"/>
                                <link port="1:angle error.plus" relation="1:1:relation2"/>
                                <link port="1:angle error.minus" relation="1:relation8"/>
                                <link port="1:angle error.output" relation="1:1:relation8"/>
                                <link port="1:sign(s).firstOperand" relation="1:1:relation11"/>
                                <link port="1:sign(s).output" relation="1:1:relation12"/>
                                <link port="1:surface gain.input" relation="1:1:relation8"/>
                                <link port="1:surface gain.output" relation="1:1:relation9"/>
                                <link port="1:sign(velocity) gain.input" relation="1:1:relation13"/>
                                <link port="1:sign(velocity) gain.output" relation="1:1:relation21"/>
                                <link port="1:sign(s) gain.input" relation="1:1:relation12"/>
                                <link port="1:sign(s) gain.output" relation="1:1:relation18"/>
                                <link port="1:velocity error.plus" relation="1:1:relation7"/>
                                <link port="1:velocity error.minus" relation="relation"/>
                                <link port="1:velocity error.output" relation="1:1:relation14"/>
                                <link port="1:theta_eq.output" relation="1:1:relation5"/>
                                <link port="1:theta_eq.trigger" relation="1:1:relation2"/>
                                <link port="1:s.plus" relation="1:1:relation9"/>
                                <link port="1:s.plus" relation="1:1:relation14"/>
                                <link port="1:s.output" relation="1:1:relation11"/>
                                <link port="1:velocity error gain.input" relation="1:1:relation14"/>
                                <link port="1:velocity error gain.output" relation="1:1:relation17"/>
                                <link port="1:acceleration gain.input" relation="relation3"/>
                                <link port="1:acceleration gain.output" relation="1:1:relation22"/>
                                <link port="1:current.plus" relation="1:1:relation19"/>
                                <link port="1:current.plus" relation="1:1:relation20"/>
                                <link port="1:current.plus" relation="1:1:relation21"/>
                                <link port="1:current.plus" relation="1:1:relation22"/>
                                <link port="1:current.minus" relation="1:1:relation17"/>
                                <link port="1:current.minus" relation="1:1:relation18"/>
                                <link port="1:current.output" relation="1:relation2"/>
                                <link port="1:velocity gain.input" relation="1:1:relation7"/>
                                <link port="1:velocity gain.output" relation="1:1:relation20"/>
                                <link port="1:sign(velocity).firstOperand" relation="1:1:relation7"/>
                                <link port="1:sign(velocity).output" relation="1:1:relation13"/>
                                <link port="1:angle.plus" relation="1:1:relation2"/>
                                <link port="1:angle.minus" relation="1:1:relation5"/>
                                <link port="1:angle.output" relation="1:1:relation6"/>
                            </entity>
                            <entity name="throttle_velocity" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 175.0">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[118, 153]">
                                </property>
                                <port name="position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.5, 139.0">
                                    </property>
                                </port>
                                <port name="velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="478.0, 234.0">
                                    </property>
                                </port>
                                <entity name="IIR" class="ptolemy.actor.lib.IIR">
                                    <property name="numerator" class="ptolemy.data.expr.Parameter" value="{0.0, 1.0}">
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 273.0">
                                    </property>
                                </entity>
                                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="247.0, 233.5">
                                    </property>
                                </entity>
                                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="1/samplePeriod">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 233.5">
                                    </property>
                                </entity>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="91.0, 196.0">
                                    </vertex>
                                </relation>
                                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="position" relation="relation"/>
                                <link port="velocity" relation="relation4"/>
                                <link port="IIR.input" relation="relation"/>
                                <link port="IIR.output" relation="relation2"/>
                                <link port="AddSubtract.plus" relation="relation"/>
                                <link port="AddSubtract.minus" relation="relation2"/>
                                <link port="AddSubtract.output" relation="relation3"/>
                                <link port="Scale.input" relation="relation3"/>
                                <link port="Scale.output" relation="relation4"/>
                            </entity>
                            <entity name="desired_throttle_velocity" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="140.0, 340.0">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute">
                                </property>
                                <port name="position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.5, 139.0">
                                    </property>
                                </port>
                                <port name="velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="478.0, 234.0">
                                    </property>
                                </port>
                                <entity name="IIR" class="ptolemy.actor.lib.IIR">
                                    <property name="numerator" class="ptolemy.data.expr.Parameter" value="{0.0, 1.0}">
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 273.0">
                                    </property>
                                </entity>
                                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="247.0, 233.5">
                                    </property>
                                </entity>
                                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="1/samplePeriod">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 233.5">
                                    </property>
                                </entity>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="91.0, 196.0">
                                    </vertex>
                                </relation>
                                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="position" relation="relation"/>
                                <link port="velocity" relation="relation4"/>
                                <link port="IIR.input" relation="relation"/>
                                <link port="IIR.output" relation="relation2"/>
                                <link port="AddSubtract.plus" relation="relation"/>
                                <link port="AddSubtract.minus" relation="relation2"/>
                                <link port="AddSubtract.output" relation="relation3"/>
                                <link port="Scale.input" relation="relation3"/>
                                <link port="Scale.output" relation="relation4"/>
                            </entity>
                            <entity name="desired_throttle_acceleration" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="307.5, 414.5">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute">
                                </property>
                                <port name="position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.5, 139.0">
                                    </property>
                                </port>
                                <port name="velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="478.0, 234.0">
                                    </property>
                                </port>
                                <entity name="IIR" class="ptolemy.actor.lib.IIR">
                                    <property name="numerator" class="ptolemy.data.expr.Parameter" value="{0.0, 1.0}">
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 273.0">
                                    </property>
                                </entity>
                                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="247.0, 233.5">
                                    </property>
                                </entity>
                                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="1/samplePeriod">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 233.5">
                                    </property>
                                </entity>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="91.0, 196.0">
                                    </vertex>
                                </relation>
                                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="position" relation="relation"/>
                                <link port="velocity" relation="relation4"/>
                                <link port="IIR.input" relation="relation"/>
                                <link port="IIR.output" relation="relation2"/>
                                <link port="AddSubtract.plus" relation="relation"/>
                                <link port="AddSubtract.minus" relation="relation2"/>
                                <link port="AddSubtract.output" relation="relation3"/>
                                <link port="Scale.input" relation="relation3"/>
                                <link port="Scale.output" relation="relation4"/>
                            </entity>
                            <relation name="1:relation" class="ptolemy.actor.TypedIORelation">
                                <vertex name="vertex1" value="66.0, 126.0">
                                </vertex>
                            </relation>
                            <relation name="1:relation3" class="ptolemy.actor.TypedIORelation">
                                <vertex name="vertex1" value="235.0, 340.0">
                                </vertex>
                            </relation>
                            <relation name="1:relation2" class="ptolemy.actor.TypedIORelation">
                                <vertex name="vertex1" value="66.0, 296.0">
                                </vertex>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="throttle_position" relation="1:relation"/>
                            <link port="desired_throttle_position" relation="1:relation2"/>
                            <link port="current" relation="relation"/>
                            <link port="sliding mode controller.1:throttle_position" relation="1:relation"/>
                            <link port="sliding mode controller.1:throttle_velocity" relation="relation2"/>
                            <link port="sliding mode controller.1:current" relation="relation"/>
                            <link port="sliding mode controller.1:desired_throttle_position" relation="1:relation2"/>
                            <link port="sliding mode controller.desired_throttle_velocity" relation="1:relation3"/>
                            <link port="sliding mode controller.desired_throttle_acceleration" relation="relation3"/>
                            <link port="throttle_velocity.position" relation="1:relation"/>
                            <link port="throttle_velocity.velocity" relation="relation2"/>
                            <link port="desired_throttle_velocity.position" relation="1:relation2"/>
                            <link port="desired_throttle_velocity.velocity" relation="1:relation3"/>
                            <link port="desired_throttle_acceleration.position" relation="1:relation3"/>
                            <link port="desired_throttle_acceleration.velocity" relation="relation3"/>
                        </entity>
                        <entity name="throttle_position" class="ptolemy.actor.lib.VectorDisassembler">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 135.0">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <link port="throttle_positions" relation="relation"/>
                        <link port="desired_throttle_position" relation="relation3"/>
                        <link port="current" relation="relation4"/>
                        <link port="sliding mode controller with estimator.throttle_position" relation="relation2"/>
                        <link port="sliding mode controller with estimator.desired_throttle_position" relation="relation3"/>
                        <link port="sliding mode controller with estimator.current" relation="relation4"/>
                        <link port="throttle_position.input" relation="relation"/>
                        <link port="throttle_position.output" relation="relation2"/>
                    </entity>
                    <entity name="limp_home" class="ptolemy.domains.fsm.modal.Refinement">
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                        </property>
                        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[52, 199]">
                        </property>
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="98.0, 48.5">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
                        </property>
                        <port name="throttle_positions" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 145.0">
                            </property>
                        </port>
                        <port name="desired_throttle_position" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 205.0">
                            </property>
                        </port>
                        <port name="current" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="400.0, 195.0">
                            </property>
                        </port>
                        <port name="mode" class="ptolemy.domains.fsm.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 265.0">
                            </property>
                        </port>
                        <entity name="sliding mode controller with estimator" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="230.0, 195.0">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 635]">
                            </property>
                            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, 10]">
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, 7, 1032, 753}}">
                            </property>
                            <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="25.0, 125.0">
                                </property>
                            </port>
                            <port name="desired_throttle_position" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 250.0">
                                </property>
                            </port>
                            <port name="current" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="635.0, 185.0">
                                </property>
                            </port>
                            <entity name="sliding mode controller" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="415.0, 185.0">
                                </property>
                                <property name="lambda" class="ptolemy.data.expr.Parameter" value="60.0">
                                </property>
                                <property name="n" class="ptolemy.data.expr.Parameter" value="2.0">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                                </property>
                                <port name="1:throttle_position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="59.0, 134.0">
                                    </property>
                                </port>
                                <port name="1:throttle_velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="59.0, 309.0">
                                    </property>
                                </port>
                                <port name="1:current" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="761.5, 230.0">
                                    </property>
                                </port>
                                <port name="1:desired_throttle_position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="83.0, 189.0">
                                    </property>
                                </port>
                                <port name="desired_throttle_velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="78.0, 249.0">
                                    </property>
                                </port>
                                <port name="desired_throttle_acceleration" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 459.0">
                                    </property>
                                </port>
                                <entity name="1:angle gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Ks/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 29.5">
                                    </property>
                                </entity>
                                <entity name="1:angle error" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="145.5, 142.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(s)" class="ptolemy.actor.lib.MathFunction">
                                    <property name="function" class="ptolemy.data.expr.StringParameter" value="sign">
                                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                            <property name="exp" class="ptolemy.kernel.util.StringAttribute" value="exp">
                                            </property>
                                            <property name="log" class="ptolemy.kernel.util.StringAttribute" value="log">
                                            </property>
                                            <property name="modulo" class="ptolemy.kernel.util.StringAttribute" value="modulo">
                                            </property>
                                            <property name="sign" class="ptolemy.kernel.util.StringAttribute" value="sign">
                                            </property>
                                            <property name="square" class="ptolemy.kernel.util.StringAttribute" value="square">
                                            </property>
                                            <property name="sqrt" class="ptolemy.kernel.util.StringAttribute" value="sqrt">
                                            </property>
                                        </property>
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="475.0, 154.5">
                                    </property>
                                </entity>
                                <entity name="1:surface gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="lambda">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="235.5, 144.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(velocity) gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Kf/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="596.5, 384.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(s) gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="n">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="570.0, 154.5">
                                    </property>
                                </entity>
                                <entity name="1:velocity error" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="308.0, 239.5">
                                    </property>
                                </entity>
                                <entity name="1:theta_eq" class="ptolemy.actor.lib.Const">
                                    <property name="value" class="ptolemy.data.expr.Parameter" value="theta_eq">
                                    </property>
                                    <doc>Create a constant sequence</doc>
                                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                        </property>
                                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="146.5, 84.5">
                                    </property>
                                </entity>
                                <entity name="1:s" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="395.0, 152.5">
                                    </property>
                                </entity>
                                <entity name="1:velocity error gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="lambda*(J/Kt)">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="586.0, 239.5">
                                    </property>
                                </entity>
                                <entity name="1:acceleration gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="J/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="594.0, 464.5">
                                    </property>
                                </entity>
                                <entity name="1:current" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="695.0, 228.5">
                                    </property>
                                </entity>
                                <entity name="1:velocity gain" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="Kd/Kt">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="581.0, 309.5">
                                    </property>
                                </entity>
                                <entity name="1:sign(velocity)" class="ptolemy.actor.lib.MathFunction">
                                    <property name="function" class="ptolemy.data.expr.StringParameter" value="sign">
                                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                            <property name="exp" class="ptolemy.kernel.util.StringAttribute" value="exp">
                                            </property>
                                            <property name="log" class="ptolemy.kernel.util.StringAttribute" value="log">
                                            </property>
                                            <property name="modulo" class="ptolemy.kernel.util.StringAttribute" value="modulo">
                                            </property>
                                            <property name="sign" class="ptolemy.kernel.util.StringAttribute" value="sign">
                                            </property>
                                            <property name="square" class="ptolemy.kernel.util.StringAttribute" value="square">
                                            </property>
                                            <property name="sqrt" class="ptolemy.kernel.util.StringAttribute" value="sqrt">
                                            </property>
                                        </property>
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="313.0, 384.5">
                                    </property>
                                </entity>
                                <entity name="1:angle" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="195.0, 29.5">
                                    </property>
                                </entity>
                                <relation name="1:1:relation21" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation13" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation18" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation5" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation2" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="71.0, 141.0">
                                    </vertex>
                                </relation>
                                <relation name="1:1:relation19" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation6" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation14" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="346.0, 246.0">
                                    </vertex>
                                </relation>
                                <relation name="1:relation8" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation8" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation22" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation9" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation7" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="236.0, 316.0">
                                    </vertex>
                                </relation>
                                <relation name="1:1:relation12" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation11" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation17" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="1:1:relation20" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="1:throttle_position" relation="1:1:relation2"/>
                                <link port="1:throttle_velocity" relation="1:1:relation7"/>
                                <link port="1:current" relation="1:relation2"/>
                                <link port="1:desired_throttle_position" relation="1:relation8"/>
                                <link port="desired_throttle_velocity" relation="relation"/>
                                <link port="desired_throttle_acceleration" relation="relation3"/>
                                <link port="1:angle gain.input" relation="1:1:relation6"/>
                                <link port="1:angle gain.output" relation="1:1:relation19"/>
                                <link port="1:angle error.plus" relation="1:1:relation2"/>
                                <link port="1:angle error.minus" relation="1:relation8"/>
                                <link port="1:angle error.output" relation="1:1:relation8"/>
                                <link port="1:sign(s).firstOperand" relation="1:1:relation11"/>
                                <link port="1:sign(s).output" relation="1:1:relation12"/>
                                <link port="1:surface gain.input" relation="1:1:relation8"/>
                                <link port="1:surface gain.output" relation="1:1:relation9"/>
                                <link port="1:sign(velocity) gain.input" relation="1:1:relation13"/>
                                <link port="1:sign(velocity) gain.output" relation="1:1:relation21"/>
                                <link port="1:sign(s) gain.input" relation="1:1:relation12"/>
                                <link port="1:sign(s) gain.output" relation="1:1:relation18"/>
                                <link port="1:velocity error.plus" relation="1:1:relation7"/>
                                <link port="1:velocity error.minus" relation="relation"/>
                                <link port="1:velocity error.output" relation="1:1:relation14"/>
                                <link port="1:theta_eq.output" relation="1:1:relation5"/>
                                <link port="1:theta_eq.trigger" relation="1:1:relation2"/>
                                <link port="1:s.plus" relation="1:1:relation9"/>
                                <link port="1:s.plus" relation="1:1:relation14"/>
                                <link port="1:s.output" relation="1:1:relation11"/>
                                <link port="1:velocity error gain.input" relation="1:1:relation14"/>
                                <link port="1:velocity error gain.output" relation="1:1:relation17"/>
                                <link port="1:acceleration gain.input" relation="relation3"/>
                                <link port="1:acceleration gain.output" relation="1:1:relation22"/>
                                <link port="1:current.plus" relation="1:1:relation19"/>
                                <link port="1:current.plus" relation="1:1:relation20"/>
                                <link port="1:current.plus" relation="1:1:relation21"/>
                                <link port="1:current.plus" relation="1:1:relation22"/>
                                <link port="1:current.minus" relation="1:1:relation17"/>
                                <link port="1:current.minus" relation="1:1:relation18"/>
                                <link port="1:current.output" relation="1:relation2"/>
                                <link port="1:velocity gain.input" relation="1:1:relation7"/>
                                <link port="1:velocity gain.output" relation="1:1:relation20"/>
                                <link port="1:sign(velocity).firstOperand" relation="1:1:relation7"/>
                                <link port="1:sign(velocity).output" relation="1:1:relation13"/>
                                <link port="1:angle.plus" relation="1:1:relation2"/>
                                <link port="1:angle.minus" relation="1:1:relation5"/>
                                <link port="1:angle.output" relation="1:1:relation6"/>
                            </entity>
                            <entity name="throttle_velocity" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="140.0, 175.0">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute">
                                </property>
                                <port name="position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.5, 139.0">
                                    </property>
                                </port>
                                <port name="velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="478.0, 234.0">
                                    </property>
                                </port>
                                <entity name="IIR" class="ptolemy.actor.lib.IIR">
                                    <property name="numerator" class="ptolemy.data.expr.Parameter" value="{0.0, 1.0}">
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 273.0">
                                    </property>
                                </entity>
                                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="247.0, 233.5">
                                    </property>
                                </entity>
                                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="1/samplePeriod">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 233.5">
                                    </property>
                                </entity>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="91.0, 196.0">
                                    </vertex>
                                </relation>
                                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="position" relation="relation"/>
                                <link port="velocity" relation="relation4"/>
                                <link port="IIR.input" relation="relation"/>
                                <link port="IIR.output" relation="relation2"/>
                                <link port="AddSubtract.plus" relation="relation"/>
                                <link port="AddSubtract.minus" relation="relation2"/>
                                <link port="AddSubtract.output" relation="relation3"/>
                                <link port="Scale.input" relation="relation3"/>
                                <link port="Scale.output" relation="relation4"/>
                            </entity>
                            <entity name="desired_throttle_velocity" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="140.0, 325.0">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute">
                                </property>
                                <port name="position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.5, 139.0">
                                    </property>
                                </port>
                                <port name="velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="478.0, 234.0">
                                    </property>
                                </port>
                                <entity name="IIR" class="ptolemy.actor.lib.IIR">
                                    <property name="numerator" class="ptolemy.data.expr.Parameter" value="{0.0, 1.0}">
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 273.0">
                                    </property>
                                </entity>
                                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="247.0, 233.5">
                                    </property>
                                </entity>
                                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="1/samplePeriod">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 233.5">
                                    </property>
                                </entity>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="91.0, 196.0">
                                    </vertex>
                                </relation>
                                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="position" relation="relation"/>
                                <link port="velocity" relation="relation4"/>
                                <link port="IIR.input" relation="relation"/>
                                <link port="IIR.output" relation="relation2"/>
                                <link port="AddSubtract.plus" relation="relation"/>
                                <link port="AddSubtract.minus" relation="relation2"/>
                                <link port="AddSubtract.output" relation="relation3"/>
                                <link port="Scale.input" relation="relation3"/>
                                <link port="Scale.output" relation="relation4"/>
                            </entity>
                            <entity name="desired_throttle_acceleration" class="ptolemy.actor.TypedCompositeActor">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="285.0, 380.0">
                                </property>
                                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute">
                                </property>
                                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute">
                                </property>
                                <port name="position" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="40.5, 139.0">
                                    </property>
                                </port>
                                <port name="velocity" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="478.0, 234.0">
                                    </property>
                                </port>
                                <entity name="IIR" class="ptolemy.actor.lib.IIR">
                                    <property name="numerator" class="ptolemy.data.expr.Parameter" value="{0.0, 1.0}">
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 273.0">
                                    </property>
                                </entity>
                                <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="247.0, 233.5">
                                    </property>
                                </entity>
                                <entity name="Scale" class="ptolemy.actor.lib.Scale">
                                    <property name="factor" class="ptolemy.data.expr.Parameter" value="1/samplePeriod">
                                    </property>
                                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                                        </property>
                                    </property>
                                    <property name="_location" class="ptolemy.kernel.util.Location" value="340.0, 233.5">
                                    </property>
                                </entity>
                                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                    <vertex name="vertex1" value="91.0, 196.0">
                                    </vertex>
                                </relation>
                                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                </relation>
                                <link port="position" relation="relation"/>
                                <link port="velocity" relation="relation4"/>
                                <link port="IIR.input" relation="relation"/>
                                <link port="IIR.output" relation="relation2"/>
                                <link port="AddSubtract.plus" relation="relation"/>
                                <link port="AddSubtract.minus" relation="relation2"/>
                                <link port="AddSubtract.output" relation="relation3"/>
                                <link port="Scale.input" relation="relation3"/>
                                <link port="Scale.output" relation="relation4"/>
                            </entity>
                            <relation name="1:relation" class="ptolemy.actor.TypedIORelation">
                                <vertex name="vertex1" value="75.0, 125.0">
                                </vertex>
                            </relation>
                            <relation name="1:relation3" class="ptolemy.actor.TypedIORelation">
                                <vertex name="vertex1" value="230.0, 325.0">
                                </vertex>
                            </relation>
                            <relation name="1:relation2" class="ptolemy.actor.TypedIORelation">
                                <vertex name="vertex1" value="80.0, 250.0">
                                </vertex>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <link port="throttle_position" relation="1:relation"/>
                            <link port="desired_throttle_position" relation="1:relation2"/>
                            <link port="current" relation="relation"/>
                            <link port="sliding mode controller.1:throttle_position" relation="1:relation"/>
                            <link port="sliding mode controller.1:throttle_velocity" relation="relation2"/>
                            <link port="sliding mode controller.1:current" relation="relation"/>
                            <link port="sliding mode controller.1:desired_throttle_position" relation="1:relation2"/>
                            <link port="sliding mode controller.desired_throttle_velocity" relation="1:relation3"/>
                            <link port="sliding mode controller.desired_throttle_acceleration" relation="relation3"/>
                            <link port="throttle_velocity.position" relation="1:relation"/>
                            <link port="throttle_velocity.velocity" relation="relation2"/>
                            <link port="desired_throttle_velocity.position" relation="1:relation2"/>
                            <link port="desired_throttle_velocity.velocity" relation="1:relation3"/>
                            <link port="desired_throttle_acceleration.position" relation="1:relation3"/>
                            <link port="desired_throttle_acceleration.velocity" relation="relation3"/>
                        </entity>
                        <entity name="throttle_position" class="ptolemy.actor.lib.VectorDisassembler">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="135.0, 125.0">
                            </property>
                        </entity>
                        <relation name="1:relation2" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <link port="throttle_positions" relation="relation"/>
                        <link port="desired_throttle_position" relation="relation2"/>
                        <link port="current" relation="relation3"/>
                        <link port="sliding mode controller with estimator.throttle_position" relation="1:relation2"/>
                        <link port="sliding mode controller with estimator.desired_throttle_position" relation="relation2"/>
                        <link port="sliding mode controller with estimator.current" relation="relation3"/>
                        <link port="throttle_position.input" relation="relation"/>
                        <link port="throttle_position.output" relation="1:relation2"/>
                    </entity>
                    <relation name="throttle_positionsRelation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="desired_throttle_positionRelation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="currentRelation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="modeRelation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <link port="throttle_positions" relation="throttle_positionsRelation"/>
                    <link port="desired_throttle_position" relation="desired_throttle_positionRelation"/>
                    <link port="current" relation="currentRelation"/>
                    <link port="mode" relation="modeRelation"/>
                    <link port="_Controller.throttle_positions" relation="throttle_positionsRelation"/>
                    <link port="_Controller.desired_throttle_position" relation="desired_throttle_positionRelation"/>
                    <link port="_Controller.servo_control_output" relation="currentRelation"/>
                    <link port="_Controller.mode" relation="modeRelation"/>
                    <link port="driver.throttle_positions" relation="throttle_positionsRelation"/>
                    <link port="driver.desired_throttle_position" relation="desired_throttle_positionRelation"/>
                    <link port="driver.current" relation="currentRelation"/>
                    <link port="driver.mode" relation="modeRelation"/>
                    <link port="limp_home.throttle_positions" relation="throttle_positionsRelation"/>
                    <link port="limp_home.desired_throttle_position" relation="desired_throttle_positionRelation"/>
                    <link port="limp_home.current" relation="currentRelation"/>
                    <link port="limp_home.mode" relation="modeRelation"/>
                </entity>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="485.0, 250.0">
                    </vertex>
                </relation>
                <link port="servo_control_output" relation="relation7"/>
                <link port="manager_output" relation="relation4"/>
                <link port="throttle_position" relation="relation3"/>
                <link port="pedal_position" relation="relation"/>
                <link port="modal_controller.throttle_positions" relation="relation3"/>
                <link port="modal_controller.desired_throttle_position" relation="relation"/>
                <link port="modal_controller.current" relation="relation7"/>
                <link port="modal_controller.mode" relation="relation4"/>
            </entity>
            <entity name="monitor" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="285.0, 95.0">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[667, 400]">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[71, 127]">
                </property>
                <property name="frequency" class="ptolemy.data.expr.Parameter" value="monitor_frequency">
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 45.0">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={71, 125, 882, 518}}">
                </property>
                <port name="monitor_output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="535.0, 220.0">
                    </property>
                    <property name="initialValue" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                    </property>
                </port>
                <port name="servo_control_output_current" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="140.0, 105.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="motor_current" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 165.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 220.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <port name="manager_output" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 300.0">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                    </property>
                </port>
                <entity name="error_p" class="ptolemy.actor.lib.logic.LogicFunction">
                    <property name="function" class="ptolemy.kernel.util.StringAttribute" value="or">
                        <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                            <property name="and" class="ptolemy.kernel.util.StringAttribute" value="and">
                            </property>
                            <property name="or" class="ptolemy.kernel.util.StringAttribute" value="or">
                            </property>
                            <property name="xor" class="ptolemy.kernel.util.StringAttribute" value="xor">
                            </property>
                            <property name="nand" class="ptolemy.kernel.util.StringAttribute" value="nand">
                            </property>
                            <property name="nor" class="ptolemy.kernel.util.StringAttribute" value="nor">
                            </property>
                            <property name="xnor" class="ptolemy.kernel.util.StringAttribute" value="xnor">
                            </property>
                        </property>
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="390.0, 220.0">
                    </property>
                </entity>
                <entity name="tps fault detection" class="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="265.0, 220.0">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                    </property>
                    <property name="tps_error_threshold" class="ptolemy.data.expr.Parameter" value="1e-3">
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
                    </property>
                    <port name="tps" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="15.0, 175.0">
                        </property>
                        <property name="tps_error_threshold" class="ptolemy.data.expr.Parameter" value="tps_error_threshold">
                        </property>
                    </port>
                    <port name="tps_error_p" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="520.0, 230.0">
                        </property>
                    </port>
                    <entity name="tps1, tps2" class="ptolemy.actor.lib.VectorDisassembler">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="100.0, 155.0">
                        </property>
                    </entity>
                    <entity name="sensor error" class="ptolemy.actor.lib.AddSubtract">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="225.0, 175.0">
                        </property>
                    </entity>
                    <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
                        <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                            <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                                </property>
                                <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                                </property>
                                <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                                </property>
                                <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                                </property>
                                <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                                </property>
                            </property>
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="430.0, 230.0">
                        </property>
                    </entity>
                    <entity name="AbsoluteValue" class="ptolemy.actor.lib.AbsoluteValue">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="330.0, 175.0">
                        </property>
                    </entity>
                    <entity name="tps_error_threshold" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="tps_error_threshold">
                        </property>
                        <doc>Create a constant sequence</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="175.0, 240.0">
                        </property>
                    </entity>
                    <relation name="1:relation7" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="1:relation5" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="1:relation4" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="1:relation6" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        <vertex name="vertex1" value="55.0, 175.0">
                        </vertex>
                    </relation>
                    <link port="tps" relation="relation"/>
                    <link port="tps_error_p" relation="relation2"/>
                    <link port="tps1, tps2.input" relation="relation"/>
                    <link port="tps1, tps2.output" relation="1:relation4"/>
                    <link port="tps1, tps2.output" relation="1:relation5"/>
                    <link port="sensor error.plus" relation="1:relation4"/>
                    <link port="sensor error.minus" relation="1:relation5"/>
                    <link port="sensor error.output" relation="1:relation6"/>
                    <link port="Comparator.left" relation="1:relation7"/>
                    <link port="Comparator.right" relation="relation3"/>
                    <link port="Comparator.output" relation="relation2"/>
                    <link port="AbsoluteValue.input" relation="1:relation6"/>
                    <link port="AbsoluteValue.output" relation="1:relation7"/>
                    <link port="tps_error_threshold.output" relation="relation3"/>
                </entity>
                <entity name="actuator fault detection" class="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="265.0, 155.0">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[420, -16]">
                    </property>
                    <port name="desired_current" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="82.5, 154.0">
                        </property>
                    </port>
                    <port name="actual_current" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="79.0, 224.0">
                        </property>
                    </port>
                    <port name="actuator_error_p" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="409.99998474121094, 190.00000762939453">
                        </property>
                    </port>
                    <entity name="placeholder" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <doc>Create a constant sequence</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="295.0, 190.0">
                        </property>
                    </entity>
                    <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
                        <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                            <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                                </property>
                                <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                                </property>
                                <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                                </property>
                                <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                                </property>
                                <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                                </property>
                            </property>
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 190.0">
                        </property>
                    </entity>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <link port="desired_current" relation="relation3"/>
                    <link port="actual_current" relation="relation4"/>
                    <link port="actuator_error_p" relation="relation"/>
                    <link port="placeholder.output" relation="relation"/>
                    <link port="placeholder.trigger" relation="relation5"/>
                    <link port="Comparator.left" relation="relation3"/>
                    <link port="Comparator.right" relation="relation4"/>
                    <link port="Comparator.output" relation="relation5"/>
                </entity>
                <entity name="task fault detection" class="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="265.0, 290.0">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                    </property>
                    <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[420, -16]">
                    </property>
                    <port name="desired_current" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="82.5, 154.0">
                        </property>
                    </port>
                    <port name="mode" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 235.0">
                        </property>
                    </port>
                    <port name="task_error_p" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="375.0, 200.0">
                        </property>
                    </port>
                    <entity name="placeholder" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <doc>Create a constant sequence</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, 200.0">
                        </property>
                    </entity>
                    <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
                        <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                            <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                                <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                                </property>
                                <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                                </property>
                                <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                                </property>
                                <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                                </property>
                                <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                                </property>
                            </property>
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="170.0, 200.0">
                        </property>
                    </entity>
                    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    </relation>
                    <link port="desired_current" relation="relation3"/>
                    <link port="mode" relation="relation4"/>
                    <link port="task_error_p" relation="relation"/>
                    <link port="placeholder.output" relation="relation"/>
                    <link port="placeholder.trigger" relation="relation5"/>
                    <link port="Comparator.left" relation="relation3"/>
                    <link port="Comparator.right" relation="relation4"/>
                    <link port="Comparator.output" relation="relation5"/>
                </entity>
                <relation name="relation19" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <vertex name="vertex1" value="180.0, 145.0">
                    </vertex>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="monitor_output" relation="relation2"/>
                <link port="servo_control_output_current" relation="relation7"/>
                <link port="motor_current" relation="relation19"/>
                <link port="throttle_position" relation="relation"/>
                <link port="manager_output" relation="relation6"/>
                <link port="error_p.input" relation="relation3"/>
                <link port="error_p.input" relation="relation5"/>
                <link port="error_p.input" relation="relation8"/>
                <link port="error_p.output" relation="relation2"/>
                <link port="tps fault detection.tps" relation="relation"/>
                <link port="tps fault detection.tps_error_p" relation="relation5"/>
                <link port="actuator fault detection.desired_current" relation="relation7"/>
                <link port="actuator fault detection.actual_current" relation="relation19"/>
                <link port="actuator fault detection.actuator_error_p" relation="relation3"/>
                <link port="task fault detection.desired_current" relation="relation7"/>
                <link port="task fault detection.mode" relation="relation6"/>
                <link port="task fault detection.task_error_p" relation="relation8"/>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="230.0, 150.0">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="470.0, 55.0">
                </vertex>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="245.0, 140.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="350.0, 205.0">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="throttle_motor_current" relation="relation2"/>
            <link port="motor_current" relation="relation3"/>
            <link port="desired_throttlel_position" relation="relation8"/>
            <link port="throttle_position" relation="relation"/>
            <link port="user_mode" relation="relation11"/>
            <link port="manager.manager_output" relation="relation5"/>
            <link port="manager.monitor_output" relation="relation4"/>
            <link port="manager.user_mode" relation="relation11"/>
            <link port="servo_control.servo_control_output" relation="relation2"/>
            <link port="servo_control.manager_output" relation="relation5"/>
            <link port="servo_control.throttle_position" relation="relation"/>
            <link port="servo_control.pedal_position" relation="relation8"/>
            <link port="monitor.monitor_output" relation="relation4"/>
            <link port="monitor.servo_control_output_current" relation="relation2"/>
            <link port="monitor.motor_current" relation="relation3"/>
            <link port="monitor.throttle_position" relation="relation"/>
            <link port="monitor.manager_output" relation="relation5"/>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="150.0, 165.0">
            </vertex>
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="365.0, 255.0">
            </vertex>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="throttle_positions" relation="relation11"/>
        <link port="desired_throttle_position" relation="relation5"/>
        <link port="current" relation="relation4"/>
        <link port="actual_motor_current" relation="relation"/>
        <link port="pwm driver.motor_current" relation="relation"/>
        <link port="pwm driver.desired_current" relation="relation6"/>
        <link port="pwm driver.pwm_signal" relation="relation4"/>
        <link port="user_mode.output" relation="relation3"/>
        <link port="real_time_controller.throttle_motor_current" relation="relation6"/>
        <link port="real_time_controller.motor_current" relation="relation"/>
        <link port="real_time_controller.desired_throttlel_position" relation="relation5"/>
        <link port="real_time_controller.throttle_position" relation="relation11"/>
        <link port="real_time_controller.user_mode" relation="relation3"/>
    </entity>
    <entity name="actuators" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="120.0, 355.0">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 635]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[-4, 10]">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">pwm_signal is 1.0 or 0.0 meaning 
respectively pwm is on or off.</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="45.0, 260.0">
            </property>
        </property>
        <property name="volts_batt" class="ptolemy.data.expr.Parameter" value="12.0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 205.0">
            </property>
        </property>
        <property name="min_motor_amps" class="ptolemy.data.expr.Parameter" value="0.0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 220.0">
            </property>
        </property>
        <property name="max_motor_amps" class="ptolemy.data.expr.Parameter" value="7.4">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 235.0">
            </property>
        </property>
        <property name="Rc" class="ptolemy.data.expr.Parameter" value="1.5">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 250.0">
            </property>
        </property>
        <property name="Rbat" class="ptolemy.data.expr.Parameter" value="0.5">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 265.0">
            </property>
        </property>
        <property name="L" class="ptolemy.data.expr.Parameter" value="1.5e-3">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 280.0">
            </property>
        </property>
        <property name="C" class="ptolemy.data.expr.Parameter" value="1.5e-3">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 295.0">
            </property>
        </property>
        <property name="Rtot" class="ptolemy.data.expr.Parameter" value="Rbat+Rc">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 310.0">
            </property>
        </property>
        <property name="motor_on_Ax_11" class="ptolemy.data.expr.Parameter" value="-1/C/Rtot">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 325.0">
            </property>
        </property>
        <property name="motor_on_Ax_12" class="ptolemy.data.expr.Parameter" value="-Rbat/C/Rtot">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 340.0">
            </property>
        </property>
        <property name="motor_on_Ax_21" class="ptolemy.data.expr.Parameter" value="Rbat/L/Rtot">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 355.0">
            </property>
        </property>
        <property name="motor_on_Ax_22" class="ptolemy.data.expr.Parameter" value="(-Ra-Rbat+Rbat/Rtot)/L">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 370.0">
            </property>
        </property>
        <property name="motor_on_B_Vbat_1" class="ptolemy.data.expr.Parameter" value="1/C/Rtot">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 385.0">
            </property>
        </property>
        <property name="motor_on_B_Vbat_2" class="ptolemy.data.expr.Parameter" value="(1-Rbat/Rtot)/L">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 400.0">
            </property>
        </property>
        <property name="motor_on_B_Vbemf_1" class="ptolemy.data.expr.Parameter" value="0.0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 415.0">
            </property>
        </property>
        <property name="motor_on_B_Vbemf_2" class="ptolemy.data.expr.Parameter" value="-1/L">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 430.0">
            </property>
        </property>
        <property name="motor_off_Ax_11" class="ptolemy.data.expr.Parameter" value="0.0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 445.0">
            </property>
        </property>
        <property name="motor_off_Ax_12" class="ptolemy.data.expr.Parameter" value="-1/L">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 460.0">
            </property>
        </property>
        <property name="motor_off_Ax_21" class="ptolemy.data.expr.Parameter" value="1/L">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 475.0">
            </property>
        </property>
        <property name="motor_off_Ax_22" class="ptolemy.data.expr.Parameter" value="-(Rc+Ra)/L">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 490.0">
            </property>
        </property>
        <property name="motor_off_B_Vbemf_1" class="ptolemy.data.expr.Parameter" value="0.0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="580.0, 505.0">
            </property>
        </property>
        <property name="motor_off_B_Vbemf_2" class="ptolemy.data.expr.Parameter" value="-1/L">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="579.0, 522.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, 7, 1032, 753}}">
        </property>
        <property name="annotation2" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The interface between the discrete-time controller and
the continuous-time systems.  The actuator values are
interpolated using zero-order-hold.</text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 450.0">
            </property>
        </property>
        <port name="back_emf" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 130.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="pwm_signal" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="70.0, 375.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="motor_torque" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="600.0, 60.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="motor_current" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="605.0, 110.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <entity name="i_dot" class="ptolemy.actor.lib.BooleanSelect">
            <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 215.0">
            </property>
            <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="control" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
            <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                    <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                    </property>
                    <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                    </property>
                    <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                    </property>
                    <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                    </property>
                    <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                    </property>
                </property>
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="270.0, 415.0">
            </property>
            <port name="left" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="right" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="pwm on" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 45.0">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[747, 626]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[31, 14]">
            </property>
            <port name="back_emf" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="51.0, 44.0">
                </property>
            </port>
            <port name="vc" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="26.0, 176.0">
                </property>
            </port>
            <port name="vc_dot" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="605.5, 214.0">
                </property>
            </port>
            <port name="i_dot" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="601.0, 269.0">
                </property>
            </port>
            <port name="i" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="26.0, 240.0">
                </property>
            </port>
            <entity name="vc" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="530.0, 162.5">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="emf_1" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 54.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="emf_2" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 329.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="i" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 428.0">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="volts_batt" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="volts_batt">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="54.5, 109.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_on_B_Vbemf_1" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_B_Vbemf_1">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="234.5, 79.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_on_B_Vbemf_2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_B_Vbemf_2">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="235.5, 354.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="bat_1" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 119.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="bat_2" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 389.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="motor_on_B_Vbat_1" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_B_Vbat_1">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="234.5, 144.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_on_B_Vbat_2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_B_Vbat_2">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="240.5, 414.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="Ax_11" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 184.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="Ax_12" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 249.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="motor_on_Ax_11" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_Ax_11">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="239.0, 209.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_on_Ax_12" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_Ax_12">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="245.0, 274.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="Ax_22" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 509.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="motor_on_Ax_22" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_Ax_22">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="250.0, 534.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_on_Ax_21" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_on_Ax_21">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="249.0, 474.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="Ax_21" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 449.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="106.0, 51.0">
                </vertex>
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="116.0, 116.0">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="126.0, 181.0">
                </vertex>
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="136.0, 246.0">
                </vertex>
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="back_emf" relation="relation4"/>
            <link port="vc" relation="relation11"/>
            <link port="vc_dot" relation="relation13"/>
            <link port="i_dot" relation="relation"/>
            <link port="i" relation="relation14"/>
            <link port="vc.plus" relation="relation16"/>
            <link port="vc.plus" relation="relation17"/>
            <link port="vc.plus" relation="relation18"/>
            <link port="vc.plus" relation="relation19"/>
            <link port="vc.output" relation="relation13"/>
            <link port="emf_1.multiply" relation="relation4"/>
            <link port="emf_1.multiply" relation="relation2"/>
            <link port="emf_1.output" relation="relation16"/>
            <link port="emf_2.multiply" relation="relation4"/>
            <link port="emf_2.multiply" relation="relation8"/>
            <link port="emf_2.output" relation="relation20"/>
            <link port="i.plus" relation="relation20"/>
            <link port="i.plus" relation="relation21"/>
            <link port="i.plus" relation="relation22"/>
            <link port="i.plus" relation="relation23"/>
            <link port="i.output" relation="relation"/>
            <link port="volts_batt.output" relation="relation10"/>
            <link port="motor_on_B_Vbemf_1.output" relation="relation2"/>
            <link port="motor_on_B_Vbemf_2.output" relation="relation8"/>
            <link port="bat_1.multiply" relation="relation10"/>
            <link port="bat_1.multiply" relation="relation3"/>
            <link port="bat_1.output" relation="relation17"/>
            <link port="bat_2.multiply" relation="relation10"/>
            <link port="bat_2.multiply" relation="relation12"/>
            <link port="bat_2.output" relation="relation21"/>
            <link port="motor_on_B_Vbat_1.output" relation="relation3"/>
            <link port="motor_on_B_Vbat_2.output" relation="relation12"/>
            <link port="Ax_11.multiply" relation="relation11"/>
            <link port="Ax_11.multiply" relation="relation6"/>
            <link port="Ax_11.output" relation="relation18"/>
            <link port="Ax_12.multiply" relation="relation14"/>
            <link port="Ax_12.multiply" relation="relation7"/>
            <link port="Ax_12.output" relation="relation19"/>
            <link port="motor_on_Ax_11.output" relation="relation6"/>
            <link port="motor_on_Ax_12.output" relation="relation7"/>
            <link port="Ax_22.multiply" relation="relation14"/>
            <link port="Ax_22.multiply" relation="relation24"/>
            <link port="Ax_22.output" relation="relation23"/>
            <link port="motor_on_Ax_22.output" relation="relation24"/>
            <link port="motor_on_Ax_21.output" relation="relation15"/>
            <link port="Ax_21.multiply" relation="relation11"/>
            <link port="Ax_21.multiply" relation="relation15"/>
            <link port="Ax_21.output" relation="relation22"/>
        </entity>
        <entity name="torque gain" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="Kt">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="530.0, 60.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="current saturation" class="ptolemy.actor.lib.Limiter">
            <property name="bottom" class="ptolemy.data.expr.Parameter" value="min_motor_amps">
            </property>
            <property name="top" class="ptolemy.data.expr.Parameter" value="max_motor_amps">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="495.0, 215.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="pwm signal threshold" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="pwm_strength/2">
            </property>
            <doc>Create a constant sequence</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="120.0, 425.0">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="pwm_off" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="150.0, 190.0">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[747, 626]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[159, 142]">
            </property>
            <port name="vc_dot" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="600.5, 209.0">
                </property>
            </port>
            <port name="i_dot" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="596.0, 264.0">
                </property>
            </port>
            <port name="i" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="46.0, 180.0">
                </property>
            </port>
            <port name="vc" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="46.0, 111.0">
                </property>
            </port>
            <port name="back_emf" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="61.0, 44.0">
                </property>
            </port>
            <entity name="vc" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="515.0, 137.5">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="emf_1" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 54.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="emf_2" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="365.0, 289.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="i" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="515.0, 368.0">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="motor_off_B_Vbemf_1" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_off_B_Vbemf_1">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="234.5, 79.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_off_B_Vbemf_2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_off_B_Vbemf_2">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="241.0, 314.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="Ax_11" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 124.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="Ax_12" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="365.0, 189.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="motor_off_Ax_11" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_off_Ax_11">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="244.5, 149.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_off_Ax_12" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_off_Ax_12">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="245.5, 214.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="Ax_22" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="365.0, 414.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="motor_off_Ax_22" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_off_Ax_22">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="255.5, 439.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="motor_off_Ax_21" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="motor_off_Ax_21">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="254.5, 379.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="Ax_21" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="365.0, 354.5">
                </property>
                <port name="multiply" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="divide" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="106.0, 51.0">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="116.0, 121.0">
                </vertex>
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="126.0, 186.0">
                </vertex>
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="vc_dot" relation="relation13"/>
            <link port="i_dot" relation="relation"/>
            <link port="i" relation="relation14"/>
            <link port="vc" relation="relation11"/>
            <link port="back_emf" relation="relation4"/>
            <link port="vc.plus" relation="relation16"/>
            <link port="vc.plus" relation="relation18"/>
            <link port="vc.plus" relation="relation19"/>
            <link port="vc.output" relation="relation13"/>
            <link port="emf_1.multiply" relation="relation4"/>
            <link port="emf_1.multiply" relation="relation2"/>
            <link port="emf_1.output" relation="relation16"/>
            <link port="emf_2.multiply" relation="relation4"/>
            <link port="emf_2.multiply" relation="relation7"/>
            <link port="emf_2.output" relation="relation20"/>
            <link port="i.plus" relation="relation20"/>
            <link port="i.plus" relation="relation22"/>
            <link port="i.plus" relation="relation23"/>
            <link port="i.output" relation="relation"/>
            <link port="motor_off_B_Vbemf_1.output" relation="relation2"/>
            <link port="motor_off_B_Vbemf_2.output" relation="relation7"/>
            <link port="Ax_11.multiply" relation="relation11"/>
            <link port="Ax_11.multiply" relation="relation3"/>
            <link port="Ax_11.output" relation="relation18"/>
            <link port="Ax_12.multiply" relation="relation14"/>
            <link port="Ax_12.multiply" relation="relation6"/>
            <link port="Ax_12.output" relation="relation19"/>
            <link port="motor_off_Ax_11.output" relation="relation3"/>
            <link port="motor_off_Ax_12.output" relation="relation6"/>
            <link port="Ax_22.multiply" relation="relation14"/>
            <link port="Ax_22.multiply" relation="relation9"/>
            <link port="Ax_22.output" relation="relation23"/>
            <link port="motor_off_Ax_22.output" relation="relation9"/>
            <link port="motor_off_Ax_21.output" relation="relation8"/>
            <link port="Ax_21.multiply" relation="relation11"/>
            <link port="Ax_21.multiply" relation="relation8"/>
            <link port="Ax_21.output" relation="relation22"/>
        </entity>
        <entity name="v_dot" class="ptolemy.actor.lib.BooleanSelect">
            <property name="_location" class="ptolemy.kernel.util.Location" value="360.0, 150.0">
            </property>
            <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="control" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="v" class="ptolemy.domains.ct.lib.Integrator">
            <property name="initialState" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 150.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="i" class="ptolemy.domains.ct.lib.Integrator">
            <property name="initialState" class="ptolemy.data.expr.Parameter" value="0.0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="420.0, 215.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="pwm_signal" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="fillOnWrapup" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="startingDataset" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="250.0, 355.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>Pulse-Width Modulation Signal</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="0.0" max="3.0"/>
<yRange min="0.0" max="1.0"/>
</plot>?>
            </configure>
        </entity>
        <entity name="current" class="ptolemy.domains.ct.lib.ZeroOrderHold">
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="145.0, 375.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="90.0, 130.0">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="460.0, 85.0">
            </vertex>
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="360.0, 280.0">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="485.0, 110.0">
            </vertex>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="210.0, 375.0">
            </vertex>
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="back_emf" relation="relation8"/>
        <link port="pwm_signal" relation="relation15"/>
        <link port="motor_torque" relation="relation13"/>
        <link port="motor_current" relation="relation7"/>
        <link port="i_dot.trueInput" relation="relation12"/>
        <link port="i_dot.falseInput" relation="relation14"/>
        <link port="i_dot.control" relation="relation3"/>
        <link port="i_dot.output" relation="relation6"/>
        <link port="Comparator.left" relation="relation4"/>
        <link port="Comparator.right" relation="relation2"/>
        <link port="Comparator.output" relation="relation3"/>
        <link port="pwm on.back_emf" relation="relation8"/>
        <link port="pwm on.vc" relation="relation9"/>
        <link port="pwm on.vc_dot" relation="relation10"/>
        <link port="pwm on.i_dot" relation="relation12"/>
        <link port="pwm on.i" relation="relation7"/>
        <link port="torque gain.input" relation="relation7"/>
        <link port="torque gain.output" relation="relation13"/>
        <link port="current saturation.input" relation="relation"/>
        <link port="current saturation.output" relation="relation7"/>
        <link port="pwm signal threshold.output" relation="relation2"/>
        <link port="pwm_off.vc_dot" relation="relation11"/>
        <link port="pwm_off.i_dot" relation="relation14"/>
        <link port="pwm_off.i" relation="relation7"/>
        <link port="pwm_off.vc" relation="relation9"/>
        <link port="pwm_off.back_emf" relation="relation8"/>
        <link port="v_dot.trueInput" relation="relation10"/>
        <link port="v_dot.falseInput" relation="relation11"/>
        <link port="v_dot.control" relation="relation3"/>
        <link port="v_dot.output" relation="relation5"/>
        <link port="v.input" relation="relation5"/>
        <link port="v.output" relation="relation9"/>
        <link port="i.input" relation="relation6"/>
        <link port="i.output" relation="relation"/>
        <link port="pwm_signal.input" relation="relation4"/>
        <link port="current.input" relation="relation15"/>
        <link port="current.output" relation="relation4"/>
    </entity>
    <entity name="sensors" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="465.0, 330.0">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[817, 628]">
        </property>
        <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[75, 61]">
        </property>
        <property name="accelpos2rads" class="ptolemy.data.expr.Parameter" value="1.0">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 470.0">
            </property>
        </property>
        <property name="good" class="ptolemy.data.expr.Parameter" value="true">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 485.0">
            </property>
        </property>
        <property name="bad" class="ptolemy.data.expr.Parameter" value="false">
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 500.0">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-4, -4, 1032, 746}}">
        </property>
        <property name="annotation" class="ptolemy.kernel.util.Attribute">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The interface between the continuous-time systems and
the discrete-time controller.  The sensors are assumed 
to be sampled periodically with period "samplePeriod". </text></svg></configure>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
            </property>
            <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 375.0">
            </property>
        </property>
        <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="56.0, 160.5">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="sampled_throttle_positions" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="575.0, 150.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="accelerator_position" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 270.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="desired_throttle_position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="515.0, 270.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="powertrain_inputs" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 400.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="motor_current" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="55.0, 335.0">
            </property>
        </port>
        <port name="sampled_motor_current" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="unknown">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="520.0, 335.0">
            </property>
        </port>
        <entity name="LVDT (or potentiometer)" class="ptolemy.actor.lib.Scale">
            <property name="factor" class="ptolemy.data.expr.Parameter" value="accelpos2rads">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 270.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="signal discarded" class="ptolemy.actor.lib.Discard">
            <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 400.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="throttle_positions" class="ptolemy.actor.lib.VectorAssembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="355.0, 130.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Sensor 1" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 115.0">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="35.0, 155.0">
                </property>
            </port>
            <port name="throttle_position_fromSensor1" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="430.0, 205.0">
                </property>
            </port>
            <entity name="tps1" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="160.0, 155.0">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                </property>
                <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="84.0, 154.0">
                    </property>
                </port>
                <port name="tps_volts" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="447.0, 154.0">
                    </property>
                </port>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="throttle_position" relation="relation"/>
                <link port="tps_volts" relation="relation"/>
            </entity>
            <entity name="tps1 status" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="tps_1_good">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="65.0, 285.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="sensor_1_working_p" class="ptolemy.actor.lib.BooleanSelect">
                <property name="_location" class="ptolemy.kernel.util.Location" value="265.0, 205.0">
                </property>
                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="control" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="sensor error 1" class="ptolemy.actor.lib.Uniform">
                <property name="seed" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="-PI">
                </property>
                <property name="upperBound" class="ptolemy.data.expr.Parameter" value="PI">
                </property>
                <doc>Create a sequence of uniformly distributed random numbers</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="120.0, 215.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation_2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2_8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="throttle_position" relation="relation_2"/>
            <link port="throttle_position_fromSensor1" relation="relation2_8"/>
            <link port="tps1.throttle_position" relation="relation_2"/>
            <link port="tps1.tps_volts" relation="relation2"/>
            <link port="tps1 status.output" relation="relation3"/>
            <link port="sensor_1_working_p.trueInput" relation="relation2"/>
            <link port="sensor_1_working_p.falseInput" relation="relation"/>
            <link port="sensor_1_working_p.control" relation="relation3"/>
            <link port="sensor_1_working_p.output" relation="relation2_8"/>
            <link port="sensor error 1.output" relation="relation"/>
        </entity>
        <entity name="Sensor 2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="180.0, 200.0">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="20.0, 130.00000254313153">
                </property>
            </port>
            <port name="throttle_position_fromSensor2" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="399.8359375, 206.78385416666669">
                </property>
            </port>
            <entity name="tps2" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="125.0, 130.00000254313153">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                </property>
                <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
                </property>
                <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="69.0, 149.0">
                    </property>
                </port>
                <port name="tps_volts" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="452.0, 149.0">
                    </property>
                </port>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="throttle_position" relation="relation"/>
                <link port="tps_volts" relation="relation"/>
            </entity>
            <entity name="sensor_2_working_p" class="ptolemy.actor.lib.BooleanSelect">
                <property name="_location" class="ptolemy.kernel.util.Location" value="249.8359375, 206.78385416666669">
                </property>
                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="control" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="sensor error 2" class="ptolemy.actor.lib.Uniform">
                <property name="seed" class="ptolemy.data.expr.Parameter" value="1000">
                </property>
                <property name="lowerBound" class="ptolemy.data.expr.Parameter" value="-PI">
                </property>
                <property name="upperBound" class="ptolemy.data.expr.Parameter" value="PI">
                </property>
                <doc>Create a sequence of uniformly distributed random numbers</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="90.0, 240.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <entity name="tps2 status" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="tps_2_good">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="139.8359375, 301.7838541666667">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation_4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6_8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="throttle_position" relation="relation_4"/>
            <link port="throttle_position_fromSensor2" relation="relation6_8"/>
            <link port="tps2.throttle_position" relation="relation_4"/>
            <link port="tps2.tps_volts" relation="relation2"/>
            <link port="sensor_2_working_p.trueInput" relation="relation2"/>
            <link port="sensor_2_working_p.falseInput" relation="relation"/>
            <link port="sensor_2_working_p.control" relation="relation7"/>
            <link port="sensor_2_working_p.output" relation="relation6_8"/>
            <link port="sensor error 2.output" relation="relation"/>
            <link port="tps2 status.output" relation="relation7"/>
        </entity>
        <entity name="sampled throttle_position" class="ptolemy.domains.ct.lib.CTPeriodicSampler">
            <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="samplePeriod">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="495.0, 150.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="sampled accelerator_position" class="ptolemy.domains.ct.lib.CTPeriodicSampler">
            <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="samplePeriod">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="430.0, 270.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="multiport"/>
            </port>
        </entity>
        <entity name="sampled motor_current" class="ptolemy.domains.ct.lib.CTPeriodicSampler">
            <property name="samplePeriod" class="ptolemy.data.expr.Parameter" value="samplePeriod">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="430.0, 335.0">
            </property>
            <port name="input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="multiport"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="multiport"/>
            </port>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="131.0, 160.5">
            </vertex>
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="throttle_position" relation="relation"/>
        <link port="sampled_throttle_positions" relation="relation5"/>
        <link port="accelerator_position" relation="relation12"/>
        <link port="desired_throttle_position" relation="relation7"/>
        <link port="powertrain_inputs" relation="relation14"/>
        <link port="motor_current" relation="relation8"/>
        <link port="sampled_motor_current" relation="relation9"/>
        <link port="LVDT (or potentiometer).input" relation="relation12"/>
        <link port="LVDT (or potentiometer).output" relation="relation6"/>
        <link port="signal discarded.input" relation="relation14"/>
        <link port="throttle_positions.input" relation="relation2"/>
        <link port="throttle_positions.input" relation="relation3"/>
        <link port="throttle_positions.output" relation="relation4"/>
        <link port="Sensor 1.throttle_position" relation="relation"/>
        <link port="Sensor 1.throttle_position_fromSensor1" relation="relation2"/>
        <link port="Sensor 2.throttle_position" relation="relation"/>
        <link port="Sensor 2.throttle_position_fromSensor2" relation="relation3"/>
        <link port="sampled throttle_position.input" relation="relation4"/>
        <link port="sampled throttle_position.output" relation="relation5"/>
        <link port="sampled accelerator_position.input" relation="relation6"/>
        <link port="sampled accelerator_position.output" relation="relation7"/>
        <link port="sampled motor_current.input" relation="relation8"/>
        <link port="sampled motor_current.output" relation="relation9"/>
    </entity>
    <entity name="physical systems" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="240.0, 320.0">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
        </property>
        <port name="torque" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="95.0, 190.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="back_emf" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 165.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 215.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="accelerator_position" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="430.0, 95.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="powertrain_inputs" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 280.0">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <entity name="throttle" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="285.0, 190.0">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[766, 503]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[21, 76]">
            </property>
            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The dynamics of the mechanical throttle body modeled as a second order 
system with forced spring pull-back.</text></svg></configure>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="20.0, 20.0">
                </property>
            </property>
            <port name="torque" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="50.0, 150.0">
                </property>
            </port>
            <port name="back_emf" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="425.0, 90.0">
                </property>
            </port>
            <port name="throttle_position" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="520.0, 160.0">
                </property>
            </port>
            <entity name="sigma_T" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="110.0, 160.0">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="inertia" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="1/J">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="190.0, 160.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="omega" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="255.0, 160.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="theta" class="ptolemy.domains.ct.lib.Integrator">
                <property name="initialState" class="ptolemy.data.expr.Parameter" value="1.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="325.0, 160.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="" class="ptolemy.actor.lib.MathFunction">
                <property name="function" class="ptolemy.data.expr.StringParameter" value="sign">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="exp" class="ptolemy.kernel.util.StringAttribute" value="exp">
                        </property>
                        <property name="log" class="ptolemy.kernel.util.StringAttribute" value="log">
                        </property>
                        <property name="modulo" class="ptolemy.kernel.util.StringAttribute" value="modulo">
                        </property>
                        <property name="sign" class="ptolemy.kernel.util.StringAttribute" value="sign">
                        </property>
                        <property name="square" class="ptolemy.kernel.util.StringAttribute" value="square">
                        </property>
                        <property name="sqrt" class="ptolemy.kernel.util.StringAttribute" value="sqrt">
                        </property>
                    </property>
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 300.0">
                </property>
                <port name="firstOperand" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="sign(omega) gain" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="Kf">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 300.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="damping gain" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="Kd">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 370.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="angular gain" class="ptolemy.actor.lib.Scale">
                <property name="factor" class="ptolemy.data.expr.Parameter" value="Ks">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="525.0, 230.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 230.0">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="total gain" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="660.0, 275.0">
                </property>
                <port name="plus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="minus" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="throttle position saturation" class="ptolemy.actor.lib.Limiter">
                <property name="bottom" class="ptolemy.data.expr.Parameter" value="alpha_min">
                </property>
                <property name="top" class="ptolemy.data.expr.Parameter" value="alpha_max">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="435.0, 160.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="theta_eq" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="theta_eq">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="345.0, 240.0">
                </property>
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="290.0, 160.0">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="375.0, 160.0">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="715.0, 405.0">
                </vertex>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="torque" relation="relation10"/>
            <link port="back_emf" relation="relation7"/>
            <link port="throttle_position" relation="relation8"/>
            <link port="sigma_T.plus" relation="relation10"/>
            <link port="sigma_T.minus" relation="relation16"/>
            <link port="sigma_T.output" relation="relation"/>
            <link port="inertia.input" relation="relation"/>
            <link port="inertia.output" relation="relation3"/>
            <link port="omega.input" relation="relation3"/>
            <link port="omega.output" relation="relation6"/>
            <link port="theta.input" relation="relation6"/>
            <link port="theta.output" relation="relation7"/>
            <link port=".firstOperand" relation="relation6"/>
            <link port=".output" relation="relation9"/>
            <link port="sign(omega) gain.input" relation="relation9"/>
            <link port="sign(omega) gain.output" relation="relation13"/>
            <link port="damping gain.input" relation="relation6"/>
            <link port="damping gain.output" relation="relation15"/>
            <link port="angular gain.input" relation="relation11"/>
            <link port="angular gain.output" relation="relation14"/>
            <link port="AddSubtract.plus" relation="relation7"/>
            <link port="AddSubtract.minus" relation="relation4"/>
            <link port="AddSubtract.output" relation="relation11"/>
            <link port="total gain.plus" relation="relation13"/>
            <link port="total gain.plus" relation="relation14"/>
            <link port="total gain.plus" relation="relation15"/>
            <link port="total gain.output" relation="relation16"/>
            <link port="throttle position saturation.input" relation="relation7"/>
            <link port="throttle position saturation.output" relation="relation8"/>
            <link port="theta_eq.output" relation="relation4"/>
        </entity>
        <entity name="powertrain inputs" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="290.0, 280.0">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[104, 127]">
            </property>
            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The ETC has several modes of operation including those, such
as rev-limiting, that depend on the powertrain parameters.
These modes are currently not implemented and the powertrain
inputs are put here as a placeholder.</text></svg></configure>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="80.0, 30.0">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
            </property>
            <port name="powertrain_inputs" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="347.0, 189.0">
                </property>
            </port>
            <entity name="placeholder" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="0.0">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="218.0, 189.5">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="powertrain_inputs" relation="relation"/>
            <link port="placeholder.output" relation="relation"/>
        </entity>
        <entity name="driver inputs" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="285.0, 95.0">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
            </property>
            <property name="_vergilLocation" class="ptolemy.actor.gui.LocationAttribute" value="[232, 255]">
            </property>
            <property name="alpha_gain" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
            <property name="annotation" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The accelerator_position models the actual position
of the accelerator pedal in radians.  Zero means
the pedal is not depressed and pi means full throttle.</text></svg></configure>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="75.0, 45.0">
                </property>
            </property>
            <property name="annotation2" class="ptolemy.kernel.util.Attribute">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The "driverInput" is a parameter defined 
at the top level of this model.</text></svg></configure>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
      </svg>
    </configure>
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="0.0, 210.0">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={104, 125, 815, 518}}">
            </property>
            <port name="accelerator_position" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="390.0, 180.0">
                </property>
            </port>
            <entity name="accelerator gain" class="ptolemy.actor.lib.Scale">
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="factor">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="275.0, 180.0">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="Driver Inputs" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="driverInput">
                </property>
                <doc>Create a constant sequence</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="115.0, 180.0">
                </property>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="multiport"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="accelerator_position" relation="relation"/>
            <link port="accelerator gain.input" relation="relation2"/>
            <link port="accelerator gain.output" relation="relation"/>
            <link port="Driver Inputs.output" relation="relation2"/>
        </entity>
        <relation name="relation11_1" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10_7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="torque" relation="relation11_1"/>
        <link port="back_emf" relation="relation10_7"/>
        <link port="throttle_position" relation="relation"/>
        <link port="accelerator_position" relation="relation3"/>
        <link port="powertrain_inputs" relation="relation2"/>
        <link port="throttle.torque" relation="relation11_1"/>
        <link port="throttle.back_emf" relation="relation10_7"/>
        <link port="throttle.throttle_position" relation="relation"/>
        <link port="powertrain inputs.powertrain_inputs" relation="relation2"/>
        <link port="driver inputs.accelerator_position" relation="relation3"/>
    </entity>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="60.0, 420.0">
        </vertex>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="369.99998474121094, 310.0">
        </vertex>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="60.0, 250.0">
        </vertex>
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="345.0, 330.0">
        </vertex>
    </relation>
    <link port="throttle position.input" relation="relation"/>
    <link port="throttle position.input" relation="relation9"/>
    <link port="sampled controller.throttle_positions" relation="relation2"/>
    <link port="sampled controller.desired_throttle_position" relation="relation3"/>
    <link port="sampled controller.current" relation="relation6"/>
    <link port="sampled controller.actual_motor_current" relation="relation8"/>
    <link port="actuators.back_emf" relation="relation10"/>
    <link port="actuators.pwm_signal" relation="relation6"/>
    <link port="actuators.motor_torque" relation="relation11"/>
    <link port="actuators.motor_current" relation="relation7"/>
    <link port="sensors.throttle_position" relation="relation"/>
    <link port="sensors.sampled_throttle_positions" relation="relation2"/>
    <link port="sensors.accelerator_position" relation="relation9"/>
    <link port="sensors.desired_throttle_position" relation="relation3"/>
    <link port="sensors.powertrain_inputs" relation="relation4"/>
    <link port="sensors.motor_current" relation="relation7"/>
    <link port="sensors.sampled_motor_current" relation="relation8"/>
    <link port="physical systems.torque" relation="relation11"/>
    <link port="physical systems.back_emf" relation="relation10"/>
    <link port="physical systems.throttle_position" relation="relation"/>
    <link port="physical systems.accelerator_position" relation="relation9"/>
    <link port="physical systems.powertrain_inputs" relation="relation4"/>
</entity>
