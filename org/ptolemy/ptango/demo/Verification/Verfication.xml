<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="Verfication" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={16, 32, 1335, 680}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1107, 563]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.5929738496387739">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{793.4789110429448, 749.9616564417179}">
    </property>
    <property name="onThreshold" class="ptolemy.data.expr.Parameter" value="70">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -60.0]">
        </property>
    </property>
    <property name="offThreshold" class="ptolemy.data.expr.Parameter" value="120">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -40.0]">
        </property>
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Typical incandescent 60W bulb">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, -125.0]">
        </property>
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[75.0, -140.0]">
        </property>
    </property>
    <property name="Annotation4" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="DE director&#10;stopWhenQueueIsEmpty false&#10;synchronizeToRealTime true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, -110.0]">
        </property>
    </property>
    <property name="Annotation5" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Model&#10;enableBackwardTypeInference true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, -35.0]">
        </property>
    </property>
    <property name="lightAmount" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -135.0]">
        </property>
    </property>
    <property name="Annotation7" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="GET /room request&#10;Returns main page; Initial light status is off&#10;Generates GET to /room/light">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 270.0]">
        </property>
    </property>
    <property name="Annotation9" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="GET /room/light&#10;Request is cached until a light status change occurs (&quot;long polling&quot;)&#10;(See SensorAndrew demo)&#10;Return light status and new light amount ">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[900.0, 565.0]">
        </property>
    </property>
    <property name="Annotation10" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="POST /room/markers&#10;Calculates and returns illumination at the sensor">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, 880.0]">
        </property>
    </property>
    <property name="maximumResponseTime" class="ptolemy.data.expr.Parameter" value="30.0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -5.0]">
        </property>
    </property>
    <property name="Annotation12" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="See also:  SmartRoom demo&#10;Scale:  One pixel = 1 centimeter&#10;(Room would be roughly 15 x 15 feet, 225 sq ft)&#10;&#10;Equation:  Luminous intensity on a spherical surface&#10;I = (3P) / (4*pi*r^2) where P is power in watts or lumens&#10;= Lumens per meter squared">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[795.0, 955.0]">
        </property>
    </property>
    <property name="lightProduced" class="ptolemy.data.expr.Parameter" value="800">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -115.0]">
        </property>
    </property>
    <property name="Annotation13" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Thresholds in lumens">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, -70.0]">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="true">
    </property>
    <property name="WebServer" class="org.ptolemy.ptango.lib.WebServer">
        <property name="resourceLocation" class="ptolemy.data.expr.FileParameter" value="$PTII/org/ptolemy/ptango/demo/Verification/pages">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, -120.0]">
        </property>
    </property>
    <property name="lightIsOn" class="ptolemy.data.expr.Parameter" value="false">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -80.0]">
        </property>
    </property>
    <property name="defaultResponse" class="ptolemy.data.expr.Parameter" value="lightIsOn">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 10.0]">
        </property>
    </property>
    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="TODO: Initialize lightIsOn to false for every GET?  (e.g. page refresh?)">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[705.0, 285.0]">
        </property>
    </property>
    <property name="lightCalculated" class="ptolemy.data.expr.Parameter" value="224.6895212109717">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -155.0]">
        </property>
    </property>
    <property name="Annotation11" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Evalute modal model every 3 seconds">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 650.0]">
        </property>
    </property>
    <entity name="HttpActor" class="org.ptolemy.ptango.lib.HttpActor">
        <property name="path" class="ptolemy.data.expr.StringParameter" value="/room">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 340.0]">
        </property>
        <port name="postParameters" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{onThreshold=string,offThreshold=string}">
            </property>
        </port>
    </entity>
    <entity name="FileReader" class="ptolemy.actor.lib.io.FileReader">
        <property name="fileOrURL" class="ptolemy.data.expr.FileParameter" value="pages/verification.html">
        </property>
        <doc>Read an entire file and output as a string</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 320.0]">
        </property>
    </entity>
    <entity name="MicrostepDelay" class="ptolemy.actor.lib.MicrostepDelay">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 270.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
    </entity>
    <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lightIsOn">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[520.0, 720.0]">
        </property>
    </entity>
    <entity name="MicrostepDelay2" class="ptolemy.actor.lib.MicrostepDelay">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, 835.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
    </entity>
    <entity name="MicrostepDelay3" class="ptolemy.actor.lib.MicrostepDelay">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 500.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
    </entity>
    <entity name="Const" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="&quot;OK&quot;">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[355.0, 500.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
    </entity>
    <entity name="SetVariable4" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lightCalculated">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, 965.0]">
        </property>
    </entity>
    <entity name="MicrostepDelay4" class="ptolemy.actor.lib.MicrostepDelay">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[503.5, 1100.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
    </entity>
    <entity name="CalculateSensorValue" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[300.0, 965.0]">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Assume only one light, one sensor for now">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 175.0]">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={32, 15, 1292, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1036, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{515.0, 415.875}">
        </property>
        <port name="postParameters" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
            </property>
        </port>
        <port name="lightAmount" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1260.0, 335.0]">
            </property>
        </port>
        <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[69.5, 250.0]">
            </property>
            <port name="lightsList" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                </property>
            </port>
            <port name="sensorsList" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                </property>
            </port>
        </entity>
        <entity name="JSONToToken" class="ptolemy.actor.lib.conversions.json.JSONToToken">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 260.0]">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="arrayType({x=string,y=string,name=string})">
                </property>
            </port>
        </entity>
        <entity name="JSONToToken2" class="ptolemy.actor.lib.conversions.json.JSONToToken">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 340.0]">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="arrayType({x=string,y=string,name=string,value=double})">
                </property>
            </port>
        </entity>
        <entity name="IterateOverArray" class="ptolemy.actor.lib.hoc.IterateOverArray">
            <doc>Iterate a contained actor over input arrays</doc>
            <property name="_icon" class="ptolemy.vergil.icon.CopyCatIcon">
            </property>
            <property name="_configurer" class="ptolemy.actor.gui.InsideEntityEditorPaneFactory">
            </property>
            <property name="_tableauFactory" class="ptolemy.actor.gui.LevelSkippingTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[365.0, 260.0]">
            </property>
            <port name="input" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                <property name="output"/>
            </port>
            <entity name="IterateComposite" class="ptolemy.actor.lib.hoc.IterateOverArray$IterateComposite">
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Make sure there is a director here!</text></svg></configure>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
                <svg> 
                    <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
                </svg>
              </configure>
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-5.0, 5.0}">
                    </property>
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[75.0, 80.0]">
                    </property>
                </property>
                <property name="annotation2" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Convert string x, y coordinates to doubles
ExpressionToToken, ExpressionToToken2 output ports set to double
(Right click -> Customize -> Ports)</text></svg></configure>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
                <svg> 
                    <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
                </svg>
              </configure>
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 45.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={25, 151, 928, 617}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 254.984375}">
                </property>
                <port name="input" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 230.0]">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, 230.0]">
                    </property>
                </port>
                <entity name="ExpressionToToken" class="ptolemy.actor.lib.conversions.ExpressionToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 145.0}">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                        </property>
                    </port>
                </entity>
                <entity name="ExpressionToToken2" class="ptolemy.actor.lib.conversions.ExpressionToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 195.0}">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                        </property>
                    </port>
                </entity>
                <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 210.0]">
                    </property>
                    <port name="x" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="y" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="name" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[75.0, 210.0]">
                    </property>
                    <port name="x" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="y" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="name" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <link port="input" relation="relation3"/>
                <link port="output" relation="relation4"/>
                <link port="ExpressionToToken.input" relation="relation5"/>
                <link port="ExpressionToToken.output" relation="relation"/>
                <link port="ExpressionToToken2.input" relation="relation6"/>
                <link port="ExpressionToToken2.output" relation="relation2"/>
                <link port="RecordAssembler.output" relation="relation4"/>
                <link port="RecordAssembler.x" relation="relation"/>
                <link port="RecordAssembler.y" relation="relation2"/>
                <link port="RecordAssembler.name" relation="relation7"/>
                <link port="RecordDisassembler.input" relation="relation3"/>
                <link port="RecordDisassembler.x" relation="relation5"/>
                <link port="RecordDisassembler.y" relation="relation6"/>
                <link port="RecordDisassembler.name" relation="relation7"/>
            </entity>
        </entity>
        <entity name="IterateOverArray2" class="ptolemy.actor.lib.hoc.IterateOverArray">
            <doc>Iterate a contained actor over input arrays</doc>
            <property name="_icon" class="ptolemy.vergil.icon.CopyCatIcon">
            </property>
            <property name="_configurer" class="ptolemy.actor.gui.InsideEntityEditorPaneFactory">
            </property>
            <property name="_tableauFactory" class="ptolemy.actor.gui.LevelSkippingTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[365.0, 340.0]">
            </property>
            <port name="input" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                <property name="output"/>
            </port>
            <entity name="IterateComposite" class="ptolemy.actor.lib.hoc.IterateOverArray$IterateComposite">
                <property name="annotation" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Make sure there is a director here!</text></svg></configure>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
                <svg> 
                    <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
                </svg>
              </configure>
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-5.0, 5.0}">
                    </property>
                </property>
                <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                    <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[75.0, 80.0]">
                    </property>
                </property>
                <property name="annotation2" class="ptolemy.kernel.util.Attribute">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">Convert string x, y coordinates to doubles
ExpressionToToken, ExpressionToToken2 output ports set to double
(Right click -> Customize -> Ports)</text></svg></configure>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
                <svg> 
                    <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-A-</text>
                </svg>
              </configure>
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 45.0]">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 254.984375}">
                </property>
                <port name="input" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 230.0]">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.lib.hoc.IterateOverArray$IteratePort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, 230.0]">
                    </property>
                </port>
                <entity name="ExpressionToToken" class="ptolemy.actor.lib.conversions.ExpressionToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 145.0}">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                        </property>
                    </port>
                </entity>
                <entity name="ExpressionToToken2" class="ptolemy.actor.lib.conversions.ExpressionToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[260.0, 195.0]">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                        </property>
                    </port>
                </entity>
                <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 210.0]">
                    </property>
                    <port name="x" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="y" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="name" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="value" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[75.0, 210.0]">
                    </property>
                    <port name="x" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="y" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="name" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="value" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="ExpressionToToken3" class="ptolemy.actor.lib.conversions.ExpressionToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[260.0, 285.0]">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                        </property>
                    </port>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    <property name="color" class="ptolemy.actor.gui.ColorAttribute">
                    </property>
                </relation>
                <link port="input" relation="relation3"/>
                <link port="output" relation="relation4"/>
                <link port="ExpressionToToken.input" relation="relation5"/>
                <link port="ExpressionToToken.output" relation="relation"/>
                <link port="ExpressionToToken2.input" relation="relation6"/>
                <link port="ExpressionToToken2.output" relation="relation2"/>
                <link port="RecordAssembler.output" relation="relation4"/>
                <link port="RecordAssembler.x" relation="relation"/>
                <link port="RecordAssembler.y" relation="relation2"/>
                <link port="RecordAssembler.name" relation="relation7"/>
                <link port="RecordAssembler.value" relation="relation8"/>
                <link port="RecordDisassembler.input" relation="relation3"/>
                <link port="RecordDisassembler.x" relation="relation5"/>
                <link port="RecordDisassembler.y" relation="relation6"/>
                <link port="RecordDisassembler.name" relation="relation7"/>
                <link port="RecordDisassembler.value" relation="relation9"/>
                <link port="ExpressionToToken3.input" relation="relation9"/>
                <link port="ExpressionToToken3.output" relation="relation8"/>
            </entity>
        </entity>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sqrt( (xLight - xSensor)^2 + (yLight - ySensor)^2 )">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1025.0, 260.0]">
            </property>
            <port name="xLight" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="yLight" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="xSensor" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="ySensor" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(3*P) / (4*3.14159*(r^2)) ">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1120.0, 335.0]">
            </property>
            <port name="r" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="P" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="cm * 0.01">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[796.25, 245.0]">
            </property>
            <port name="cm" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Expression4" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="cm * 0.01">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[796.25, 280.0]">
            </property>
            <port name="cm" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Expression5" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="cm * 0.01">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[796.25, 325.0]">
            </property>
            <port name="cm" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Expression6" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="cm * 0.01">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[800.0, 370.0]">
            </property>
            <port name="cm" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="RecordDisassembler2" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[615.0, 250.0]">
            </property>
            <port name="x" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="y" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="ArrayElement" class="ptolemy.actor.lib.ArrayElement">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 270.0]">
            </property>
        </entity>
        <entity name="ArrayElement2" class="ptolemy.actor.lib.ArrayElement">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 350.0]">
            </property>
        </entity>
        <entity name="RecordDisassembler3" class="ptolemy.actor.lib.RecordDisassembler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[615.0, 330.0]">
            </property>
            <port name="x" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="y" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="lightProduced">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[945.0, 345.0]">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="color" class="ptolemy.actor.gui.ColorAttribute">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="color" class="ptolemy.actor.gui.ColorAttribute">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="color" class="ptolemy.actor.gui.ColorAttribute">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="color" class="ptolemy.actor.gui.ColorAttribute">
            </property>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="color" class="ptolemy.actor.gui.ColorAttribute">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <property name="color" class="ptolemy.actor.gui.ColorAttribute">
            </property>
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[445.0, 260.0]">
            </vertex>
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[445.0, 340.0]">
            </vertex>
        </relation>
        <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation19" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[960.0, 300.0]">
            </vertex>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="postParameters" relation="relation5"/>
        <link port="lightAmount" relation="relation11"/>
        <link port="RecordDisassembler.input" relation="relation5"/>
        <link port="RecordDisassembler.lightsList" relation="relation"/>
        <link port="RecordDisassembler.sensorsList" relation="relation2"/>
        <link port="JSONToToken.input" relation="relation"/>
        <link port="JSONToToken.output" relation="relation3"/>
        <link port="JSONToToken2.input" relation="relation2"/>
        <link port="JSONToToken2.output" relation="relation4"/>
        <link port="IterateOverArray.input" relation="relation3"/>
        <link port="IterateOverArray.output" relation="relation12"/>
        <link port="IterateOverArray2.input" relation="relation4"/>
        <link port="IterateOverArray2.output" relation="relation13"/>
        <link port="Expression.output" relation="relation20"/>
        <link port="Expression.xLight" relation="relation7"/>
        <link port="Expression.yLight" relation="relation8"/>
        <link port="Expression.xSensor" relation="relation9"/>
        <link port="Expression.ySensor" relation="relation10"/>
        <link port="Expression2.output" relation="relation11"/>
        <link port="Expression2.r" relation="relation20"/>
        <link port="Expression2.P" relation="relation6"/>
        <link port="Expression3.output" relation="relation7"/>
        <link port="Expression3.cm" relation="relation18"/>
        <link port="Expression4.output" relation="relation8"/>
        <link port="Expression4.cm" relation="relation15"/>
        <link port="Expression5.output" relation="relation9"/>
        <link port="Expression5.cm" relation="relation17"/>
        <link port="Expression6.output" relation="relation10"/>
        <link port="Expression6.cm" relation="relation19"/>
        <link port="RecordDisassembler2.input" relation="relation14"/>
        <link port="RecordDisassembler2.x" relation="relation18"/>
        <link port="RecordDisassembler2.y" relation="relation15"/>
        <link port="ArrayElement.input" relation="relation12"/>
        <link port="ArrayElement.output" relation="relation14"/>
        <link port="ArrayElement2.input" relation="relation13"/>
        <link port="ArrayElement2.output" relation="relation16"/>
        <link port="RecordDisassembler3.input" relation="relation16"/>
        <link port="RecordDisassembler3.x" relation="relation17"/>
        <link port="RecordDisassembler3.y" relation="relation19"/>
        <link port="Const.output" relation="relation6"/>
        <link port="Const.trigger" relation="relation20"/>
    </entity>
    <entity name="Display" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={512, 261, 342, 246}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[326, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[930.0, 500.0]">
        </property>
    </entity>
    <entity name="Display2" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={648, 352, 342, 246}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[326, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[690.0, 720.0]">
        </property>
    </entity>
    <entity name="BooleanSelect" class="ptolemy.actor.lib.BooleanSelect">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 975.0]">
        </property>
        <port name="trueInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
        </port>
        <port name="falseInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
            </property>
        </port>
        <port name="control" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Const2" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="lightIsOn">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[305.0, 1045.0]">
        </property>
    </entity>
    <entity name="Const3" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 1005.0]">
        </property>
    </entity>
    <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[978.6788024902344, 664.9815368652344]">
        </property>
        <port name="lightIsOn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="lightAmount" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="Expression" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lightAmount">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
            <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[825.0, 700.0]">
        </property>
        <port name="lightIsOn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="TokenToJSON" class="ptolemy.actor.lib.conversions.json.TokenToJSON">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[830.0, 835.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
    </entity>
    <entity name="WaitForReading" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[615.0, 615.0]">
        </property>
        <port name="get" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 250.0]">
            </property>
        </port>
        <port name="response" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 220.0]">
            </property>
        </port>
        <port name="reading" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 320.0]">
            </property>
        </port>
        <entity name="RespondIfNeeded" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 310.0]">
            </property>
            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[35.0, 275.0]">
                </property>
            </port>
            <port name="reading" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 230.0]">
                </property>
            </port>
            <port name="response" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 275.0]">
                </property>
            </port>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="maximumResponseTime">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 275.0]">
                </property>
            </entity>
            <entity name="ResettableTimer" class="ptolemy.actor.lib.ResettableTimer">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 275.0]">
                </property>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="defaultResponse">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[475.0, 275.0]">
                </property>
            </entity>
            <entity name="Merge" class="ptolemy.domains.de.lib.Merge">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 275.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="trigger" relation="relation"/>
            <link port="reading" relation="relation5"/>
            <link port="response" relation="relation4"/>
            <link port="Const.output" relation="relation2"/>
            <link port="Const.trigger" relation="relation"/>
            <link port="ResettableTimer.input" relation="relation2"/>
            <link port="ResettableTimer.output" relation="relation3"/>
            <link port="Const2.output" relation="relation6"/>
            <link port="Const2.trigger" relation="relation3"/>
            <link port="Merge.input" relation="relation5"/>
            <link port="Merge.input" relation="relation6"/>
            <link port="Merge.output" relation="relation4"/>
        </entity>
        <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 250.0]">
            </property>
        </entity>
        <entity name="Sampler" class="ptolemy.actor.lib.Sampler">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[440.0, 220.0]">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[115.0, 250.0]">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="[375.0, 310.0]">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="get" relation="relation"/>
        <link port="response" relation="relation5"/>
        <link port="reading" relation="relation2"/>
        <link port="RespondIfNeeded.trigger" relation="relation"/>
        <link port="RespondIfNeeded.reading" relation="relation2"/>
        <link port="RespondIfNeeded.response" relation="relation3"/>
        <link port="Queue.input" relation="relation"/>
        <link port="Queue.output" relation="relation6"/>
        <link port="Queue.trigger" relation="relation3"/>
        <link port="Sampler.input" relation="relation3"/>
        <link port="Sampler.output" relation="relation5"/>
        <link port="Sampler.trigger" relation="relation6"/>
    </entity>
    <entity name="HttpActor2" class="org.ptolemy.ptango.lib.HttpActor">
        <property name="path" class="ptolemy.data.expr.StringParameter" value="/room/markers">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 975.0]">
        </property>
    </entity>
    <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
        <property name="stateDependentCausality" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[380.0, 720.0]">
        </property>
        <port name="isOn" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="trigger" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
            </property>
            <port name="isOn" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 90.0]">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <entity name="off" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="off">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{220.0, 95.0}">
                </property>
            </entity>
            <entity name="on" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="on">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[315.06705129084, 96.71752663585855]">
                </property>
            </entity>
            <entity name="init" class="ptolemy.domains.modal.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[134.9999885559082, 85.0000074315308]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="lightAmount &lt; onThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="isOn = true">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="lightAmount = lightCalculated">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.807268051463292">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.08795942230878388">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="lightAmount &gt; offThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="isOn = false">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="lightAmount = 0">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.0599419193486461">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.979546672253712">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="lightIsOn = false; lightAmount = 0; onThreshold = 0; offThreshold = 400">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.30423623350289647">
                </property>
            </relation>
            <link port="off.incomingPort" relation="relation2"/>
            <link port="off.incomingPort" relation="relation3"/>
            <link port="off.outgoingPort" relation="relation"/>
            <link port="on.incomingPort" relation="relation"/>
            <link port="on.outgoingPort" relation="relation2"/>
            <link port="init.outgoingPort" relation="relation3"/>
        </entity>
        <entity name="off" class="ptolemy.domains.modal.modal.Refinement">
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{60, 110}">
                </property>
            </property>
            <port name="isOn" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 195.0]">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <entity name="Discrete TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[125.0, 200.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="trigger" relation="relation"/>
            <link port="Discrete TimeDelay.input" relation="relation"/>
        </entity>
        <entity name="on" class="ptolemy.domains.modal.modal.Refinement">
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{60, 105}">
                </property>
            </property>
            <port name="isOn" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 200.0]">
                </property>
            </port>
            <port name="trigger" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <entity name="Discrete TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 200.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="trigger" relation="relation"/>
            <link port="Discrete TimeDelay.input" relation="relation"/>
        </entity>
        <relation name="isOnRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="triggerRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <link port="isOn" relation="isOnRelation"/>
        <link port="trigger" relation="triggerRelation"/>
        <link port="_Controller.isOn" relation="isOnRelation"/>
        <link port="_Controller.trigger" relation="triggerRelation"/>
        <link port="off.isOn" relation="isOnRelation"/>
        <link port="off.trigger" relation="triggerRelation"/>
        <link port="on.isOn" relation="isOnRelation"/>
        <link port="on.trigger" relation="triggerRelation"/>
    </entity>
    <entity name="Display3" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={512, 261, 342, 246}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[326, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[730.0, 1115.0]">
        </property>
    </entity>
    <entity name="HttpActor3" class="org.ptolemy.ptango.lib.HttpActor">
        <property name="path" class="ptolemy.data.expr.StringParameter" value="/room/light">
        </property>
        <property name="timeout" class="ptolemy.data.expr.Parameter" value="31000L">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 645.0]">
        </property>
    </entity>
    <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[375.0, 370.0]">
        </property>
        <port name="onThreshold" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
            </property>
        </port>
        <port name="offThreshold" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
            </property>
        </port>
    </entity>
    <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="onThreshold">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[680.0, 380.0]">
        </property>
    </entity>
    <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="offThreshold">
        </property>
        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[680.0, 425.0]">
        </property>
    </entity>
    <entity name="ExpressionToToken" class="ptolemy.actor.lib.conversions.ExpressionToToken">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 380.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
            </property>
        </port>
    </entity>
    <entity name="ExpressionToToken2" class="ptolemy.actor.lib.conversions.ExpressionToToken">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 435.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
            </property>
        </port>
    </entity>
    <entity name="Const4" class="ptolemy.actor.lib.Const">
        <property name="value" class="ptolemy.data.expr.Parameter" value="lightAmount">
        </property>
        <doc>Create a constant sequence.</doc>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[700.0, 975.0]">
        </property>
    </entity>
    <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="5.0">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 720.0]">
        </property>
    </entity>
    <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[825.0, 385.0]">
        </property>
        <port name="onThreshold" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="offThreshold" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation20" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[615.0, 720.0]">
        </vertex>
    </relation>
    <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[190.0, 995.0]">
        </vertex>
    </relation>
    <relation name="relation21" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation23" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation24" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[645.0, 1100.0]">
        </vertex>
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[770.0, 615.0]">
        </vertex>
    </relation>
    <relation name="relation27" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation29" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation28" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation22" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation25" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[5.0, 500.0]">
        </vertex>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation19" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation26" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation30" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[855.0, 500.0]">
        </vertex>
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="HttpActor.response" relation="relation3"/>
    <link port="HttpActor.response" relation="relation11"/>
    <link port="HttpActor.getRequestURI" relation="relation"/>
    <link port="HttpActor.postParameters" relation="relation4"/>
    <link port="FileReader.output" relation="relation2"/>
    <link port="FileReader.trigger" relation="relation"/>
    <link port="MicrostepDelay.input" relation="relation2"/>
    <link port="MicrostepDelay.output" relation="relation3"/>
    <link port="SetVariable3.input" relation="relation22"/>
    <link port="SetVariable3.output" relation="relation13"/>
    <link port="MicrostepDelay2.input" relation="relation28"/>
    <link port="MicrostepDelay2.output" relation="relation25"/>
    <link port="MicrostepDelay3.input" relation="relation14"/>
    <link port="MicrostepDelay3.output" relation="relation11"/>
    <link port="Const.output" relation="relation14"/>
    <link port="Const.trigger" relation="relation30"/>
    <link port="SetVariable4.input" relation="relation20"/>
    <link port="SetVariable4.output" relation="relation21"/>
    <link port="MicrostepDelay4.input" relation="relation24"/>
    <link port="MicrostepDelay4.output" relation="relation9"/>
    <link port="CalculateSensorValue.postParameters" relation="relation18"/>
    <link port="CalculateSensorValue.lightAmount" relation="relation20"/>
    <link port="Display.input" relation="relation30"/>
    <link port="Display2.input" relation="relation13"/>
    <link port="BooleanSelect.trueInput" relation="relation21"/>
    <link port="BooleanSelect.falseInput" relation="relation23"/>
    <link port="BooleanSelect.control" relation="relation10"/>
    <link port="BooleanSelect.output" relation="relation19"/>
    <link port="Const2.output" relation="relation10"/>
    <link port="Const2.trigger" relation="relation18"/>
    <link port="Const3.output" relation="relation23"/>
    <link port="Const3.trigger" relation="relation18"/>
    <link port="RecordAssembler2.output" relation="relation29"/>
    <link port="RecordAssembler2.lightIsOn" relation="relation16"/>
    <link port="RecordAssembler2.lightAmount" relation="relation27"/>
    <link port="Expression.output" relation="relation27"/>
    <link port="Expression.lightIsOn" relation="relation16"/>
    <link port="TokenToJSON.input" relation="relation29"/>
    <link port="TokenToJSON.output" relation="relation28"/>
    <link port="WaitForReading.get" relation="relation17"/>
    <link port="WaitForReading.response" relation="relation16"/>
    <link port="WaitForReading.reading" relation="relation13"/>
    <link port="HttpActor2.response" relation="relation9"/>
    <link port="HttpActor2.postParameters" relation="relation18"/>
    <link port="ModalModel.isOn" relation="relation22"/>
    <link port="ModalModel.trigger" relation="relation12"/>
    <link port="Display3.input" relation="relation24"/>
    <link port="HttpActor3.response" relation="relation25"/>
    <link port="HttpActor3.getRequestURI" relation="relation17"/>
    <link port="RecordDisassembler.input" relation="relation4"/>
    <link port="RecordDisassembler.onThreshold" relation="relation5"/>
    <link port="RecordDisassembler.offThreshold" relation="relation7"/>
    <link port="SetVariable.input" relation="relation6"/>
    <link port="SetVariable.output" relation="relation15"/>
    <link port="SetVariable2.input" relation="relation8"/>
    <link port="SetVariable2.output" relation="relation26"/>
    <link port="ExpressionToToken.input" relation="relation5"/>
    <link port="ExpressionToToken.output" relation="relation6"/>
    <link port="ExpressionToToken2.input" relation="relation7"/>
    <link port="ExpressionToToken2.output" relation="relation8"/>
    <link port="Const4.output" relation="relation24"/>
    <link port="Const4.trigger" relation="relation19"/>
    <link port="DiscreteClock.output" relation="relation12"/>
    <link port="RecordAssembler.output" relation="relation30"/>
    <link port="RecordAssembler.onThreshold" relation="relation15"/>
    <link port="RecordAssembler.offThreshold" relation="relation26"/>
</entity>
