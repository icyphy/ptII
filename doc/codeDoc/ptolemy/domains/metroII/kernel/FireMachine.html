<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Mar 15 07:01:38 UTC 2018 -->
<title>FireMachine</title>
<meta name="date" content="2018-03-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FireMachine";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/domains/metroII/kernel/EventTimeComparator.html" title="class in ptolemy.domains.metroII.kernel"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.State.html" title="enum in ptolemy.domains.metroII.kernel"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/domains/metroII/kernel/FireMachine.html" target="_top">Frames</a></li>
<li><a href="FireMachine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ptolemy.domains.metroII.kernel</div>
<h2 title="Class FireMachine" class="title">Class FireMachine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ptolemy.domains.metroII.kernel.FireMachine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../ptolemy/domains/metroII/kernel/StartOrResumable.html" title="interface in ptolemy.domains.metroII.kernel">StartOrResumable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../ptolemy/domains/metroII/kernel/BlockingFire.html" title="class in ptolemy.domains.metroII.kernel">BlockingFire</a>, <a href="../../../../ptolemy/domains/metroII/kernel/NonBlockingFire.html" title="class in ptolemy.domains.metroII.kernel">NonBlockingFire</a>, <a href="../../../../ptolemy/domains/metroII/kernel/ResumableFire.html" title="class in ptolemy.domains.metroII.kernel">ResumableFire</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">FireMachine</span>
extends java.lang.Object
implements <a href="../../../../ptolemy/domains/metroII/kernel/StartOrResumable.html" title="interface in ptolemy.domains.metroII.kernel">StartOrResumable</a></pre>
<div class="block">FireMachine is an abstract wrapper for Ptolemy actors to adapt to MetroII
 semantics. FireMachine wraps an actor with a set of FSM interfaces so that
 the actor can be be seen as a FSM from outside. We pre-define the following
 states and each state represents a state of the wrapped actor:
 <ol>
 <li>START: the initial state;</li>
 <li>BEGIN: before getfire() is called;</li>
 <li>FIRING: getfire() 'yield returns' (@see net.jimblackler.Utils) some internal MetroII events;</li>
 <li>END: after getfire() completes;</li>
 <li>FINAL: the final state.</li>
 </ol>
 The wrapper explicitly records the current state of the FSM. The state
 transition is triggered by a function call to startOrResume(events) with
 MetroII events as the arguments.

 <p>
 For any concrete subclass of ActMachine, the StartOrResumable() interface has
 to be implemented, in which how the FSM react to MetroII events (or in other
 words, the state transitions) should be implemented.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Ptolemy II 10.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Liangpeng Guo</dd>

<DT><B>Accepted Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (glp)</td></tr></table></DD>

<DT><B>Proposed Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (glp)</td></tr></table></DD>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.State.html" title="enum in ptolemy.domains.metroII.kernel">FireMachine.State</a></span></code>
<div class="block">Predefined states for the wrapped actor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#FireMachine-ptolemy.actor.Actor-">FireMachine</a></span>(<a href="../../../../ptolemy/actor/Actor.html" title="interface in ptolemy.actor">Actor</a>&nbsp;actor)</code>
<div class="block">Constructs an FireMachine wrapper and initialize the MetroII events.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../ptolemy/actor/Actor.html" title="interface in ptolemy.actor">Actor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#actor--">actor</a></span>()</code>
<div class="block">Returns the wrapped actor.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.State.html" title="enum in ptolemy.domains.metroII.kernel">FireMachine.State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#getState--">getState</a></span>()</code>
<div class="block">Gets the state of the wrapped actor.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../ptolemy/domains/metroII/kernel/util/ProtoBuf/metroIIcomm.Event.Builder.html" title="class in ptolemy.domains.metroII.kernel.util.ProtoBuf">metroIIcomm.Event.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#getStateEvent--">getStateEvent</a></span>()</code>
<div class="block">Returns the MetroII event associated with the current state.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../ptolemy/domains/metroII/kernel/util/ProtoBuf/metroIIcomm.Event.Builder.html" title="class in ptolemy.domains.metroII.kernel.util.ProtoBuf">metroIIcomm.Event.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#proposeStateEvent--">proposeStateEvent</a></span>()</code>
<div class="block">Returns the MetroII event associated with the current state and set the
 state of the event to be PROPOSED.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#reset--">reset</a></span>()</code>
<div class="block">Resets the state to be PREFIRE_BEGIN.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#setState-ptolemy.domains.metroII.kernel.FireMachine.State-">setState</a></span>(<a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.State.html" title="enum in ptolemy.domains.metroII.kernel">FireMachine.State</a>&nbsp;state)</code>
<div class="block">Sets the state of the wrapped actor.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#wrapup--">wrapup</a></span>()</code>
<div class="block">Wraps up the firing by reseting.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.ptolemy.domains.metroII.kernel.StartOrResumable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;ptolemy.domains.metroII.kernel.<a href="../../../../ptolemy/domains/metroII/kernel/StartOrResumable.html" title="interface in ptolemy.domains.metroII.kernel">StartOrResumable</a></h3>
<code><a href="../../../../ptolemy/domains/metroII/kernel/StartOrResumable.html#startOrResume-java.util.LinkedList-">startOrResume</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FireMachine-ptolemy.actor.Actor-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FireMachine</h4>
<pre>public&nbsp;FireMachine(<a href="../../../../ptolemy/actor/Actor.html" title="interface in ptolemy.actor">Actor</a>&nbsp;actor)</pre>
<div class="block">Constructs an FireMachine wrapper and initialize the MetroII events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>actor</code> - the actor whose getfire() is to be wrapped.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStateEvent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateEvent</h4>
<pre>public&nbsp;<a href="../../../../ptolemy/domains/metroII/kernel/util/ProtoBuf/metroIIcomm.Event.Builder.html" title="class in ptolemy.domains.metroII.kernel.util.ProtoBuf">metroIIcomm.Event.Builder</a>&nbsp;getStateEvent()</pre>
<div class="block">Returns the MetroII event associated with the current state.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the MetroII event associated with the current state.</dd>
</dl>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;<a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.State.html" title="enum in ptolemy.domains.metroII.kernel">FireMachine.State</a>&nbsp;getState()</pre>
<div class="block">Gets the state of the wrapped actor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the state.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#setState-ptolemy.domains.metroII.kernel.FireMachine.State-"><code>setState(State)</code></a></dd>
</dl>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Resets the state to be PREFIRE_BEGIN.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../ptolemy/domains/metroII/kernel/StartOrResumable.html#reset--">reset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../ptolemy/domains/metroII/kernel/StartOrResumable.html" title="interface in ptolemy.domains.metroII.kernel">StartOrResumable</a></code></dd>
</dl>
</li>
</ul>
<a name="wrapup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wrapup</h4>
<pre>public&nbsp;void&nbsp;wrapup()</pre>
<div class="block">Wraps up the firing by reseting.</div>
</li>
</ul>
<a name="actor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actor</h4>
<pre>protected&nbsp;<a href="../../../../ptolemy/actor/Actor.html" title="interface in ptolemy.actor">Actor</a>&nbsp;actor()</pre>
<div class="block">Returns the wrapped actor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the wrapped actor.</dd>
</dl>
</li>
</ul>
<a name="proposeStateEvent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proposeStateEvent</h4>
<pre>protected&nbsp;<a href="../../../../ptolemy/domains/metroII/kernel/util/ProtoBuf/metroIIcomm.Event.Builder.html" title="class in ptolemy.domains.metroII.kernel.util.ProtoBuf">metroIIcomm.Event.Builder</a>&nbsp;proposeStateEvent()</pre>
<div class="block">Returns the MetroII event associated with the current state and set the
 state of the event to be PROPOSED.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the MetroII event associated with the current state</dd>
</dl>
</li>
</ul>
<a name="setState-ptolemy.domains.metroII.kernel.FireMachine.State-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setState</h4>
<pre>protected&nbsp;void&nbsp;setState(<a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.State.html" title="enum in ptolemy.domains.metroII.kernel">FireMachine.State</a>&nbsp;state)</pre>
<div class="block">Sets the state of the wrapped actor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - the state to be set.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.html#getState--"><code>getState()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/domains/metroII/kernel/EventTimeComparator.html" title="class in ptolemy.domains.metroII.kernel"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/domains/metroII/kernel/FireMachine.State.html" title="enum in ptolemy.domains.metroII.kernel"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/domains/metroII/kernel/FireMachine.html" target="_top">Frames</a></li>
<li><a href="FireMachine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
