<!-- $Id$ -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<title>CT domain demo - Micro Accelerometer with Digital Feedback Control</title>
<link href="../../../../../doc/default.css" rel="stylesheet" type="text/css">
</head>
<body>
<H1>Mixed Signal Model -
<br>Micro Accelerometer with Digital Feedback Control</H1>
<P>
 <!-- All of the controls of the applet should be visible when the
applet is displayed on a XGA screen-->
<center>

<!-- The HTML below is for the Java Plugin.  The first 
     section is for IE, the second is for Netscape
 -->
<OBJECT classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93"
 width=600 height=480
 name="ComSystem"
 codebase="http://java.sun.com/products/plugin/1.2.2/jinstall-1_2_2-win.cab#Version=1,2,2,0">
<PARAM NAME=CODE VALUE=ptolemy.domains.ct.demo.SigmaDelta.SigmaDeltaApplet.class>
<PARAM NAME=CODEBASE VALUE=../../../../..>
<PARAM NAME=ARCHIVE VALUE="
	ptolemy/ptsupport.jar,
	ptolemy/domains/de/de.jar,
	ptolemy/domains/ct/ct.jar,
	ptolemy/domains/ct/demo/SigmaDelta/SigmaDelta.jar">
<PARAM NAME="name" VALUE="SigmaDeltaApplet">
<PARAM NAME="type" VALUE="application/x-java-applet;version=1.2.2">
<PARAM NAME="background" VALUE="#faf0e6">
<PARAM NAME="defaultiterations" value="5000">
<COMMENT>
<EMBED type="application/x-java-applet;version=1.2.2"
 code=ptolemy.domains.ct.demo.SigmaDelta.SigmaDeltaApplet
 codebase=../../../../..
 archive="
	ptolemy/ptsupport.jar,
	ptolemy/domains/de/de.jar,
	ptolemy/domains/ct/ct.jar,
	ptolemy/domains/ct/demo/SigmaDelta/SigmaDelta.jar"
 name="SigmaDeltaApplet"
 width=600 height=480
 background="#faf0e6"
 defaultiterations="5000"
 pluginspage="http://java.sun.com/products/plugin/1.2.2/plugin-install.html">
<NOEMBED></COMMENT>
<I>If you were able to run applets, you would have a demo here.</I>
</NOEMBED></EMBED>
</OBJECT>
</center>

<H2>Introduction</H2>
Micro accelerometers are MEMS devices that use beams, gaps, and electrostatics 
to measure acceleration. Beams and anchors, separating by gaps, form parallel 
plate capacitors. When the device is accelerated in the sensing direction, the 
displacement of the beams causes the change of the gap sizes, which further 
causes the change of the capacitance. By measuring the change of capacitance
(e.g. using the Wheatstone capacitor bridge), the acceleration can be obtained
accurately.  A schematic diagram is shown below:
<P>
<CENTER><img src="SigmaDelta2.gif"></CENTER>
<P>
Feedback can be applied to the beams by charging the capacitors. Using 
feedback can reduce the sensitivity to process variations, 
eliminate mechanical resonances, and increase sensor bandwidth, selectivity 
and dynamic range. The feedback effectively reduces the mechanical
excursion of the beams.
<P>
Sigma-delta modulation[1], also called the pulse density modulation or the 
bang-bang control, is a digital feedback technique. It gets the A/D 
conversion functionality for free, since the same mechanism that is
used to generate the feedback control can be used to measure the
capacitance. The central part of the digital feedback is an one
bit quantizer.
<H2>Implementation:</H2>
We implemented the system as Mark Alan Lemkin designed in [2]. As shown in
the figure below, a second order CT subsystem is used to model the beam.
The voltage on the beam-gap capacitor is sampled every <i>T</i> seconds (much
faster than the required output of the digital signal),  then filtered by
a lead compensator (an FIR filter), and fed to an one-bit quantizer. 
The outputs of the quantizer are converted to force and fed back to the
beams. The outputs are also counted and averaged every <i>NT</i> seconds to 
produce the digital output. In our example, the external acceleration 
is a sine wave.
<P>
<CENTER><img src="SigmaDelta.gif"></CENTER>
<P>
<H2>Simulation</H2>
To run the simulation, click <B>Go</B> in the above applet.
<P>

<H2>Results</H2>
If the model runs correctly, the result should look like:<BR>
<B>Continuous time part:</B>
<p>
<CENTER><img src="SDCTPlot.gif"></CENTER>
<P>
<B>Discrete time part:</B>
<p>
<CENTER><img src="SDDEPlot.gif"></CENTER>
<P>
<H2>References</H2>
[1] James C. Candy, <I>"A Use of Limit Cycle Oscillations to Obtain Robust Analog-to-Digital Converters"</I>, IEEE Trans. on Communications, Vol. COM-22, No. 3, March 1974, pp298-305<BR>
[2] Mark A. Lemkin, <I>"Micro Accelerometer Design with Digital Feedback Control"</I>, doctoral dissertation,  University of California, Berkeley, Fall 1997
</BODY>
</HTML>
