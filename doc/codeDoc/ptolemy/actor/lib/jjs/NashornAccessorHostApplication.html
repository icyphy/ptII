<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Mar 15 07:01:07 UTC 2018 -->
<title>NashornAccessorHostApplication</title>
<meta name="date" content="2018-03-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NashornAccessorHostApplication";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/actor/lib/jjs/JSUtils.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.ActorSubstitute.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/actor/lib/jjs/NashornAccessorHostApplication.html" target="_top">Frames</a></li>
<li><a href="NashornAccessorHostApplication.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ptolemy.actor.lib.jjs</div>
<h2 title="Class NashornAccessorHostApplication" class="title">Class NashornAccessorHostApplication</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ptolemy.actor.lib.jjs.NashornAccessorHostApplication</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">NashornAccessorHostApplication</span>
extends java.lang.Object</pre>
<div class="block">Instantiate and Invoke Accessors using Nashorn.
 Evaluate the arguments, which are expected to be JavaScript files
 that define Composite Accessors.

 <p>The Nashorn and Cape Code Accessor hosts are similar in that they
 both use Nashorn as the underlying JavaScript engine.  They also
 both can invoke JavaScript accessors that use modules defined in
 $PTII/ptolemy/actor/lib/jjs/modules.</p>

 <p>The Nashorn Accessor Host differs from the Cape Code Accessor
 Host in that Cape Code Accessor Host reads in Ptolemy II .xml MoML
 files and can invoke regular Ptolemy II actors written in Java such
 a ptolemy.actor.lib.Ramp.  The Nashorn Accessor Host reads in .js
 files that define CompositeAccessors.  The Nashorn Accessor Host is
 not intended to invoke regular Ptolemy II actors written in Java
 and it does not invoke the Ptolemy II actor execution semantics
 code implemented in Java.</p>

 <p>Note that by using code generation, Cape Code .xml MoML files
 can be converted in to .js Composite Accessor files provided that
 the .xml file only uses JavaScript and JSAccessor actors.</p>

 <p>The main() method of this class takes the following command
 line arguments:</p>
 <dl>
 <dt><code>-e|--e|-echo|--echo</code></dt>
 <dd>Echo the command that would be run by hand to replicate the
 test. This is helpful for use under Ant apply.</dd>
 <dt><code>-h|--h|-help|--help</code></dt>
 <dd>Print a usage message</dd>
 <dt><code>-j|--j|-js|--js filename</code></dt>
 <dd>Interpret the next argument as the name of a regular
 JavaScript file to evaluate.</dd>
 <dt><code>-k|--k|-keepalive|--keepalive</code></dt>
 <dd>Keep the calling process alive until either a timeout option
 expires or all instanted accessors have called wrapup.</dd>
 <dt><code>-timeout|--timeout <i>milliseconds</i></code></dt>
 <dd>The minimum amount of time the script should run.</dd>
 <dt><code>-v|--v|-version|--version</code></dt>
 <dd>Print out the version number</dd>
 </dl>

 <p>After the flags, the one or more JavaScript files are present that
 name either or regular JavaScript files.</p>

 <p>To run a very simple test:</p>
 <pre>
 (cd $PTII/org/terraswarm/accessor/accessors/web; $PTII/bin/ptinvoke ptolemy.actor.lib.jjs.NashornAccessorHostApplication -timeout 10000 -js hosts/nashorn/test/testNashornHost.js)
 </pre>

 <p>To run a composite accessor:</p>
 <pre>
 (cd $PTII/org/terraswarm/accessor/accessors/web; $PTII/bin/ptinvoke ptolemy.actor.lib.jjs.NashornAccessorHostApplication -timeout 10000 test/auto/RampJSDisplay.js)
 </pre>

 <p> The command line syntax is:</p>
 <pre>
 java -classpath $PTII ptolemy.actor.lib.jjs.NashornAccessorHostApplication \
  [-h|--h|-help|--help] \
  [-e|--e|-echo|--echo] \
  [-j|--j|-js|--js filename] \
  [-timeout|--timeout milliseconds] \
  [-v|--v|-version|--version] \
  accessorClassName [accessorClassName ...]
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Ptolemy II 11.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Christopher Brooks</dd>

<DT><B>Accepted Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (cxh)</td></tr></table></DD>

<DT><B>Proposed Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (cxh)</td></tr></table></DD>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.ActorSubstitute.html" title="class in ptolemy.actor.lib.jjs">NashornAccessorHostApplication.ActorSubstitute</a></span></code>
<div class="block">Class that substitute for the JavaScript actor so that setTimeout,
  setInterval, and CapeCode modules work in a pure Nashorn host.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.html#NashornAccessorHostApplication--">NashornAccessorHostApplication</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.ActorSubstitute.html" title="class in ptolemy.actor.lib.jjs">NashornAccessorHostApplication.ActorSubstitute</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.html#createOrchestrator-java.lang.String-">createOrchestrator</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Create an orchestrator for a top-level accessor.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.html#evaluate-java.lang.String:A-">evaluate</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Evaluate the files named by the arguments.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Invoke one or more JavaScript files.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NashornAccessorHostApplication--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NashornAccessorHostApplication</h4>
<pre>public&nbsp;NashornAccessorHostApplication()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createOrchestrator-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOrchestrator</h4>
<pre>public static&nbsp;<a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.ActorSubstitute.html" title="class in ptolemy.actor.lib.jjs">NashornAccessorHostApplication.ActorSubstitute</a>&nbsp;createOrchestrator(java.lang.String&nbsp;name)</pre>
<div class="block">Create an orchestrator for a top-level accessor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The name for the orchestrator.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an aorchestrator for the top-level accessor.</dd>
</dl>
</li>
</ul>
<a name="evaluate-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public static&nbsp;int&nbsp;evaluate(java.lang.String[]&nbsp;args)
                    throws java.lang.Throwable</pre>
<div class="block">Evaluate the files named by the arguments.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - An array of one or more file names.  See the class comment for
  the syntax.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 for success, 3 for argument problems.  See main() in commonHost.js.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Throwable</code> - If the Nashorn engine cannot be found, if
  a file cannot be read or closed.  if evaluateCode() JavaScript
  method is not defined or if there is a problem evaluating a
  file.</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">Invoke one or more JavaScript files.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - One or more JavaScript files.  See the class
  comment for the syntax.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/actor/lib/jjs/JSUtils.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/actor/lib/jjs/NashornAccessorHostApplication.ActorSubstitute.html" title="class in ptolemy.actor.lib.jjs"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/actor/lib/jjs/NashornAccessorHostApplication.html" target="_top">Frames</a></li>
<li><a href="NashornAccessorHostApplication.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
