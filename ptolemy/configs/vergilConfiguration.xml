<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="configuration" class="ptolemy.actor.gui.Configuration">

  <doc>Configuration to edit and run Ptolemy II models</doc>

  <input source="ptolemy/configs/ptinyEffigies.xml"/>

  <!-- Factories for tableaux. -->
  <property name="tableauFactory" class="ptolemy.actor.gui.TableauFactory">
    <input source="ptolemy/configs/fsmTableaux.xml"/>
    <!-- Factories for tableaux that offer views of Ptolemy II entities. -->
    <property name="factory2" class="ptolemy.actor.gui.PtolemyTableauFactory">
      <!-- These will appear in the View menu of an entity tableau. -->
      <property name="Graph Editor" class="ptolemy.vergil.actor.ActorGraphTableau$Factory"/>
      <property name="Run Window" class="ptolemy.actor.gui.RunTableau$Factory"/>
      <property name="Tree View" class="ptolemy.vergil.tree.TreeTableau$Factory"/>
      <property name="XML view" class="ptolemy.actor.gui.TextEditorTableau$Factory"/>
      <property name="Code Generator" class="ptolemy.copernicus.gui.GeneratorTableau$Factory"/>
      <property name="JVM Properties" class="ptolemy.actor.gui.JVMTableau$Factory"/>
    </property>
    <property name="HTML Viewer" class="ptolemy.actor.gui.HTMLViewerTableau$Factory">
      <!-- This will appear in the View menu of an entity tableau. -->
      <property name="Source" class="ptolemy.actor.gui.TextEditorTableau$Factory"/>
    </property>
    <property name="Web Browser" class="ptolemy.actor.gui.BrowserTableau$Factory"/>

    <property name="Text Editor" class="ptolemy.actor.gui.TextEditorTableau$Factory"/>
    <!-- FIXME: plot data tableau, etc. -->

  </property>

  <!-- Main default library -->
  <entity name="actor library" class="ptolemy.kernel.CompositeEntity">

    <!-- Marker so that tree view expands the library. -->
    <property name="_libraryMarker" class="ptolemy.kernel.util.SingletonAttribute"/>

    <!-- Default utilities library. -->
    <input source="ptolemy/configs/utilitiesLibrary.xml"/>

    <!-- Default director library. -->
    <!-- We split these into submenus so as to have a smaller footprint -->
    <class name="director library" extends="ptolemy.moml.EntityLibrary">
      <configure>
        <?moml
          <group>
	    <doc>default director library</doc>
	    <input source="ptolemy/configs/ptinyDirectors.xml"/>
	    <input source="ptolemy/configs/experimentalDirectors.xml"/>
          </group>
        ?>
      </configure>
    </class>

    <!-- Default entity library to appear in the library browser. -->
    <class name="actor library" extends="ptolemy.moml.EntityLibrary">
      <configure>
        <?moml
          <group>
            <doc>default entity library</doc>
	    <!-- Do not use relative paths with ../ here, it is safer to use
	     paths that start with ptolemy/ so that we can find these
	     files if they are in a jar file besides the jar file that
	     contains this file. -->
            <input source="ptolemy/configs/ptinyActors.xml"/>
          </group>
        ?>
      </configure>
    </class>

    <!-- Optional packages that may or may not be present  -->
    <class name="more libraries" extends="ptolemy.moml.EntityLibrary">
      <configure>
        <?moml
          <group>
            <input source="ptolemy/domains/domains.xml"/>
            <input source="ptolemy/configs/automataLibrary.xml"/>
	    <!-- Javacomm serial actors depend on javacomm being present  -->
            <input source="ptolemy/actor/lib/comm/comm.xml"/>
	    <!-- matlab depends on Matlab being present -->
            <input source="ptolemy/matlab/matlab.xml"/>
            <input source="ptolemy/actor/lib/matrix.xml"/>
            <input source="ptolemy/actor/lib/test.xml"/>
          </group>
        ?>
      </configure>
    </class>

  </entity>
</entity>
