<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Mar 15 00:01:49 UTC 2018 -->
<title>Audio</title>
<meta name="date" content="2018-03-15">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Audio";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":9,"i9":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../ptolemy/media/Picture.html" title="class in ptolemy.media"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ptolemy/media/Audio.html" target="_top">Frames</a></li>
<li><a href="Audio.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ptolemy.media</div>
<h2 title="Class Audio" class="title">Class Audio</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ptolemy.media.Audio</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Audio</span>
extends java.lang.Object</pre>
<div class="block">Instances of this class represent audio data equivalent to that
 contained by a Sun/NeXT audio file (.au file).  The class also
 includes a set of utility static methods for manipulating audio
 signals.
 Currently, only an 8kHz sample rate, mu-law encoded, monophonic
 audio format is supported.
 <p>
 The format of an audio file is:</p>

 <table border="1">
 <caption>Audio File Format</caption>
 <tr><th>byte</th><th>type</th><th>field name</th><th>field value</th></tr>
 <tr><td>0x00</td><td>byte </td><td>magic[4]        </td>
 <td> 0x2E736E64 '.snd' in ASCII     </td></tr>
 <tr><td>0x04</td><td>int </td><td>offset </td>
 <td> offset of audio data relative to the start of the stream </td></tr>
 <tr><td>0x08</td><td>int </td><td>size     </td>
 <td> number of bytes of data        </td></tr>
 <tr><td>0x0C</td><td>int </td><td>format   </td>
 <td> format code: 1 for 8-bit u-law </td></tr>
 <tr><td>0x10</td><td>int </td><td>samplingRate </td>
 <td> the sampling rate              </td></tr>
 <tr><td>0x14</td><td>int </td><td>numChannels </td>
 <td> the number of channels         </td></tr>
 <tr><td>0x18</td><td>byte</td><td>info[]      </td>
 <td> optional text information      </td></tr>
 </table>
 <p>
 The design of this class is based on the web page of
 <a href="mailto:donahu@cooper.edu">Billy Donahue</a>.
 <a href="http://www.cooper.edu/~donahu/auformat/auFormat.html#in_browser"> http://www.cooper.edu/~donahu/auformat/auFormat.html</a>.
 That page no longer exists.  This file was created on 1998-08-31,
 The Wayback machine yields this page for that date:
 <a href="http://web.archive.org/web/19980709194800/http://www.cooper.edu/~donahu/auformat/auFormat.html#in_browser">http://web.archive.org/web/19980709194800/http://www.cooper.edu/~donahu/auformat/auFormat.html</a>.</p>

<p> Note that this class serves the same role as
 the class by the same name in the sun.audio package, but is much
 more public about its information.  For example, the Sun version
 does not give any access to the audio data itself.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Ptolemy II 0.2</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Edward A. Lee</dd>

<DT><B>Accepted Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (cxh)</td></tr></table></DD>

<DT><B>Proposed Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (eal)</td></tr></table></DD>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#audio">audio</a></span></code>
<div class="block">Audio data, by channel.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#format">format</a></span></code>
<div class="block">Format code; 1 for 8-bit mu-law.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#info">info</a></span></code>
<div class="block">Four byte info field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#magic">magic</a></span></code>
<div class="block">The file type identifier, 0x2E736E64 or '.snd' in ASCII.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#numChannels">numChannels</a></span></code>
<div class="block">The number of channels.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#offset">offset</a></span></code>
<div class="block">Offset of audio data relative to the start of the stream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#sampleRate">sampleRate</a></span></code>
<div class="block">The sampling rate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#size">size</a></span></code>
<div class="block">Number of bytes of audio data.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#Audio-byte:A-">Audio</a></span>(byte[]&nbsp;audio)</code>
<div class="block">Construct an instance initialized with the audio
  signal given by the argument.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#Audio-java.io.DataInputStream-">Audio</a></span>(java.io.DataInputStream&nbsp;input)</code>
<div class="block">Construct an instance and initialize it by reading
  the specified stream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#Audio-double:A-">Audio</a></span>(double[]&nbsp;audio)</code>
<div class="block">Construct an instance initialized with the audio
  signal given by the argument.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#lin2mu-int-">lin2mu</a></span>(int&nbsp;sample)</code>
<div class="block">Convert an integer linear representation of an audio sample
  into a mu-255 companded representation.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#mu2lin-byte-">mu2lin</a></span>(byte&nbsp;b)</code>
<div class="block">Convert mu-255 companded representation of an audio sample
  into an integer linear representation.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#readAudio-java.io.DataInputStream-">readAudio</a></span>(java.io.DataInputStream&nbsp;input)</code>
<div class="block">Read Sun audio file (.au) format and return the audio data as an array.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#setZeroTrap-boolean-">setZeroTrap</a></span>(boolean&nbsp;boole)</code>
<div class="block">Configure all instances of this class to use the MIL-STD zero trap.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#toDouble-int-">toDouble</a></span>(int&nbsp;channel)</code>
<div class="block">Convert the audio data to linear double encoding (from mu-law).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#toLinear-int-">toLinear</a></span>(int&nbsp;channel)</code>
<div class="block">Convert the audio data to linear integer encoding (from mu-law).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#toString--">toString</a></span>()</code>
<div class="block">Return a readable representation of the header data.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#write-java.io.DataOutputStream-">write</a></span>(java.io.DataOutputStream&nbsp;output)</code>
<div class="block">Write the audio data to an output stream in the Sun audio format.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#writeAudio-double:A-java.io.DataOutputStream-">writeAudio</a></span>(double[]&nbsp;audio,
          java.io.DataOutputStream&nbsp;output)</code>
<div class="block">Write Sun audio file (.au) format from an array.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ptolemy/media/Audio.html#writeRaw-java.io.DataOutputStream-">writeRaw</a></span>(java.io.DataOutputStream&nbsp;output)</code>
<div class="block">Write the raw audio data to an output stream.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="magic">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>magic</h4>
<pre>public&nbsp;byte[] magic</pre>
<div class="block">The file type identifier, 0x2E736E64 or '.snd' in ASCII.</div>
</li>
</ul>
<a name="offset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offset</h4>
<pre>public&nbsp;int offset</pre>
<div class="block">Offset of audio data relative to the start of the stream.</div>
</li>
</ul>
<a name="size">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int size</pre>
<div class="block">Number of bytes of audio data.</div>
</li>
</ul>
<a name="format">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>public&nbsp;int format</pre>
<div class="block">Format code; 1 for 8-bit mu-law.</div>
</li>
</ul>
<a name="sampleRate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sampleRate</h4>
<pre>public&nbsp;int sampleRate</pre>
<div class="block">The sampling rate.</div>
</li>
</ul>
<a name="numChannels">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numChannels</h4>
<pre>public&nbsp;int numChannels</pre>
<div class="block">The number of channels.</div>
</li>
</ul>
<a name="info">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>info</h4>
<pre>public&nbsp;byte[] info</pre>
<div class="block">Four byte info field.</div>
</li>
</ul>
<a name="audio">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>audio</h4>
<pre>public&nbsp;byte[][] audio</pre>
<div class="block">Audio data, by channel.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Audio-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Audio</h4>
<pre>public&nbsp;Audio(byte[]&nbsp;audio)</pre>
<div class="block">Construct an instance initialized with the audio
  signal given by the argument.  The argument is an array
  of bytes that are mu-law encoded.  The audio signal is assumed
  to have an 8kHz sample rate, with a single channel.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>audio</code> - An audio signal.</dd>
</dl>
</li>
</ul>
<a name="Audio-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Audio</h4>
<pre>public&nbsp;Audio(double[]&nbsp;audio)</pre>
<div class="block">Construct an instance initialized with the audio
  signal given by the argument.  The argument is an array
  of double-precision, floating point audio samples assumed to
  be normalized to be in the range -1.0 to 1.0.
  The data will be encoded according to the mu-law standard at an
  8kHz sample rate, with a single channel.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>audio</code> - An audio signal.</dd>
</dl>
</li>
</ul>
<a name="Audio-java.io.DataInputStream-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Audio</h4>
<pre>public&nbsp;Audio(java.io.DataInputStream&nbsp;input)
      throws java.io.IOException</pre>
<div class="block">Construct an instance and initialize it by reading
  the specified stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - The input stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If an error occurs reading the input data
   (e.g. a premature end of file).</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lin2mu-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lin2mu</h4>
<pre>public static&nbsp;byte&nbsp;lin2mu(int&nbsp;sample)</pre>
<div class="block">Convert an integer linear representation of an audio sample
  into a mu-255 companded representation.  Mu law is the standard
  used in Sun .au files as well as throughout the telephone network.
  <p>
  The integer argument is a 16-bit representation of the sample.
  Anything outside the range -32635 to 32635 will be clipped to within
  that range.
  <p>
  The mu-255 representation is a byte SEEEMMMM where S is the sign
  bit, EEE is the three-bit exponent, and MMMM is the four-bit
  mantissa. The bits are flipped, so that the binary 10000000
  is the largest positive number and 00000000 is the largest negative
  number. If you have called that static method setZeroTrap() with a
  <i>true</i> argument, then
  per MIL-STD-188-113, the 00000000 representation
  is never used, replaced instead with 00000010 (0x02).
  By default, this trap is not used.
  <p>
  This implementation was written by Anthony Hursh, who included with it
  the following information:
  <p>
  Copyright 1997 by Anthony Hursh
  &lt;hursha@saturn.math.uaa.alaska.edu&gt;
  This code may be freely used as long as proper credit
  is given.  It was originally written in C by
  Craig Reese (IDA/Supercomputing Research Center) and
  Joe Campbell (Department of Defense), and
  ported to Java by Tony Hursh, January 1997.
  References:
  <ol>
  <li> CCITT Recommendation G.711  (very difficult to follow)
  <li> "A New Digital Technique for Implementation of Any
     Continuous PCM Companding Law," Villeret, Michel,
     et al. 1973 IEEE Int. Conf. on Communications, Vol 1,
     1973, pg. 11.12-11.17
  <li> MIL-STD-188-113,"Interoperability and Performance Standards
     for Analog-to_Digital Conversion Techniques,"
     17 February 1987
  </ol></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sample</code> - A linear representation of the sample.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A mu-255 representation of the sample.</dd>
</dl>
</li>
</ul>
<a name="mu2lin-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mu2lin</h4>
<pre>public static&nbsp;int&nbsp;mu2lin(byte&nbsp;b)</pre>
<div class="block">Convert mu-255 companded representation of an audio sample
  into an integer linear representation.  Mu law is the standard
  used in Sun .au files as well as throughout the telephone network.
  This implementation is based on the web page by
  <a href=mailto:donahu@cooper.edu>Billy Donahue</a>:
  <a href=http://www.cooper.edu/~donahu/auformat/auFormat.html>
  http://www.cooper.edu/~donahu/auformat/auFormat.html</a>.
  The resulting integer values are scaled to be in the range -31616
  to 31616.  This uses the low order 16 bits of the resulting integer,
  and thus provides a convenient 16-bit linear encoding.
  <p>
  The mu-255 representation is a byte SEEEMMMM where S is the sign
  bit, EEE is the three-bit exponent, and MMMM is the four-bit
  mantissa.  The bits are flipped, so that the binary 10000000
  is the largest positive number and 00000000 is the largest negative
  number.
  <p>
  If you have called setZeroTrap() with a <i>true</i> argument, then
  this will not be an exact inverse of lin2mu because the zero code
  is interpreted as being the largest negative number, -31616.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - A mu-255 representation of the sample.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A linear representation of the sample.</dd>
</dl>
</li>
</ul>
<a name="readAudio-java.io.DataInputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAudio</h4>
<pre>public static&nbsp;double[]&nbsp;readAudio(java.io.DataInputStream&nbsp;input)
                          throws java.io.IOException</pre>
<div class="block">Read Sun audio file (.au) format and return the audio data as an array.
  The argument stream may represent a file, a URL, or a byte array that
  contains the .au format.
  For example, given a URL called "url," you can read the audio file
  as follows:
  <pre>
     double audio[] = readAudio(new DataInputStream(url.openStream());
  </pre>
  <p>
  The returned values lie in the range -1.0 to 1.0.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - The input stream.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The audio data as an array of doubles.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If an I/O error occurs reading the stream.</dd>
</dl>
</li>
</ul>
<a name="setZeroTrap-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setZeroTrap</h4>
<pre>public static&nbsp;void&nbsp;setZeroTrap(boolean&nbsp;boole)</pre>
<div class="block">Configure all instances of this class to use the MIL-STD zero trap.
  I.e., per MIL-STD-188-113, the 00000000 representation
  is never used, replaced instead with 00000010 (0x02).
  For some reason, an all zero
  mu-law code is sometimes undesirable.  By default, this class does
  not use this trap, so you must call this with a <i>true</i> argument
  to use the trap.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>boole</code> - If true, use zero-trap encoding.</dd>
</dl>
</li>
</ul>
<a name="toDouble-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toDouble</h4>
<pre>public&nbsp;double[]&nbsp;toDouble(int&nbsp;channel)</pre>
<div class="block">Convert the audio data to linear double encoding (from mu-law).
  The returned numbers lie in the range -1.0 to 1.0.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channel</code> - The channel number.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new array of integers, or null if there is no audio data.</dd>
</dl>
</li>
</ul>
<a name="toLinear-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toLinear</h4>
<pre>public&nbsp;int[]&nbsp;toLinear(int&nbsp;channel)</pre>
<div class="block">Convert the audio data to linear integer encoding (from mu-law).
  The returned integers use the low-order 16 bits only, lying
  in the range -31616 to 31616.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channel</code> - The channel number.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new array of integers, or null if there is no audio data.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Return a readable representation of the header data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="write-java.io.DataOutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(java.io.DataOutputStream&nbsp;output)
           throws java.io.IOException</pre>
<div class="block">Write the audio data to an output stream in the Sun audio format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>output</code> - The output stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If an error occurs writing to the stream.</dd>
</dl>
</li>
</ul>
<a name="writeRaw-java.io.DataOutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRaw</h4>
<pre>public&nbsp;void&nbsp;writeRaw(java.io.DataOutputStream&nbsp;output)
              throws java.io.IOException</pre>
<div class="block">Write the raw audio data to an output stream.
  This method can be used to play the audio data using the
  (undocumented and unsupported) sun.audio package as follows:
  <pre>
      // The constructor argument below is optional
      ByteArrayOutputStream out =
               new ByteArrayOutputStream(sound.size);
      try {
          sound.writeRaw(new DataOutputStream(out));
      } catch (IOException ex) {
          throw new RuntimeException("Audio output failed");
      }
      byte[] iobuffer = out.toByteArray();
      ByteArrayInputStream instream =
              new ByteArrayInputStream(_iobuffer);
      AudioPlayer.player.start(instream);
  </pre>
  The above code assumes we have an sun.audio.AudioData object
  called "sound".
  Although it would seem reasonable to include a "play" method in this
  class to do this, we wish to avoid a dependence on the sun.audio
  package in this Ptolemy package, so you will have to implement
  the above code yourself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>output</code> - The output stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If an error occurs writing to the stream.</dd>
</dl>
</li>
</ul>
<a name="writeAudio-double:A-java.io.DataOutputStream-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeAudio</h4>
<pre>public static&nbsp;void&nbsp;writeAudio(double[]&nbsp;audio,
                              java.io.DataOutputStream&nbsp;output)
                       throws java.io.IOException</pre>
<div class="block">Write Sun audio file (.au) format from an array.
  The argument is an array of doubles assumed to lie in the range of
  -1.0 to 1.0.  The data is converted to one-channel mu-law samples
  at 8kHz.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>audio</code> - The audio data, as an array of doubles.</dd>
<dd><code>output</code> - The output stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If an I/O error occurs writing to the stream.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../ptolemy/media/Picture.html" title="class in ptolemy.media"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ptolemy/media/Audio.html" target="_top">Frames</a></li>
<li><a href="Audio.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
