<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Mar 15 14:53:23 UTC 2018 -->
<title>SoundWriter</title>
<meta name="date" content="2018-03-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SoundWriter";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ptolemy/media/javasound/SoundReader.html" title="class in ptolemy.media.javasound"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ptolemy/media/javasound/SoundWriter.html" target="_top">Frames</a></li>
<li><a href="SoundWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ptolemy.media.javasound</div>
<h2 title="Class SoundWriter" class="title">Class SoundWriter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ptolemy.media.javasound.SoundWriter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SoundWriter</span>
extends java.lang.Object</pre>
<div class="block">This class is a buffer that supports the writing of audio samples
 to a sound file. Specifically, this buffer supports the writing of
 double-valued audio samples. The maximum valid range of sample
 values is from -1.0 to 1.0. Any values outside of this range will
 be hard-clipped to fall within this range.
 <p>
 <b>Supported file types</b>
 <p>
 Valid sound file formats are WAVE (.wav), AIFF (.aif, .aiff),
 AU (.au). Valid sample rates are 8000, 11025, 22050, 44100, and
 48000 Hz. Both 8 bit and 16 bit audio are supported. Mono and
 stereo files are supported.
 <p>
 <b>Usage</b>
 <p>
 The path to the sound file to write is given as a constructor
 parameter, along with parameters that specify the desired
 audio format. The constructor also takes an array length
 parameter, which is explained below.
 <p>
 After invoking the constructor, the putSamples() method should
 be repeatedly invoked to write samples to the specified sound
 file. This method is blocking, so it will not return until the
 samples have been written. The putSamples() method takes a
 multidimensional array as a parameter. The first index
 represents the channel number (0 for first channel, 1 for  second
 channel, etc.). The second index represents the sample index within
 a channel. For each channel i, the size of the array,
 putSamplesArray[i].length, must be equal to the constructor
 parameter putSamplesArraySize. Otherwise an exception will
 occur. Thus, each call to putSamples() writes putSamplesArraySize
 on each channel. It should be noted that the putSamples() method
 does not write samples directly to a sound file, but instead
 writes samples to an internal array. The internal array of
 samples is written to the sound file by the closeFile() method.
 <p>
 The closeFile() method should be invoked when no more samples
 need to be written. This method will write the internal array
 of samples to the output file and close the file. It is not
 possible to write any more samples after closeFile() has been
 called. An exception will occur if putSamples() is invoked
 at any point after closeFile() is invoked.
 <p>
 <b>Security issues</b>
 <p>
 Applications have no restrictions on the
 capturing or playback of audio. Applet code is not allowed to
 write native files by default. The .java.policy file must be
 modified to grant applets more privileges.
 <p>
 Note: Requires Java 2 v1.3.0 or later.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Ptolemy II 1.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Brian K. Vogel</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../ptolemy/media/javasound/SoundCapture.html" title="class in ptolemy.media.javasound"><code>SoundCapture</code></a></dd>

<DT><B>Accepted Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (cxh)</td></tr></table></DD>

<DT><B>Proposed Rating:</B><DD><table cellpadding=2 cellspacing=0><tr><td bgcolor="red">Red (vogel)</td></tr></table></DD>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundWriter.html#SoundWriter-java.lang.String-float-int-int-int-">SoundWriter</a></span>(java.lang.String&nbsp;fileName,
           float&nbsp;sampleRate,
           int&nbsp;bitsPerSample,
           int&nbsp;channels,
           int&nbsp;putSamplesArraySize)</code>
<div class="block">Construct a sound writer object with the specified name.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundWriter.html#closeFile--">closeFile</a></span>()</code>
<div class="block">Open a the file specified in the constructor for writing,
  write the accumulated audio samples (obtained via
  putSamples()) to the file specified in the constructor,
  and close the file.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundWriter.html#putSamples-double:A:A-">putSamples</a></span>(double[][]&nbsp;putSamplesArray)</code>
<div class="block">Append the audio data contained in <i>putSamplesArray</i>
  to an internal array.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SoundWriter-java.lang.String-float-int-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SoundWriter</h4>
<pre>public&nbsp;SoundWriter(java.lang.String&nbsp;fileName,
                   float&nbsp;sampleRate,
                   int&nbsp;bitsPerSample,
                   int&nbsp;channels,
                   int&nbsp;putSamplesArraySize)</pre>
<div class="block">Construct a sound writer object with the specified name.
  Valid sound file formats are WAVE (.wav), AIFF (.aif,
  .aiff), AU (.au). The file format is automatically
  determined from the file extension.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - The file name to create. If the file already
  exists, overwrite it. Valid sound file formats are WAVE (.wav),
  AIFF (.aif, .aiff), AU (.au). The file format to write is
  determined automatically from the file extension.</dd>
<dd><code>sampleRate</code> - Sample rate in Hz. Must be in the range: 8000
  to 48000.</dd>
<dd><code>bitsPerSample</code> - Number of bits per sample (valid choices are
  8 or 16).</dd>
<dd><code>channels</code> - Number of audio channels. 1 for mono, 2 for
  stereo.</dd>
<dd><code>putSamplesArraySize</code> - Size of the array parameter of
   putSamples(). There is no restriction on the value of
   this parameter, but typical values are 64-2024.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="putSamples-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putSamples</h4>
<pre>public&nbsp;void&nbsp;putSamples(double[][]&nbsp;putSamplesArray)
                throws java.lang.IllegalStateException</pre>
<div class="block">Append the audio data contained in <i>putSamplesArray</i>
  to an internal array. The audio samples in this array will
  be written to the sound file specified in the constructor
  when the closeFile() method is invoked.
  <p>
  The samples should be in the range (-1, 1). Samples that are
  outside this range will be hard-clipped so that they fall
  within this range.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>putSamplesArray</code> - A two dimensional array containing
  the samples to play or write to a file. The first index
  represents the channel number (0 for first channel, 1 for
  second channel, etc.). The second index represents the
  sample index within a channel. For example,
  putSamplesArray[n][m] contains the (m+1)th sample
  of the (n+1)th channel. putSamplesArray should be a
  rectangular array such that putSamplesArray.length() gives
  the number of channels and putSamplesArray[n].length() is
  equal to <i>putSamplesSize</i>, for all channels n. An exception
  will occur if this is not the case.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If closeFile() has already
   been called.</dd>
</dl>
</li>
</ul>
<a name="closeFile--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>closeFile</h4>
<pre>public&nbsp;void&nbsp;closeFile()
               throws java.io.IOException</pre>
<div class="block">Open a the file specified in the constructor for writing,
  write the accumulated audio samples (obtained via
  putSamples()) to the file specified in the constructor,
  and close the file. This method should be called when
  no more calls to putSamples() are required. An exception
  will occur if putSamples() is called after this method is invoked.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is a problem closing the
   audio resources, or if the "write audio data
   to file" constructor was used  and the sound file has an
   unsupported format.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ptolemy/media/javasound/SoundReader.html" title="class in ptolemy.media.javasound"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ptolemy/media/javasound/SoundWriter.html" target="_top">Frames</a></li>
<li><a href="SoundWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
