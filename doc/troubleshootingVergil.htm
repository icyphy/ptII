<!-- DO NOT EDIT this file it is created by running make-->
<!-- $Id$ -->
<html>
<head>
<title>Troubleshooting</title>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<link href="default.css" rel="stylesheet" type="text/css">
</head>
<body>
<!--vergilDocs-->
<h2><a name="#vergil">Troubleshooting Vergil</a></h2>
<dl>
<dt> How do I start Vergil by hand?
<dd> Vergil uses the following jar files
	<ul>
	<li> <CODE>./ptolemy/ptolemy.jar</CODE>
	<li> <CODE>./ptolemy/vergil/vergil.jar</CODE>
	<li> <CODE>./ptolemy/lib/diva.jar</CODE>
	</ul>
The directory where Ptolemy II is installed should also be in the classpath.

 <p>To start Vergil by hand, try starting up by cd'ing to where the
release is installed and doing:

 <!-- Split this into multiple lines so that the display does not
have a horizontal scroll bar because of the length of the line. -->
<pre>
java -classpath ".;./ptolemy/ptolemy.jar;\
./ptolemy/vergil/vergil.jar;\
./lib/diva.jar" ptolemy.vergil.VergilApplication
</pre>


<dt> Under Windows, how do I start vergil.exe and get a console window?
<dd> Under windows, the Installshield installer creates
a launcher called <CODE>vergil.exe</CODE>.  That file is
located in the top level directory where Ptolemy II was installed.
 <p>To start with a console window, try:
<pre>
vergil.exe -is:javaconsole
</pre>

<dt> The user interface appears to be frozen, but windows are redrawn.

<dd> A modal dialog may be open.  Unfortunately, these dialogs do not
appear in the task bar on windows systems, so the only way to find
them is to put windows in the background until they appear.  You can
do this by repeatedly hitting Alt-Escape.</li>

<dt> My model hangs, failing to make progress.

<dd> In the DE domain, if an actor has input tokens that it fails to
consume when it is fired, then it the director will continue to fire
it repeatedly until those tokens are consumed.  Actors in the DE
domain must consume pending input tokens.

<dt> Vergil appears to hang after I dismiss a dialog.  Windows are not
redrawn, and I have to kill Vergil manually an start over.

<dd> We have seen this bug (which appears to be an internal threading bug)
with jdk1.2.2 on Windows NT4.  Apparently upgrading to jdk1.3, or Windows2K
solves the problem.

<dt> Ptolemy seems to consume more and more memory after opening and closing several demos.

<dd> 
The drag and drop mechanism has contained many memory leaks in older versions
of Sun's JDK.   The leak occurs because there are references internal to the
platform drag and drop system that do not allow windows using drag and drop 
to be properly garbage collected after they are no longer visible. 
If you run into problems, we strongly suggest upgrading to the
newest version of Java.  We have seen memory leaks of this sort in versions
of Java prior to 1.3.1 beta. 

</dl>
</body>
</html>
