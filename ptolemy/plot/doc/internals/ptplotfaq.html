<!-- $Id$ -->
<html>
<head>
<Title>Ptplot FAQ</Title>
</head>
<body bgcolor="#faf0e6">
<h1><a name="ptplot FAQ">Ptplot FAQ</a></h1>
Below are some answers to frequently asked questions about ptplot.
This page contains links to documents about Ptplot internals and
infrastructure.
<H2>Contents</H2>
<MENU>
<LI> <A HREF="#ptplot faq: general questions"><B>1. General</B></A>
	<MENU>
	<LI> <A HREF="#ptplot description (short)"><B>1.1 What Is Ptplot?</B></A>

	<LI> <A HREF="#ptplot pronunciation"><B>1.2 How do I pronounce 'ptplot'?</B></A>

	<LI> <A HREF="#ptplot copyright"><B>1.3 What is the copyright?</B></A>
	<LI> <A HREF="#contact"><B>1.4 How do I contact the authors?</B></A>
	<LI> <A HREF="#mailing list"><B>1.5 Is there a mailing list?</B></A>
	<LI> <A HREF="#xgraph"><B>1.6 What is the relationship between xgraph and ptplot?</B></A>
	</MENU>

<LI> <A HREF="#ptplot faq: installation"><B>2. Installation questions</B></A>
	<MENU>
	<LI> <A HREF="#downloading Ptplot"><B>2.1 How do I download
	ptplot?</B></A>

	<LI> <A HREF="#platforms that Ptplot runs under"><B>2.2 What
	platforms does ptplot run under?</B></A>

	<LI> <A HREF="#ptplot installation, what do I need"><B>2.3 What do I need to Install Ptplot?</B></A>

	<LI> <A HREF="#ptplot troubleshooting overview"><B>2.4	Troubleshooting</B></A>
	<LI> <A HREF="#ptplot bug list"><B>2.5	Is there a bug list?</B></A>
	</MENU>

<LI> <A HREF="#ptplot faq: How do I . . ."><B>3. How do I  . . .</B></A>
	<MENU>
	<LI> <A HREF="#mydata"><B>3.1 Plot my own data?</B></A>
	<LI> <A HREF="#binarydata"><B>3.2 How do I plot binary data?</B></A>
	<LI> <A HREF="#endian"><B>3.3 How do I handle endian issues in binary data?</B></A>
	<LI> <A HREF="#appletprinting"><B>3.4 How do I print a plot from a Plot applet?</B></A>
	<LI> <A HREF="#twofiles"><B>3.5 How do I plot two datafiles in an applet?</B></A>
	<LI> <A HREF="#simpleapp"><B>3.6 How do I create a simple standalone Plot application?</B></A>
	</MENU>

</MENU>
<HR>

<H2><A NAME="ptplot faq: general questions"><B>1. General</B></A></H2>

<DL>
<DT> <A NAME="ptplot description (short)"><B>1.1 What Is Ptplot?</B></A>
<DD> Ptplot is a Java 2-D graphing component.  Ptplot can be used
in applets and applications.  The
<A HREF="../../index.html">top-level Ptplot page</A> describes Ptplot
further.

<DT> <A NAME="ptplot pronunciation"><B>1.2 How do I pronounce 'ptplot'?</B></A>
<DD> pee-tee-plot.  Unlike with Ptolemy, the initial p in the pt is pronounced.

<DT> <A NAME="ptplot copyright"><B>1.3 What is the copyright?</B></A>
<DD> Ptplot is released under the fairly liberal UC Berkeley copyright.
Most files have the copyright at the top, for example, see
<A HREF="../../Plot.java"><CODE>Plot.java</CODE></A>

<DT> <A NAME="contact"><B>1.4 How do I contact the authors?</B></A>
<DD> The primary author of Ptplot is Professor Edward A. Lee.
Christopher Hylands is a coauthor.  William Wu contributed code.
You can contact the authors via
<A HREF="mailto:ptplot@ptolemy.eecs.berkeley.edu"><CODE>ptplot@ptolemy.eecs.berkeley.edu</CODE></A>

<DT> <A NAME="mailing list"><B>1.5 Is there a mailing list?</B></A>
<DD> We maintain the <CODE>ptplot-announce</CODE> alias for announcing
new ptplot releases.  This alias is for Ptplot announcements only.  Thus,
you cannot post to this group.  To subscribe to this group,
send email to <A HREF="mailto:ptplot-announce-request@ptolemy.eecs.berkeley.edu"><CODE>ptplot-announce-request@ptolemy.eecs.berkeley.edu</CODE></A>
with the word <CODE>subscribe</CODE> in the body, not the header.

<DT> <A NAME="xgraph"><B>1.6 What is the relationship between xgraph and ptplot?</B></A>
<DD> The introduction contains a <A HREF="../../index.html#xgraph">description</A> of the relationship between <CODE>xgraph</CODE> and ptplot.
 <br> Note that you can download sources and binaries for <CODE>pxgraph</CODE>, an extension to <CODE>xgraph</CODE> from
<A HREF="ftp://ptolemy.eecs.berkeley.edu/pub/misc/pxgraph/index.html"><CODE>ftp://ptolemy.eecs.berkeley.edu/pub/misc/pxgraph/index.html</CODE></A>
 <br> Note that if you type a <CODE>x</CODE> while the mouse is
over the Java <CODE>pxgraph</CODE> application window, and
the X11 version of <CODE>pxgraph</CODE> is installed
as <CODE>pxgraph.x11</CODE>, then <CODE>pxgraph.x11</CODE> will
be started up with the same command line arguments that you called
the Java <CODE>pxgraph</CODE> with.  This is one way of using
the Java version most of the time, but still having access to the
MIF output facilities in the X11 version.

</DL>
 <HR>

<H2><A NAME="ptplot faq: installation"><B>2. Installation questions</B></A></H2>
<DL>

<DT> <A NAME="downloading Ptplot"><B>2.1 How do I download Ptplot?</B></A>
<DD> <A HREF="http://ptolemy.eecs.berkeley.edu/java/ptplot/index.html"><CODE>http://ptolemy.eecs.berkeley.edu/java/ptplot.html</CODE></A> has links
to the tar and zip files.

<DT> <A NAME="platforms that Ptplot runs under"><B>2.2 What platforms does Ptplot run under?</B></A>
<DD> Ptplot was develop under JDK1.1.4.  The only part of Ptplot
that requires JDK1.1 is the printing method in the Pxgraph class and
the Message class, which is used by the Pxgraph class for the 'About' window.
The rest of the code should compile under JDK1.0.2.  The code contains
comments that indicate the various 1.0.2/1.1 compatibility issues.
 <br> Everything else compiles under JDK1.0.2.  The ptplot.zip file we
supply was built with JDK1.0.2.  We chose to do this so that we could
support Netscape3.x.  The next release might only support JDK1.1 and
later.

<DT> <A NAME="ptplot installation, what do I need"><B>2.3 What do I need to Install Ptplot?</B></A>
<DD>
To use Ptplot, you will need the Java Development kit (JDK), which
can be downloaded from
<A HREF="http://www.javasoft.com"><CODE>http://www.javasoft.com</CODE></A>.
The <A HREF="../codeDoc/ptplot.Pxgraph.html#Installation Instructions">Pxgraph documentation</A> contains further installation instructions.
 <P>You can also run Ptplot as an applet in your local browser.


<DT> <A NAME="ptplot troubleshooting overview"><B>2.4 Troubleshooting</B></A>
<DD> The <A HREF="troubleshooting.html">Ptplot Troubleshooting</A> guide
has a few hints.

 <P>You might find useful information on the Ptplot homepage at
<A HREF="http://ptolemy.eecs.berkeley.edu/java/ptplot"><CODE>http://ptolemy.eecs.berkeley.edu/java/ptplot</CODE></A>.

 <P>If you are really stumped, you can send mail to <A
HREF="mailto:cxh@eecs.berkeley.edu"><CODE>cxh@eecs.berkeley.edu</CODE></A>.
Your mail should include:
<OL>
<LI> What version of Ptplot you are running.
<LI> What platform you are running under (Solaris, Windows etc.)
<LI> Exactly how to reproduce the bug.
</OL>
<DT> <A NAME="ptplot bug list"><B>2.5 Is there a bug list?</B></A>
<DD>
<MENU>
 <LI>Most of the known bugs and limitations are listed in the
<A HREF="../codeDoc/ptplot.Plot.java#ptplot limitations">javadoc Plot documentation</A>
 <LI>The Todo list is at the top of the
<A HREF="../../Plot.java"><CODE>Plot.java</CODE></A> file.
</MENU>

</DL>

 <HR>
<H2><A NAME="ptplot faq: How do I  . . .">3. How do I  . . .</A>
</H2>

<DL>
<DT> <A NAME="mydata"><B>3.1 How do I plot my own data?</B></A>
<DD>
There are several ways to plot data using ptplot.

 <P>One is to create a datafile that consists of datasets and x,y pairs
See:
<A HREF="../../demo/bargraph.plt"><CODE>demo/bargraph.plt</CODE></A>

 <P>Binary data files are also supported, see
<A HREF="#binarydata"><B>3.2 How do I plot binary data?</B></A>

 <P>Another ways it to call <CODE>plot().addPoint</CODE>.
The <A HREF="../../demo/FourierSeries.html">Fourier Series demo</A>
uses this method.

The PlotFourierSeries class at
<A HREF="../../demo/PlotFourierSeries.java"><CODE>demo/PlotFourierSeries.java</CODE></A> is what actually does the plotting.

 <P> You can also plot data dynamically by creating a class that has a
<CODE>addPoints()</CODE> method which gets called by the PlotLive class.

The
<A HREF="../../demo/Live.html"><CODE>demo/Live.html</CODE></A> demo
illustrates live plotting.
The PlotLiveDemo class at
<A HREF="../../demo/PlotLiveDemo.java"><CODE>demo/PlotLiveDemo.java</CODE></A>
is what actually does the plotting.

<DT> <A NAME="binarydata"><B>3.2 How do I plot binary data?</B></A>
<DD>Ptplot can plot binary datafiles.
Ptplot 1.1 and earlier can plot data in the format that
was originally created by Joe Buck for the X11 <CODE>pxgraph</CODE> program.
For details on the format.  Ptplot 1.2 and later can also
plot data that consists of raw 4 byte floats.
For more information, see the description of the
<CODE>-binary</CODE> option in
<A HREF="../../Pxgraph.java"><CODE>Pxgraph.java</CODE></A>.  You might
find the
<A HREF="../codeDoc/ptplot.Pxgraph.html#-binary flag">javadoc Pxgraph documentation</A>
easier to read.

<DT> <A NAME="endian"><B>3.3 How do I handle endian issues in binary data?</B></A>
<DD> Binary data is encoded in different ways on different platforms
<menu>
<li> Big-endian - SPARCs and the network in general use this format.
<li> Little-endian - Intel x86 chips use this format.
</menu>
Problems can occur when you try to read a binary format file on a
machine other than the machine it was created on.  <CODE>pxgraph</CODE>
and the <CODE>pxgraphargs</CODE> applet parameter take the
following arguments:
<menu>
<li> <CODE>-binary</CODE> - use the endian format of the machine
that the Java virtual machine is running on.

<li> <CODE>-bigendian</CODE> - the file is in big-endian format,
convert it if the Java virtual machine is running on a little-endian machine.

<li> <CODE>-littleendian</CODE> - the file is in little-endian format,
convert it if the Java virtual machine is running on a big-endian machine.

</menu>

See the <a href="../../demo/Endian.html">Endian Examples</a> for
example that use the above flags.

The
<a href="http://www.afu.com/javafaq.html">Java Programmer's FAQ</a>
has more information about endian issues.
<DT>  <A NAME="appletprinting"><B>3.3 How do I print a plot from a Plot applet?</B></A>
<DD> Unfortunately, most browsers cannot print applets.  There are
work arounds, but in general, it is hard, and involves security
violations.

<A HREF="http://www.best.com/~pvdl/javafaq.html"><CODE>http://www.best.com/~pvdl/javafaq.html</CODE></A> says:

<BLOCKQUOTE>
4.1.11 How do I print a page with an applet?

 <P>A. Browsers are starting to introduce support for this. Until they all
have it, your best bet is to print a screendump.  Using the browser to
print the page may leave a blank where the applet is.  Putting print
support in the applet will print the applet only, not the rest of the
browser page.
</BLOCKQUOTE>

Sun's
<A HREF="http://java.sun.com/products/hotjava/index.html">HotJava</A>
browser can be used to print pages that contain applets.  However, it
seems like the Windows version sometimes crashes when printing.  The Solaris
version of HotJava1.1 works fine.

 <P>For more information about printing, join the JavaSoft Developer
Connection (it is free) and search for printing.

 <P>Note that printing is supported from standalone Pxgraph applications in
the Pxgraph class.  Note that printing in the Pxgraph class requires
JDK1.1 and later.

 <P>The
<A HREF="../../ptplot2mif.tcl"><CODE>ptplot2mif.tcl</CODE></A> Tcl
script can be used to convert the PostScript output of the Pxgraph
application to Framemaker MIF format.  This script requires Tcl and
probably works only with the Sun Solaris JDK.  To create a MIF file,
use the <CODE>pxgraph</CODE> script to display your data, print to file,
then run <CODE>ptplot2mif.tcl</CODE> on your file

 <P>You might want to use the <CODE>-print</CODE> option to bring up
the print window immediately and the <CODE>-o</CODE> option to specify
an output file for the PostScript.  Below is an example:
<PRE>
pxgraph -print -o /tmp/data.ps demo/data.plt
ptplot2mif.tcl /tmp/data.ps &gt; /tmp/data.mif
</PRE>
Note that you can also bring up the X11 pxgraph version from
after starting the Java version by typing an <CODE>x</CODE>.
For more information, see
<A HREF="#xgraph"><B>1.6 What is the relationship between xgraph and ptplot?</B></A>.
 <p>To generate a GIF image, you might try first generating PostScript
and then using <CODE>pstogif</CODE>, which is part of Ghostview, available
at
<a href="http://www.cs.wisc.edu/~ghost"><CODE>http://www.cs.wisc.edu/~ghost/</CODE></a>.  Below is an example:
<pre>
pxgraph -print -o /tmp/data.ps demo/data.plt
pstogif /tmp/data.ps
</pre>

<DT>  <A NAME="twofiles"><B>3.5 How do I plot two datafiles in an applet? </B></A>
<DD>The <CODE>pxgraphargs</CODE> applet parameter can be used to pass
more than one file to the plotter.  The <CODE>pxgraphargs</CODE> parameter
can also pass <CODE>pxgraph</CODE> command line arguments.
For example, the HTML below would plot two datafiles at once.  The title
of the plot would be <CODE>Two datafiles</CODE>.
<PRE>
&lt;APPLET name="twofiles" CODE="pt.plot.PlotApplet" Height=400 Width=400
    codebase="../../.."
    archive="pt/plot/ptplot.zip"
    alt="If you had a java-enabled browser, you would see an applet here."
&gt;
&lt;param name="pxgraphargs" value="-t 'Two datafiles' file1.plt file2.plt"&gt;
   &lt;hr&gt;If your browser recognized the applet tag,
    you would see an applet here.&lt;hr&gt;
&lt;/APPLET&gt;
</PRE>

<DL>  <A NAME="simpleapp"><B>3.6 How do I create a simple standalone Plot application?</B></A>
<dd> <A HREF="../../Pxgraph.java"><CODE>Pxgraph.java</CODE></A>
 is a standalone application that uses the Plot class.
Pxgraph.java is fairly large, but most of the code is for argument
parsing and backward compatibility with an older program.
Most of the real work is done in the <CODE>Pxgraph</CODE> constructor
and in <CODE>main()</CODE>.

 <p><a href="PlotApplication.java"><CODE>PlotApplication.java</CODE></a>
is a simple standalone Java application that uses the Plot class.
 <p>Here's how to compile and run it
<ol>
<li> Change to the <CODE>ptplot</CODE> directory:
<pre>
cd ptplot
</pre>

<li> Copy the Java code to the <CODE>ptplot</CODE> directory:
<pre>
cp doc/internals/PlotApplication.java .
</pre>

<li> Set your <CODE>CLASSPATH</CODE> to point to two directories
above the ptplot directory:
<pre>
setenv CLASSPATH ../..
</pre>
Note that you might want to use an absolute path for your
<CODE>CLASSPATH</CODE> if you plan on using <CODE>PlotApplication</CODE>
from any directory.  Note further that setting your <CODE>CLASSPATH</CODE>
in your environment is bound to cause problems with other applications, such
as Netscape.  In general it is best to have a shell script that
sets the <CODE>CLASSPATH</CODE> appropriately for each Java application.
 <p>
<li> Compile the Java class:
<pre>
javac PlotApplication.java
</pre>

<li> Run the class with a sample datafile:
<pre>
java pt.plot.PlotApplication demo/data.plt
</pre>
</ol>
</DL>

<p>
<HR>
<a href="index.html">Ptplot infrastructure</a><br>
<p>
<HR>
Copyright &#169 1997-, The Regents of the University of California.
All rights reserved.
<br>
Last updated: $Date$,
comments to: <author>cxh@eecs.berkeley.edu</author>
</body>
</html>
