\documentclass[11pt]{article}
\usepackage{times}
\usepackage{ifthen}
\usepackage[dvips]{graphics}
\usepackage[dvips]{color}
\usepackage{epsfig}
%\usepackage{subfigure}
\usepackage[dvips,colorlinks,bookmarks,pdfpagemode=UseOutlines,linkcolor=blue,pagecolor=blue,urlcolor=blue,letterpaper]{hyperref}
\begin{document}
\input{definitions}

\title{Technical Specification for Soft Walls -
Flight Control Systems to Limit the Flight Space of Commercial Aircraft}
\author{Edward A. Lee, Xiaojun Liu, and J. Adam Cataldo\\
eal@eecs.berkeley.edu, liuxj@eecs.berkeley.edu, acataldo@eecs.berkeley.edu\\
Electrical Engineering \& Computer Science\\
University of California, Berkeley}
\date{6 February 2002}

\maketitle

\section{Introduction}

See the companion document that discusses the issue.

\section{Two-Dimensional Model}

\subsection{Two-Dimensional Aircraft Model}

We consider first a two-dimensional model that addresses
control of the heading of an aircraft.
Let the position of the aircraft be a function
\[
p \colon \rr \to \rr ^2
\]
where the domain is
time (the reals) and the range is the position of the aircraft
in two-dimensional space.
Let $\dot{p}$ denote the derivative with respect to time (the
velocity) and $\ddot{p}$ the second derivative with respect to time (the
acceleration). Let $p_x$ denote the position in the $x$ direction (east-west,
increasing to the east), and let $p_y$ denote the position in the $y$ direction
(north-south, increasing to the north). Similarly, $\dot{p_x}$ and $\ddot{p_x}$
denote the speed and acceleration in the $x$ direction (east).

Let the speed $s$ of the aircraft be given by
\[
\forall ~ t \in \rr, \quad
s(t) = |\dot{p}(t)| .
\]
Let
\[
\theta \colon \rr \to [-\pi, \pi)
\]
be the heading of the aircraft, where 0 is due east, so that
\[
\forall ~ t \in \rr, \quad
\dot{p} (t) = (s(t) \cos(\theta (t)), s(t) \sin(\theta(t))) .
\]

Assume that under normal circumstances, the pilot controls the rate of
change of heading, $\dot{\theta}$, through a combination of differential
thrust on the engines and movement of the rudder and other control
surfaces. Moreover, the pilot controls the speed via overall thrust
(and vertical movement, which we are not yet considering).
Thus, the inputs to the aircraft model are $\dot{\theta}$ and $s$.

\begin{figure}[btp]
\centering
\includegraphics[width=5in]{fig2Daircraft.eps}
\figcaption{Two dimensional aircraft model.
\label{fig2Daircraft}}
\end{figure}

The two dimensional model for the aircraft is shown in figure
\ref{fig2Daircraft}.

\subsection{Turn Radius}

Assume the speed is a constant $s$, so the pilot controls only heading.
Then the turning radius is
\[
r = s/\dot{\theta} .
\]
To see this, assume the rate of change of heading is a constant,
$\dot{\theta} = \alpha$. Assume that $\alpha$ is given in radians/second and
$s$ in meters per second.  It takes $\tau = 2 \pi /\alpha$ seconds
to complete one circle.  Upon completing the circle, the aircraft
will have covered a distance of $s\tau = 2 \pi s/\alpha$ meters.
Since the radius of a circle times $2 \pi$ is its circumference,
the result follows.

The rate of change of heading as a function of speed and steering
angle is
\[
\dot{\theta} = s/r.
\]
If we assume that the minimum safe turning radius is $r_{min}$, then
the control signal $\dot{\theta}$ must be kept in the range
$[-s/r_{min}, s/r_{min}]$.

For example, if we assume an aircraft traveling at
\[
s = 500~ kilometers/hour
\]
or about 139 meters/second, and we assume the aircraft has a minimum
safe turning radius of $r_{min} = 1000$
meters, then $\dot{\theta}$ must be constrained
to lie in the range $[-0.139, 0.139]$ radians per second.

\subsection{Blending Controller}

Let the pilot's control be $\dot{\theta}_p$ and the control signal
generated by the softwalls system be $\dot{\theta}_s$.
We take the rate of change of heading of the aircraft to
be
\[
\dot{\theta} = \set{limit}_{[-s/r_{min}, s/r_{min}]}
(\dot{\theta}_p - \dot{\theta}_s ),
\]
where $\set{limit}_{[a,b]}$ is a function
\[
\set{limit}_{[a,b]} \colon \rr \to [a, b]
\]
where
\[
\forall ~ u \in \rr, \quad
\set{limit}_{[a,b]}(u) = \left \{
\begin{array}{ll}
b&\mbox{ if } u > b\\
a&\mbox{ if } u < a\\
u&\mbox{ otherwise }
\end{array}
\right .
\]
This strategy for blending the softwalls controller and the
pilot's control ensures that while the control parameter is within
safe limits, the responsivity of the aircraft to the pilot
commands remains normal.
That is, the pilot's control signal is not attenuated.

\subsection{Softwall Control Signal}

Assume a single, flat soft wall with thickness $d_s$.
The \textit{inner boundary} delineates the no-fly zone.
The \textit{outer boundary} delineates the region where the
softwall controller starts to have some effect.
The thickness $d_s$ is the distance between these two boundaries.
Let the distance of the aircraft from the inner boundary of
the soft wall be given by
\[
d \colon \rr \to \rr .
\]
Define the \textit{criticality} to be
\[
c = \set{limit}_{[0,1]}(1 - {{d - r_{min}}\over{d_s - r_{min}}}) .
\]
If the aircraft is further than $d_s$ from the inner boundary of the
softwall, then $c = 0$, indicating that no corrective action is necessary.
If the aircraft is closer than $r_{min}$ to the inner boundary of the softwall,
then $c = 1$, indicating that maximum corrective action is necessary.
If the aircraft is in between these two boundaries, then the criticality
is between 0 and 1.

Let the angle of approach of the aircraft from the soft wall be given by
\[
\phi \colon \rr \to [-\pi, \pi].
\]
We set the corrective control signal to
\[
\dot{\theta}_s = \left \{
\begin{array}{ll}
2 \sin(\phi) c s/r_{min}& \mbox{ if } 0 < \phi < \pi\\
0 & \mbox{ otherwise}
\end{array}
\right .
\]
This results in zero corrective control if the aircraft is moving
away from the wall or parallel to the wall, and maximum corrective
control if the aircraft is approaching head on.  The single point
of maximum corrective control is when the aircraft is approaching
the wall head on and has distance $r_{min}$ from the inner boundary.
At this point, the corrective control is twice that required to
execute a minimum radius turn.  It is twice that control so that
when added to the pilot's control we are assured of having
the maximum turning control, even if the pilot is maximally
uncooperative in attempting to counteract the control.

\section{Control Model Failure}

We were able to develop a malicious pilot strategy that, even with the control scheme of Section 2, can fly the plane into the no-fly zone.  This section explains this strategy.

\subsection{Resistant Pilot}

The resistant pilot is initially heading towards the no fly zone, so the iinitial $\dot{\theta_{p}}$ is $0$.  That is, the pilot intends to maintain forward motion and crash into the wall.  

Since, before saturation, the input control is $\dot{\theta} = \dot{\theta_{p}} - \dot{\theta_{s}}$, the pilot will try to counteract the control signal by chosing $\dot{\theta_{p}} = \dot{\theta_{s}}$.  In a cockpit, the pilot would be physically limited by a maximum $\dot{\theta_{p}}$,  so the pilot uses
\[
\dot{theta_{p}} = \set{limit}_{[-s/r_{min},s/r_{min}]}(\dot{\theta_{s}})
\]
Here the limit values are chosen for a pilot that would never move the plane in an unsafe position.  In practice the limit points could be larger.

\subsection{Boundary Penetration}

The resistant pilot succeeds in penetrating the no-fly zone boundray.  Even though the plane's trajectory is changed, the $\sin{\phi}$ factor in the corrective control signal dampens the strength of the softwalls control signal, such that the pilot can fly into the softwall at a  $pi/6$ angle from the wall.

If the $\sin{\phi}$ factor is removed from the control signal, this problem disapears.  That is,
\[
\dot{\theta}_s = \left \{
\begin{array}{ll}
2 c s/r_{min}& \mbox{ if } 0 < \phi < \pi\\
0 & \mbox{ otherwise}
\end{array}
\right .
\]
This control scheme is more restrictive however, because a plane cannot stay in the softwall.  Any pilot between the inner and outer boundary will eventually be forced outside the outer boundary.

\end{document}






